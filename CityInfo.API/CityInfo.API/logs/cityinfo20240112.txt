2024-01-12 10:44:03.043 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:44:03.375 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:44:03.742 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:44:29.224 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:44:29.565 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:44:29.577 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:44:29.615 +06:00 [DBG] Created DbConnection. (36ms).
2024-01-12 10:44:29.618 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.627 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.801 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.805 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:44:29.809 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 10:44:29.811 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (8ms).
2024-01-12 10:44:29.814 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:44:29.829 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:44:29.830 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.834 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:44:29.835 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:44:29.835 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:44:29.835 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:44:29.835 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.836 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.836 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:44:29.856 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:44:29.856 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.856 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:44:29.857 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.857 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.857 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:44:29.857 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:29.857 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:29.857 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:44:29.858 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:44:29.858 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.858 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:44:29.858 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:44:29.858 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:44:29.858 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:44:29.858 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.858 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.859 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:44:29.860 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:44:29.860 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.860 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:44:29.870 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.870 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.870 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:44:29.870 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:44:29.870 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:44:29.870 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:44:29.899 +06:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:44:29.901 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.902 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:44:29.902 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.902 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:44:29.908 +06:00 [INF] Applying migration '20240112044403_v3'.
2024-01-12 10:44:29.928 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.929 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:29.930 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-12 10:44:29.934 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-12 10:44:29.934 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:44:29.935 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:29.982 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (47ms).
2024-01-12 10:44:29.982 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [userId] int NOT NULL DEFAULT 0;
2024-01-12 10:44:30.000 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [userId] int NOT NULL DEFAULT 0;
2024-01-12 10:44:30.000 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:44:30.000 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.000 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.000 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD [userId] int NOT NULL DEFAULT 0;
2024-01-12 10:44:30.005 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD [userId] int NOT NULL DEFAULT 0;
2024-01-12 10:44:30.005 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:44:30.005 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.005 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.005 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 10:44:30.019 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 10:44:30.020 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:44:30.020 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.020 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.020 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 10:44:30.026 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 10:44:30.026 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:44:30.026 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.026 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:44:30.026 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 10:44:30.043 +06:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 10:44:30.044 +06:00 [DBG] Disposing transaction.
2024-01-12 10:44:30.044 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:30.045 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:44:30.045 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:44:30.046 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:44:30.047 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 10:49:44.696 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 10:49:44.795 +06:00 [DBG] Hosting starting
2024-01-12 10:49:44.971 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 10:49:44.973 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 10:49:44.974 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 10:49:44.976 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 10:49:44.977 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 10:49:44.979 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 10:49:44.980 +06:00 [INF] Hosting environment: Development
2024-01-12 10:49:44.982 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 10:49:44.983 +06:00 [DBG] Hosting started
2024-01-12 10:50:18.216 +06:00 [DBG] Connection id "0HN0J57SPPI6L" accepted.
2024-01-12 10:50:18.220 +06:00 [DBG] Connection id "0HN0J57SPPI6L" started.
2024-01-12 10:50:18.273 +06:00 [DBG] Connection 0HN0J57SPPI6L established using the following protocol: "Tls13"
2024-01-12 10:50:18.311 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:50:18.311 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-12 10:50:18.321 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 10:50:18.321 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 10:50:18.333 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:50:18.333 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:50:18.335 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:50:18.336 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:50:18.337 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:50:18.338 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:50:18.355 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-12 10:50:18.355 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:50:18.359 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 10:50:18.359 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:50:18.360 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 10:50:18.364 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:50:18.366 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:50:18.369 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:50:18.369 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:50:18.389 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:50:18.389 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:50:18.393 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:50:18.393 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:50:18.397 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:50:18.398 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:50:18.400 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:50:18.402 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:50:18.404 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:50:18.406 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:50:18.407 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:50:18.409 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:50:18.413 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:50:18.414 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:50:18.493 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:50:18.493 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:50:18.576 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:50:18.576 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:50:18.917 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:50:18.917 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:50:18.965 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 10:50:18.965 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-12 10:50:19.092 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 10:50:19.092 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 10:50:19.113 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:50:19.113 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:50:19.127 +06:00 [DBG] Created DbConnection. (11ms).
2024-01-12 10:50:19.127 +06:00 [DBG] Created DbConnection. (11ms).
2024-01-12 10:50:19.132 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.132 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.365 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.369 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.372 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:50:19.372 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:50:19.378 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-12 10:50:19.378 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:50:19.381 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-12 10:50:19.381 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-12 10:50:19.387 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 10:50:19.387 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:50:19.427 +06:00 [ERR] Failed executing DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 10:50:19.427 +06:00 [ERR] Failed executing DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:50:19.436 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.437 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.445 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-12 10:50:19.445 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 10:50:19.469 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
2024-01-12 10:50:19.469 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:cd4dc954-4e0a-4490-83f1-10d165209516
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:cd4dc954-4e0a-4490-83f1-10d165209516
Error Number:207,State:1,Class:16
2024-01-12 10:50:19.575 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1126.2431ms
2024-01-12 10:50:19.576 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 1167.6463ms
2024-01-12 10:50:19.593 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:50:19.593 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:50:19.598 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method9(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
2024-01-12 10:50:19.598 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointsOfInterestAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 22
   at CityInfo.API.Controllers.CitiesController.GetPointsOfInterest() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 139
   at lambda_method10(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:cd4dc954-4e0a-4490-83f1-10d165209516
Error Number:207,State:1,Class:16
2024-01-12 10:50:19.636 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:50:19.640 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:50:19.641 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.643 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:19.645 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-12 10:50:19.646 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 10:50:19.648 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 1342.8542ms
2024-01-12 10:50:19.649 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 500 null text/plain; charset=utf-8 1344.5251ms
2024-01-12 10:50:23.525 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:50:23.529 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:50:23.531 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:50:23.532 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:50:23.534 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:50:23.535 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:50:23.537 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:50:23.540 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:50:23.542 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:50:23.545 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:50:23.548 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:50:23.550 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:50:23.553 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:50:23.554 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:50:23.556 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:50:23.559 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:50:23.605 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:50:23.612 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:50:23.614 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:50:23.616 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:23.618 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:23.620 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:50:23.621 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:50:23.622 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:50:23.624 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:50:23.630 +06:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:50:23.632 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:23.634 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:50:23.636 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
2024-01-12 10:50:23.691 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 134.8118ms
2024-01-12 10:50:23.693 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:50:23.695 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method9(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
2024-01-12 10:50:23.708 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:50:23.710 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:50:23.711 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:50:23.713 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 189.0452ms
2024-01-12 10:51:57.344 +06:00 [DBG] Connection id "0HN0J57SPPI6M" accepted.
2024-01-12 10:51:57.360 +06:00 [DBG] Connection id "0HN0J57SPPI6M" started.
2024-01-12 10:51:57.381 +06:00 [DBG] Connection 0HN0J57SPPI6M established using the following protocol: "Tls13"
2024-01-12 10:51:57.400 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 10:51:57.710 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 10:51:57.744 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 10:51:57.748 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 349.5459ms
2024-01-12 10:51:57.776 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 10:51:57.779 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 10:51:57.797 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 21.107ms
2024-01-12 10:51:57.855 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 76.2018ms
2024-01-12 10:51:57.926 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 10:51:58.111 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 185.4249ms
2024-01-12 10:52:07.990 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/33 - null null
2024-01-12 10:52:07.997 +06:00 [DBG] DELETE requests are not supported
2024-01-12 10:52:07.999 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 10:52:08.001 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:52:08.002 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/33'
2024-01-12 10:52:08.005 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/33'
2024-01-12 10:52:08.008 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:52:08.010 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:52:08.028 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:52:08.032 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:52:08.035 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:52:08.037 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:52:08.040 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:52:08.043 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:52:08.046 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:52:08.048 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:52:08.055 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:52:08.059 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:52:08.063 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:52:08.065 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:52:08.068 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:52:08.072 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:52:08.081 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:52:08.094 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-12 10:52:08.125 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 10:52:08.156 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:52:08.159 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-12 10:52:08.162 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.164 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.166 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:52:08.169 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:52:08.178 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-01-12 10:52:08.184 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:52:08.226 +06:00 [INF] Executed DbCommand (45ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:52:08.247 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.253 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 22ms reading results.
2024-01-12 10:52:08.256 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.258 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:52:08.266 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-12 10:52:08.277 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 10:52:08.281 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.283 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.285 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:52:08.287 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:52:08.289 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 10:52:08.291 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:52:08.296 +06:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:52:08.301 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.303 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:52:08.309 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
2024-01-12 10:52:08.373 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 327.7551ms
2024-01-12 10:52:08.377 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:52:08.379 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCityAsync(Int32 cityId, Boolean includePointsOfInterest) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 34
   at CityInfo.API.Controllers.CitiesController.DeleteCity(Int32 cityId) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 121
   at lambda_method32(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:0e7598a5-21aa-4534-a90d-84e9ea41d620
Error Number:207,State:1,Class:16
2024-01-12 10:52:08.399 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:52:08.400 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:52:08.402 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:52:08.403 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/33 - 500 null text/plain; charset=utf-8 414.1393ms
2024-01-12 10:53:31.747 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:53:32.023 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:53:32.234 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:53:32.251 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-12 10:53:32.254 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.365 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.368 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:53:32.370 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 10:53:32.371 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 10:53:32.374 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:53:32.386 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:53:32.387 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.391 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:53:32.392 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:53:32.392 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:53:32.392 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:53:32.392 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.392 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.393 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:53:32.401 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:53:32.401 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.401 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:53:32.408 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.408 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.408 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:53:32.408 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:53:32.408 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:53:32.408 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:53:32.414 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:53:32.415 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.415 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:53:32.415 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.415 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:53:32.442 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:53:32.443 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:53:32.443 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 10:54:07.218 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:54:07.531 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:54:07.542 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:54:07.562 +06:00 [DBG] Created DbConnection. (18ms).
2024-01-12 10:54:07.564 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.567 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.669 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.671 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:54:07.674 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 10:54:07.675 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 10:54:07.678 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:54:07.691 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:54:07.692 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.695 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:54:07.697 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:54:07.697 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:54:07.697 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:54:07.697 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.697 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.698 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:54:07.705 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:54:07.705 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.705 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:54:07.706 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.706 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.706 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:54:07.706 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:54:07.706 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:54:07.706 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:54:07.707 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:54:07.707 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.707 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:54:07.707 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:54:07.707 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:54:07.707 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:54:07.707 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.707 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.707 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:54:07.708 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:54:07.708 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.708 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:54:07.717 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.718 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.718 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:54:07.718 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:54:07.718 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:54:07.718 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:54:07.719 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:54:07.720 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.721 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:54:07.721 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.721 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:54:07.725 +06:00 [INF] No migrations were applied. The database is already up to date.
2024-01-12 10:54:07.726 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:54:07.727 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:54:07.728 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 10:54:51.527 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 10:54:51.598 +06:00 [DBG] Hosting starting
2024-01-12 10:54:51.705 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 10:54:51.706 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 10:54:51.707 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 10:54:51.708 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 10:54:51.709 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 10:54:51.711 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 10:54:51.712 +06:00 [INF] Hosting environment: Development
2024-01-12 10:54:51.713 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 10:54:51.714 +06:00 [DBG] Hosting started
2024-01-12 10:55:03.536 +06:00 [DBG] Connection id "0HN0J5AHQQB9T" accepted.
2024-01-12 10:55:03.541 +06:00 [DBG] Connection id "0HN0J5AHQQB9T" started.
2024-01-12 10:55:03.620 +06:00 [DBG] Connection 0HN0J5AHQQB9T established using the following protocol: "Tls13"
2024-01-12 10:55:03.673 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:55:03.686 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 10:55:03.706 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:55:03.712 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:55:03.714 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:55:03.742 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:55:03.746 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:55:03.752 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:03.757 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:03.780 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:55:03.786 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:55:03.787 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:55:03.789 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:55:03.791 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:55:03.792 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:55:03.795 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:03.920 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:55:04.127 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:04.275 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:55:04.287 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:55:04.289 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:55:04.291 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:55:04.295 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:55:04.296 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:55:04.298 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:04.300 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:04.302 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:55:04.305 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:55:04.308 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:55:04.310 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:55:04.314 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:55:04.316 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:55:04.318 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:04.321 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:04.851 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:55:04.860 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:55:04.862 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:55:04.864 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:55:04.865 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:55:04.866 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:55:04.868 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:04.871 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:04.872 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:55:04.876 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:55:04.879 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:55:04.880 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:55:04.882 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:55:04.884 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:55:04.886 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:04.891 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:04.926 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:04.926 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:04.926 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:05.001 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 10:55:05.281 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 10:55:05.324 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:05.324 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:05.324 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:05.351 +06:00 [DBG] Created DbConnection. (25ms).
2024-01-12 10:55:05.352 +06:00 [DBG] Created DbConnection. (30ms).
2024-01-12 10:55:05.353 +06:00 [DBG] Created DbConnection. (31ms).
2024-01-12 10:55:05.360 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.360 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.360 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.741 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.743 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.751 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.755 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-12 10:55:05.755 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:05.755 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:05.762 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:05.765 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:55:05.769 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:55:05.771 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:55:05.772 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-12 10:55:05.773 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-12 10:55:05.773 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2024-01-12 10:55:05.773 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2024-01-12 10:55:05.774 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 10:55:05.777 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-01-12 10:55:05.777 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-01-12 10:55:05.778 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2024-01-12 10:55:05.780 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 10:55:05.787 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:55:05.788 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:55:05.790 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:05.790 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:05.790 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:05.795 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:55:05.799 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:55:05.801 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:55:05.802 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:55:05.804 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:55:05.806 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:55:05.808 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:05.810 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:05.852 +06:00 [ERR] Failed executing DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:05.852 +06:00 [ERR] Failed executing DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:05.852 +06:00 [ERR] Failed executing DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:05.861 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.861 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.864 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.880 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (13ms).
2024-01-12 10:55:05.880 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (8ms).
2024-01-12 10:55:05.880 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (12ms).
2024-01-12 10:55:05.882 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:05.894 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-12 10:55:05.909 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 10:55:05.913 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:05.915 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:55:05.918 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.922 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:05.922 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:05.922 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ae2c14c7-7220-4270-ac05-17599851633b
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:ae2c14c7-7220-4270-ac05-17599851633b
Error Number:207,State:1,Class:16
2024-01-12 10:55:05.924 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:05.922 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2f4010ce-c3ca-45a6-a6b7-254e9d1981a6
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2f4010ce-c3ca-45a6-a6b7-254e9d1981a6
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.000 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2024-01-12 10:55:06.053 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1735.2391ms
2024-01-12 10:55:06.064 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (139ms).
2024-01-12 10:55:06.036 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1109.0145ms
2024-01-12 10:55:06.132 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2337.948ms
2024-01-12 10:55:06.134 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:06.134 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 10:55:06.137 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:06.139 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:06.148 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:ae2c14c7-7220-4270-ac05-17599851633b
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.148 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.149 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:2f4010ce-c3ca-45a6-a6b7-254e9d1981a6
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.200 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:06.155 +06:00 [ERR] Failed executing DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 10:55:06.214 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.216 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:55:06.216 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:06.217 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:55:06.218 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.220 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.219 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:55:06.218 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:06.224 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.227 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-01-12 10:55:06.227 +06:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-01-12 10:55:06.275 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 1396.6946ms
2024-01-12 10:55:06.227 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:55:06.228 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.293 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 485.464ms
2024-01-12 10:55:06.293 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 2018.6433ms
2024-01-12 10:55:06.302 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:55:06.305 +06:00 [DBG] Disposed connection to database '' on server '' (76ms).
2024-01-12 10:55:06.309 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:55:06.315 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:55:06.318 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 2651.9832ms
2024-01-12 10:55:06.321 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetPointsOfInterestAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 22
   at CityInfo.API.Controllers.CitiesController.GetPointsOfInterest() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 139
   at lambda_method19(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.322 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:55:06.360 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:06.361 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:06.363 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:55:06.365 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:06.366 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:55:06.367 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.369 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:55:06.371 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 10:55:06.373 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:55:06.377 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 500 null text/plain; charset=utf-8 622.1383ms
2024-01-12 10:55:06.381 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:55:06.392 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:55:06.396 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:06.398 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:06.403 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:06.408 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:06.410 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:55:06.412 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.435 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.439 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:06.441 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:55:06.445 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-12 10:55:06.448 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:06.459 +06:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:06.465 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.467 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:55:06.471 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.553 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 157.5025ms
2024-01-12 10:55:06.555 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:06.560 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:06.589 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:06.593 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:06.596 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 10:55:06.600 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 384.3704ms
2024-01-12 10:55:07.391 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:55:07.396 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:55:07.399 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:55:07.400 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:55:07.402 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:55:07.404 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:55:07.407 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:07.409 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:07.411 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:55:07.415 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:55:07.418 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:55:07.422 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:55:07.426 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:55:07.428 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:55:07.431 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:07.433 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:07.438 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:07.442 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:07.443 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:55:07.445 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:07.446 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:07.448 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:07.450 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:55:07.453 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:55:07.455 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:07.462 +06:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:07.465 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:07.466 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:55:07.469 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:07.523 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 92.0246ms
2024-01-12 10:55:07.526 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:07.528 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:07.547 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:07.548 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:07.550 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:55:07.552 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 161.4474ms
2024-01-12 10:55:17.731 +06:00 [DBG] Connection id "0HN0J5AHQQB9U" accepted.
2024-01-12 10:55:17.733 +06:00 [DBG] Connection id "0HN0J5AHQQB9U" started.
2024-01-12 10:55:17.741 +06:00 [DBG] Connection 0HN0J5AHQQB9U established using the following protocol: "Tls13"
2024-01-12 10:55:17.745 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:55:17.749 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:55:17.751 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:55:17.752 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:55:17.754 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:17.756 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:17.757 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:55:17.760 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:55:17.764 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:55:17.767 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:55:17.769 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:55:17.771 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:55:17.772 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:17.775 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:55:17.779 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:17.784 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:17.785 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:55:17.787 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:17.789 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:17.792 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:17.794 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:55:17.797 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:55:17.800 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:17.813 +06:00 [ERR] Failed executing DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:55:17.817 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:17.821 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 10:55:17.827 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:17.904 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 131.5905ms
2024-01-12 10:55:17.907 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:55:17.909 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'userId'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__209_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.GetCitiesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 17
   at CityInfo.API.Controllers.CitiesController.GetCities() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 32
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
ClientConnectionId:8d8915ed-7dd5-439b-b863-fb8b37dd934a
Error Number:207,State:1,Class:16
2024-01-12 10:55:17.931 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:17.933 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:17.935 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:55:17.937 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 192.7923ms
2024-01-12 10:55:48.449 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:55:48.706 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:55:48.912 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:55:48.929 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-12 10:55:48.931 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.035 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.038 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:55:49.041 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 10:55:49.041 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 10:55:49.044 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:55:49.056 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:55:49.057 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.060 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:55:49.062 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:55:49.062 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:55:49.062 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:55:49.062 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.062 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.062 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:55:49.069 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:55:49.069 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.069 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:55:49.074 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.074 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.074 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:55:49.074 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:55:49.074 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:55:49.074 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:55:49.076 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:55:49.078 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.078 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2024-01-12 10:55:49.078 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.078 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:55:49.079 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:55:49.079 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:55:49.080 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 10:57:42.629 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:57:42.889 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:57:43.190 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:58:09.320 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:58:09.610 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:58:09.618 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:58:09.636 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-12 10:58:09.638 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.642 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.756 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.758 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:58:09.761 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 10:58:09.762 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 10:58:09.765 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:58:09.778 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:58:09.779 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.782 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:58:09.784 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:58:09.784 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:58:09.784 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:58:09.784 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.785 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.785 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:58:09.797 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:58:09.797 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.797 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:58:09.797 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.797 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.797 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:58:09.797 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:58:09.797 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:58:09.798 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:58:09.798 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 10:58:09.799 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.799 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:58:09.799 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 10:58:09.799 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:58:09.799 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 10:58:09.799 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.799 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.799 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:58:09.799 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 10:58:09.799 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.799 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:58:09.808 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.808 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.808 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:58:09.808 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:58:09.809 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:58:09.809 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:58:09.814 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 10:58:09.816 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.816 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:58:09.817 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.817 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:58:09.821 +06:00 [INF] Applying migration '20240112045743_reverse-v2'.
2024-01-12 10:58:09.832 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.833 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:09.834 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-12 10:58:09.836 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-12 10:58:09.837 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:58:09.837 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:58:09.837 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:58:09.837 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Users];
2024-01-12 10:58:09.850 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE [Users];
2024-01-12 10:58:10.099 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 10:58:10.099 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:58:10.099 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 10:58:10.099 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112045743_reverse-v2', N'8.0.0');
2024-01-12 10:58:10.103 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112045743_reverse-v2', N'8.0.0');
2024-01-12 10:58:10.103 +06:00 [DBG] Committing transaction.
2024-01-12 10:58:10.107 +06:00 [DBG] Committed transaction.
2024-01-12 10:58:10.107 +06:00 [DBG] Disposing transaction.
2024-01-12 10:58:10.108 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:10.108 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 10:58:10.108 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:58:10.109 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:58:10.109 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 10:58:56.222 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 10:58:56.296 +06:00 [DBG] Hosting starting
2024-01-12 10:58:56.411 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 10:58:56.413 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 10:58:56.414 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 10:58:56.415 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 10:58:56.416 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 10:58:56.417 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 10:58:56.418 +06:00 [INF] Hosting environment: Development
2024-01-12 10:58:56.419 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 10:58:56.420 +06:00 [DBG] Hosting started
2024-01-12 10:59:03.529 +06:00 [DBG] Connection id "0HN0J5CPBICIA" accepted.
2024-01-12 10:59:03.535 +06:00 [DBG] Connection id "0HN0J5CPBICIA" started.
2024-01-12 10:59:03.613 +06:00 [DBG] Connection 0HN0J5CPBICIA established using the following protocol: "Tls13"
2024-01-12 10:59:03.679 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:59:03.694 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 10:59:03.715 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:03.719 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:03.722 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:03.750 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:59:03.757 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:59:03.762 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:03.768 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:03.794 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:03.799 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:03.800 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:03.802 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:03.804 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:03.805 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:03.807 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:03.935 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 10:59:04.147 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:04.894 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:04.976 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 10:59:05.221 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 10:59:05.257 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:05.286 +06:00 [DBG] Created DbConnection. (26ms).
2024-01-12 10:59:05.294 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.427 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:59:05.439 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:05.440 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:05.442 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:05.444 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:59:05.447 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:59:05.450 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:05.454 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:05.457 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:05.460 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:05.463 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:05.465 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:05.468 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:05.473 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:05.476 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:05.484 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:05.569 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:05.574 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:05.576 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:59:05.579 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.707 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.710 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.721 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:05.721 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:05.731 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:05.731 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:05.737 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-01-12 10:59:05.737 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-01-12 10:59:05.748 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:05.748 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:05.807 +06:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:05.807 +06:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:05.862 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.862 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.886 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.886 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.890 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.891 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.892 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.894 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.896 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.898 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.900 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.902 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:05.910 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.910 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.919 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 98ms reading results.
2024-01-12 10:59:05.919 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 102ms reading results.
2024-01-12 10:59:05.925 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.925 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:05.935 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-12 10:59:05.935 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-12 10:59:05.958 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:05.958 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:05.967 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:05.967 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:05.968 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 10:59:05.969 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 10:59:05.970 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 10:59:05.971 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 10:59:05.973 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 10:59:05.973 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 10:59:05.976 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 10:59:05.978 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 10:59:06.096 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2288.2222ms
2024-01-12 10:59:06.096 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 617.0878ms
2024-01-12 10:59:06.101 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:06.101 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:06.109 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:06.109 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:06.115 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:06.115 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:06.120 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-12 10:59:06.122 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 518 application/json; charset=utf-8 696.2123ms
2024-01-12 10:59:06.120 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-01-12 10:59:06.126 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 518 application/json; charset=utf-8 2453.6323ms
2024-01-12 10:59:09.571 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/38 - null null
2024-01-12 10:59:09.576 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 10:59:09.577 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:09.579 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:09.581 +06:00 [DBG] The request is a preflight request.
2024-01-12 10:59:09.584 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/38 - 204 null null 12.6496ms
2024-01-12 10:59:09.586 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/38 - null null
2024-01-12 10:59:09.594 +06:00 [DBG] DELETE requests are not supported
2024-01-12 10:59:09.596 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:09.599 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:09.601 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/38'
2024-01-12 10:59:09.603 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/38'
2024-01-12 10:59:09.606 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:09.610 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:09.629 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:09.635 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:09.636 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:09.639 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:09.643 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:09.646 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:09.648 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:09.653 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:09.661 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:09.666 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:09.669 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:09.671 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:09.674 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:09.679 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:09.766 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:09.778 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-12 10:59:09.807 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 10:59:09.829 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:09.831 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:59:09.834 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.836 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.839 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:09.841 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:09.847 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-12 10:59:09.853 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:09.884 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:09.892 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.896 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-12 10:59:09.899 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.901 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:09.907 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-12 10:59:09.921 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 10:59:09.926 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.931 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.932 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:09.933 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:59:09.939 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-12 10:59:09.941 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:09.952 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:09.955 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:09.957 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.958 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-12 10:59:09.959 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:09.961 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:09.979 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:09.990 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 10:59:09.996 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 10:59:10.013 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 10:59:10.092 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:10.095 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:10.100 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:10.102 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:10.104 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:10.106 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:10.122 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:10.132 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:10.133 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 8ms reading results.
2024-01-12 10:59:10.136 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:10.138 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:10.145 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:10.153 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 10:59:10.158 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-12 10:59:10.160 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 511.7039ms
2024-01-12 10:59:10.162 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:10.164 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:10.165 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:10.167 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:10.169 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/38 - 204 null null 582.5625ms
2024-01-12 10:59:11.492 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/36 - null null
2024-01-12 10:59:11.499 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 10:59:11.501 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:11.503 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:11.505 +06:00 [DBG] The request is a preflight request.
2024-01-12 10:59:11.507 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/36 - 204 null null 15.4516ms
2024-01-12 10:59:11.510 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/36 - null null
2024-01-12 10:59:11.520 +06:00 [DBG] DELETE requests are not supported
2024-01-12 10:59:11.521 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:11.525 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:11.526 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/36'
2024-01-12 10:59:11.529 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/36'
2024-01-12 10:59:11.534 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:11.537 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:11.539 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:11.544 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:11.548 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:11.550 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:11.552 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:11.555 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:11.557 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:11.560 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:11.562 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:11.565 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:11.567 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:11.569 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:11.571 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:11.573 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:11.577 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:11.581 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:11.583 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:59:11.585 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.588 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.590 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:11.591 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:11.594 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 10:59:11.597 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:11.604 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:11.608 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.611 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:11.614 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.617 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:11.621 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.624 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.626 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:11.629 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:11.632 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 10:59:11.634 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:11.638 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:11.644 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:11.648 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.650 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 10:59:11.653 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.656 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:11.659 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:11.662 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 10:59:11.664 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 10:59:11.666 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 10:59:11.669 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.671 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.673 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:11.675 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:11.678 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:11.680 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:11.684 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:11.687 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.689 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:11.692 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.695 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:11.697 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:11.700 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 10:59:11.701 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-12 10:59:11.703 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 146.072ms
2024-01-12 10:59:11.705 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:11.707 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:11.709 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:11.710 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:11.712 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/36 - 204 null null 202.6441ms
2024-01-12 10:59:12.210 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/33 - null null
2024-01-12 10:59:12.217 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 10:59:12.219 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:12.221 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:12.223 +06:00 [DBG] The request is a preflight request.
2024-01-12 10:59:12.225 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/33 - 204 null null 15.0316ms
2024-01-12 10:59:12.228 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/33 - null null
2024-01-12 10:59:12.240 +06:00 [DBG] DELETE requests are not supported
2024-01-12 10:59:12.242 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:12.244 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:12.246 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/33'
2024-01-12 10:59:12.248 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/33'
2024-01-12 10:59:12.250 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:12.252 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:12.254 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:12.257 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:12.259 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:12.262 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:12.265 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:12.268 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:12.270 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:12.273 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:12.276 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:12.279 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:12.282 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:12.285 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:12.287 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:12.290 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:12.293 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:12.296 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:12.299 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:59:12.300 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.301 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.304 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:12.306 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:12.309 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:12.310 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:12.316 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:12.320 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.323 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:12.326 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.329 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:12.332 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.335 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.339 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:12.341 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:12.343 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:12.346 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:12.349 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:12.353 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:12.356 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.358 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 10:59:12.361 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.363 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:12.365 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:12.368 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 10:59:12.370 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 10:59:12.371 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 10:59:12.373 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.375 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.377 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:12.378 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:12.380 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:12.381 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:12.390 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:12.393 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.396 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:12.398 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.399 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:12.401 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:12.404 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 10:59:12.406 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-12 10:59:12.407 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 136.5792ms
2024-01-12 10:59:12.409 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:12.411 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:12.413 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.414 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:12.416 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/33 - 204 null null 188.7583ms
2024-01-12 10:59:12.834 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/34 - null null
2024-01-12 10:59:12.842 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 10:59:12.847 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:12.848 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:12.849 +06:00 [DBG] The request is a preflight request.
2024-01-12 10:59:12.850 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/34 - 204 null null 16.708ms
2024-01-12 10:59:12.854 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/34 - null null
2024-01-12 10:59:12.858 +06:00 [DBG] DELETE requests are not supported
2024-01-12 10:59:12.859 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:12.861 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:12.864 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/34'
2024-01-12 10:59:12.866 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/34'
2024-01-12 10:59:12.868 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:12.869 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:12.871 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:12.875 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:12.878 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:12.880 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:12.882 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:12.884 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:12.887 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:12.889 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:12.891 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:12.893 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:12.896 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:12.897 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:12.899 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:12.900 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:12.903 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:12.907 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:12.908 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:12.910 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.913 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.915 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:12.916 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:12.918 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 10:59:12.920 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:12.925 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:12.929 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.930 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:12.933 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.935 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:12.937 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.940 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.942 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:12.944 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:12.946 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:12.948 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:12.952 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:12.956 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:12.959 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.961 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 10:59:12.964 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.966 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:12.968 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:12.972 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 10:59:12.973 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 10:59:12.975 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 10:59:12.976 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.978 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.979 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:12.980 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:59:12.982 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:12.983 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:12.988 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:12.991 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.993 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:12.996 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:12.998 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:12.999 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:13.002 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 10:59:13.004 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-12 10:59:13.005 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 118.807ms
2024-01-12 10:59:13.007 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:13.009 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:13.011 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.013 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:13.014 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/34 - 204 null null 160.9043ms
2024-01-12 10:59:13.471 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/35 - null null
2024-01-12 10:59:13.475 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 10:59:13.476 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:13.477 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:13.478 +06:00 [DBG] The request is a preflight request.
2024-01-12 10:59:13.479 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/35 - 204 null null 8.5744ms
2024-01-12 10:59:13.480 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/35 - null null
2024-01-12 10:59:13.484 +06:00 [DBG] DELETE requests are not supported
2024-01-12 10:59:13.485 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:13.486 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:13.487 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/35'
2024-01-12 10:59:13.488 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/35'
2024-01-12 10:59:13.491 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:13.493 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:13.495 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:13.499 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:13.501 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:13.502 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:13.504 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:13.506 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:13.508 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:13.510 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:13.511 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:13.513 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:13.514 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:13.515 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:13.517 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:13.518 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:13.520 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:13.522 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:13.524 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:13.526 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.528 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.530 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:13.531 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:13.532 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:13.535 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:13.541 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:13.544 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.546 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:13.548 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.550 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:13.553 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.555 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.558 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:13.559 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:13.561 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:13.563 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:13.567 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:13.570 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:13.572 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.575 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-12 10:59:13.577 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.580 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:13.583 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:13.585 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 10:59:13.587 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 10:59:13.589 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 10:59:13.591 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.593 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.596 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:13.598 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:13.600 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:13.602 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:13.605 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:13.609 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.611 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:13.614 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.617 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:13.619 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:13.620 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 10:59:13.621 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-12 10:59:13.622 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 113.8152ms
2024-01-12 10:59:13.624 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:13.626 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:13.627 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:13.630 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 10:59:13.632 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/35 - 204 null null 151.8881ms
2024-01-12 10:59:14.219 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/37 - null null
2024-01-12 10:59:14.225 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 10:59:14.227 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:14.229 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:14.231 +06:00 [DBG] The request is a preflight request.
2024-01-12 10:59:14.233 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/37 - 204 null null 14.6058ms
2024-01-12 10:59:14.237 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/37 - null null
2024-01-12 10:59:14.244 +06:00 [DBG] DELETE requests are not supported
2024-01-12 10:59:14.245 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:14.246 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:14.247 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/37'
2024-01-12 10:59:14.248 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/37'
2024-01-12 10:59:14.250 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:14.251 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:14.253 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:14.254 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:14.256 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:14.259 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:14.261 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:14.263 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:14.265 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:14.267 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:14.269 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:14.270 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:14.272 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:14.273 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:14.275 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:14.277 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:14.279 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:14.281 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:14.283 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:14.284 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.286 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.288 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:14.290 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:14.292 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 10:59:14.294 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:14.298 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:14.301 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.303 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:14.305 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.307 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:14.310 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.312 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.313 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:14.314 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:14.316 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 10:59:14.318 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:14.322 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 10:59:14.324 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:14.328 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.330 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 10:59:14.331 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.332 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:14.334 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:14.337 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 10:59:14.339 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 10:59:14.341 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 10:59:14.343 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.345 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.347 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:14.348 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:14.349 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:14.351 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:14.360 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-12 10:59:14.363 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.364 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:14.366 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.367 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:14.370 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 10:59:14.373 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 10:59:14.376 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-12 10:59:14.378 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 113.013ms
2024-01-12 10:59:14.379 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-12 10:59:14.380 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:14.382 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:14.383 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:14.385 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/37 - 204 null null 147.9096ms
2024-01-12 10:59:15.908 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:59:15.916 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:15.917 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:15.918 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:15.920 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:59:15.923 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:59:15.926 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:15.928 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:15.930 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:15.934 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:15.937 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:15.940 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:15.945 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:15.947 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:15.951 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:15.954 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:15.958 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:15.962 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:15.964 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:15.966 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:15.969 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:15.971 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:15.973 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:15.976 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:15.978 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:15.982 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:15.986 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:15.989 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:15.992 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:15.993 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:15.997 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:15.999 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:16.001 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:16.005 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:16.007 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:16.026 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 75.0042ms
2024-01-12 10:59:16.029 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:16.031 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:16.032 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:16.034 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:16.036 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 128.0227ms
2024-01-12 10:59:17.404 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 10:59:17.407 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-12 10:59:17.414 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:17.421 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:17.423 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:17.425 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:17.427 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:17.429 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:17.429 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 10:59:17.431 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-12 10:59:17.433 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 10:59:17.435 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 10:59:17.439 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:17.441 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 10:59:17.442 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:17.444 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:17.446 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:17.447 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:17.451 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:17.454 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:17.456 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:17.457 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 10:59:17.459 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:17.463 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:17.466 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:17.469 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:17.472 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:17.475 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:17.477 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:17.480 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:17.483 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:17.484 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:17.487 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:17.489 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:17.491 +06:00 [DBG] Created DbConnection. (4ms).
2024-01-12 10:59:17.493 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 10:59:17.494 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.499 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.500 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:17.501 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:17.507 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-12 10:59:17.507 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-12 10:59:17.509 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-12 10:59:17.515 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:17.522 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 10:59:17.522 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 10:59:17.526 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:17.528 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.529 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:59:17.531 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 10:59:17.532 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.534 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.536 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.539 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-12 10:59:17.541 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:17.544 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:17.546 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:17.548 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:17.550 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-12 10:59:17.551 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:17.554 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 10:59:17.558 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:17.564 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:17.565 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 10:59:17.566 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 94.2913ms
2024-01-12 10:59:17.569 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.570 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 10:59:17.572 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:17.573 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:17.575 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.577 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.578 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 10:59:17.580 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 10:59:17.581 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:17.583 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 179.5677ms
2024-01-12 10:59:17.585 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:17.589 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:17.592 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:17.593 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:17.595 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 105.7327ms
2024-01-12 10:59:17.597 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:17.598 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:17.602 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:17.605 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 10:59:17.606 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 199.349ms
2024-01-12 10:59:19.366 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-12 10:59:19.370 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:19.374 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:19.377 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:19.378 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-12 10:59:19.381 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-12 10:59:19.384 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:19.386 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:19.394 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:19.399 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:19.402 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:19.404 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:19.407 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:19.409 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:19.412 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:19.416 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:19.419 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:19.422 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:19.425 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:19.427 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:19.430 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:19.432 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:19.437 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:19.442 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:19.443 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:19.445 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:19.448 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:19.450 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:19.453 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:19.455 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 10:59:19.457 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:19.463 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:19.468 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:19.470 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:19.473 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:19.476 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:19.479 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-12 10:59:19.481 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:19.487 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:19.489 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:19.493 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:19.496 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:19.499 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 87.7676ms
2024-01-12 10:59:19.502 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:19.504 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:19.506 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:19.508 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:19.509 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 143.5815ms
2024-01-12 10:59:22.823 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - null null
2024-01-12 10:59:22.835 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:22.840 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:22.844 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:22.845 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:22.847 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:22.850 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:22.853 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:22.855 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:22.858 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:22.859 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:22.861 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:22.866 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:22.869 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:22.873 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:22.876 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:22.880 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:22.883 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:22.886 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:22.889 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:22.891 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:22.894 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:22.898 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:22.902 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:22.904 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:59:22.906 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:22.908 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:22.911 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:22.913 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:22.915 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:22.917 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:22.926 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:22.931 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:22.933 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:22.936 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:22.938 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:22.940 +06:00 [INF] City with id 33 wasn't found when accessing points of interest.
2024-01-12 10:59:22.941 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:22.946 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:22.948 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:22.952 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:22.953 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:22.955 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 82.6381ms
2024-01-12 10:59:22.958 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:22.959 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:22.960 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:22.961 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:22.963 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - 404 162 application/problem+json; charset=utf-8 141.7478ms
2024-01-12 10:59:24.220 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - null null
2024-01-12 10:59:24.226 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:24.228 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:24.230 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:24.232 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:24.235 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:24.239 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.240 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.242 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:24.246 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:24.250 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:24.252 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:24.254 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:24.256 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:24.259 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:24.262 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:24.264 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:24.266 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:24.267 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.269 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.270 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:24.272 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.274 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:24.277 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:24.279 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:24.280 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.282 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.283 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:24.284 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:24.286 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 10:59:24.287 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:24.291 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:24.295 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.297 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:24.298 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.300 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:24.302 +06:00 [INF] City with id 33 wasn't found when accessing points of interest.
2024-01-12 10:59:24.303 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:24.306 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:24.307 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:24.310 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:24.313 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:24.315 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 56.3119ms
2024-01-12 10:59:24.317 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.318 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:24.320 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.321 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:24.322 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - 404 162 application/problem+json; charset=utf-8 102.952ms
2024-01-12 10:59:24.452 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - null null
2024-01-12 10:59:24.458 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:24.461 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:24.463 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:24.465 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:24.467 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:24.470 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.473 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.475 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:24.479 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:24.482 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:24.485 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:24.488 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:24.491 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:24.494 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:24.497 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:24.499 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:24.501 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:24.503 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.505 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.507 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:24.509 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.513 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:24.516 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:24.517 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-12 10:59:24.518 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.520 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.522 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:24.524 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:24.527 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 10:59:24.530 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:24.536 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:24.539 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.541 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:24.544 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.546 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:24.548 +06:00 [INF] City with id 33 wasn't found when accessing points of interest.
2024-01-12 10:59:24.549 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:24.552 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:24.553 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:24.556 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:24.558 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:24.561 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 66.7143ms
2024-01-12 10:59:24.562 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.563 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:24.565 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.566 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:24.568 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - 404 162 application/problem+json; charset=utf-8 116.7818ms
2024-01-12 10:59:24.643 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - null null
2024-01-12 10:59:24.649 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:24.652 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:24.654 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:24.656 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:24.658 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:24.661 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.663 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.665 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:24.669 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:24.672 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:24.674 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:24.677 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:24.680 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:24.683 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:24.685 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:24.687 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:24.689 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:24.690 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.691 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.692 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:24.693 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:24.695 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:24.698 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:24.699 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:24.700 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.703 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.704 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:24.706 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 10:59:24.707 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:24.709 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:24.714 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:24.718 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.719 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:24.721 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.723 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 10:59:24.726 +06:00 [INF] City with id 33 wasn't found when accessing points of interest.
2024-01-12 10:59:24.727 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:24.731 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:24.732 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:24.736 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:24.737 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:24.739 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 56.3187ms
2024-01-12 10:59:24.741 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:24.742 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:24.744 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:24.745 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:24.747 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - 404 162 application/problem+json; charset=utf-8 104.9077ms
2024-01-12 10:59:25.260 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - null null
2024-01-12 10:59:25.268 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:25.270 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:25.273 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:25.274 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:25.277 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/33/pointsofinterest'
2024-01-12 10:59:25.281 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:25.282 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:25.285 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:25.287 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:25.291 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:25.294 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:25.298 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:25.301 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:25.303 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:25.305 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:25.307 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:25.310 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:25.312 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:25.314 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:25.315 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:25.317 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:25.320 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:25.322 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:25.323 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 10:59:25.325 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:25.327 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:25.328 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:25.329 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:59:25.330 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:25.332 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:25.336 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:25.339 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:25.340 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:25.341 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:25.343 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:25.344 +06:00 [INF] City with id 33 wasn't found when accessing points of interest.
2024-01-12 10:59:25.344 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:25.347 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:25.349 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:25.351 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:25.352 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:25.353 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 50.3574ms
2024-01-12 10:59:25.354 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:25.355 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:25.356 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:25.357 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:25.358 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/33/pointsofinterest - 404 162 application/problem+json; charset=utf-8 98.1474ms
2024-01-12 10:59:28.353 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/34/pointsofinterest - null null
2024-01-12 10:59:28.357 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:28.358 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:28.358 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:28.360 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/34/pointsofinterest'
2024-01-12 10:59:28.361 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/34/pointsofinterest'
2024-01-12 10:59:28.363 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:28.365 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:28.367 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:28.369 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:28.372 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:28.373 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:28.375 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:28.378 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:28.381 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:28.382 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:28.384 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:28.386 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:28.388 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:28.389 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:28.390 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:28.392 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:28.394 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:28.398 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:28.398 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-12 10:59:28.400 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:28.402 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:28.404 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:28.404 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 10:59:28.406 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:28.408 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:28.414 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:28.418 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:28.419 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 10:59:28.421 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:28.423 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:28.424 +06:00 [INF] City with id 34 wasn't found when accessing points of interest.
2024-01-12 10:59:28.426 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:28.430 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:28.431 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:28.433 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:28.434 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:28.435 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 54.4884ms
2024-01-12 10:59:28.437 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:28.438 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:28.439 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:28.441 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:28.443 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/34/pointsofinterest - 404 162 application/problem+json; charset=utf-8 90.2087ms
2024-01-12 10:59:28.923 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/34/pointsofinterest - null null
2024-01-12 10:59:28.930 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 10:59:28.933 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 10:59:28.936 +06:00 [INF] CORS policy execution successful.
2024-01-12 10:59:28.937 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/34/pointsofinterest'
2024-01-12 10:59:28.940 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/34/pointsofinterest'
2024-01-12 10:59:28.943 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:28.945 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:28.948 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 10:59:28.953 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 10:59:28.955 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 10:59:28.957 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 10:59:28.962 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 10:59:28.965 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 10:59:28.968 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:28.970 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 10:59:28.973 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:28.976 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 10:59:28.979 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:28.981 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:28.983 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 10:59:28.985 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 10:59:28.987 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 10:59:28.992 +06:00 [DBG] Creating DbConnection.
2024-01-12 10:59:28.994 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 10:59:28.997 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:29.000 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:29.002 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 10:59:29.004 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 10:59:29.006 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 10:59:29.009 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:29.014 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 10:59:29.020 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:29.022 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 10:59:29.025 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:29.027 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 10:59:29.030 +06:00 [INF] City with id 34 wasn't found when accessing points of interest.
2024-01-12 10:59:29.032 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 10:59:29.038 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 10:59:29.040 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 10:59:29.044 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 10:59:29.047 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 10:59:29.049 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 81.6913ms
2024-01-12 10:59:29.051 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 10:59:29.052 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 10:59:29.053 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 10:59:29.055 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 10:59:29.057 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/34/pointsofinterest - 404 162 application/problem+json; charset=utf-8 134.4114ms
2024-01-12 11:00:57.904 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:00:58.118 +06:00 [DBG] The property 'City.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-01-12 11:00:58.119 +06:00 [DBG] The property 'PointOfInterest.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-01-12 11:00:58.180 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:00:58.189 +06:00 [DBG] The property 'City.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-01-12 11:00:58.189 +06:00 [DBG] The property 'PointOfInterest.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-01-12 11:00:58.447 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:01:12.135 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:01:12.360 +06:00 [DBG] The property 'City.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-01-12 11:01:12.361 +06:00 [DBG] The property 'PointOfInterest.UserId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-01-12 11:01:12.424 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:01:12.430 +06:00 [DBG] Creating DbConnection.
2024-01-12 11:01:12.448 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-12 11:01:12.449 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.452 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.557 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.560 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.563 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 11:01:12.564 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 11:01:12.567 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:01:12.579 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:01:12.580 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.583 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 11:01:12.584 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:01:12.585 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:01:12.585 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:01:12.585 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.585 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.585 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:01:12.598 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:01:12.599 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.599 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:01:12.599 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.599 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.599 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.599 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.599 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.599 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:01:12.600 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:01:12.600 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.601 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:01:12.601 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:01:12.601 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:01:12.601 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:01:12.601 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.601 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.601 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:01:12.602 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:01:12.602 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.602 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:01:12.611 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.611 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.611 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 11:01:12.611 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:01:12.611 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:01:12.611 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:01:12.618 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:01:12.619 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.620 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 11:01:12.620 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.620 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:01:12.625 +06:00 [INF] Applying migration '20240112050058_v3'.
2024-01-12 11:01:12.646 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.646 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:12.647 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-12 11:01:12.649 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-12 11:01:12.650 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.650 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.650 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.650 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [UserId] int NULL;
2024-01-12 11:01:12.657 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD [UserId] int NULL;
2024-01-12 11:01:12.657 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.657 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.657 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.657 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD [UserId] int NULL;
2024-01-12 11:01:12.659 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD [UserId] int NULL;
2024-01-12 11:01:12.659 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.659 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.659 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.659 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [userName] nvarchar(50) NOT NULL,
    [password] nvarchar(50) NOT NULL,
    [email] nvarchar(50) NOT NULL,
    [firstName] nvarchar(50) NOT NULL,
    [lastName] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-01-12 11:01:12.665 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [Id] int NOT NULL IDENTITY,
    [userName] nvarchar(50) NOT NULL,
    [password] nvarchar(50) NOT NULL,
    [email] nvarchar(50) NOT NULL,
    [firstName] nvarchar(50) NOT NULL,
    [lastName] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([Id])
);
2024-01-12 11:01:12.665 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.665 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.665 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.665 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_UserId] ON [PointsOfInterest] ([UserId]);
2024-01-12 11:01:12.675 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_UserId] ON [PointsOfInterest] ([UserId]);
2024-01-12 11:01:12.675 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.675 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.675 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.675 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_UserId] ON [Cities] ([UserId]);
2024-01-12 11:01:12.679 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_UserId] ON [Cities] ([UserId]);
2024-01-12 11:01:12.679 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.679 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.679 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.679 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2024-01-12 11:01:12.684 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2024-01-12 11:01:12.684 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:12.685 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.685 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:12.685 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2024-01-12 11:01:14.580 +06:00 [INF] Executed DbCommand (1,895ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([Id]);
2024-01-12 11:01:14.580 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:01:14.580 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:14.580 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:01:14.581 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112050058_v3', N'8.0.0');
2024-01-12 11:01:14.583 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240112050058_v3', N'8.0.0');
2024-01-12 11:01:14.584 +06:00 [DBG] Committing transaction.
2024-01-12 11:01:14.588 +06:00 [DBG] Committed transaction.
2024-01-12 11:01:14.589 +06:00 [DBG] Disposing transaction.
2024-01-12 11:01:14.589 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:14.589 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:01:14.590 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:01:14.590 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:01:14.591 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 11:02:59.087 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:02:59.351 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:02:59.599 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:03:13.154 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:03:13.425 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:03:13.433 +06:00 [DBG] Creating DbConnection.
2024-01-12 11:03:13.451 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-12 11:03:13.453 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.455 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.562 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.564 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:13.567 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 11:03:13.568 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-12 11:03:13.571 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:03:13.583 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:03:13.584 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.587 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 11:03:13.588 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:03:13.588 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:03:13.588 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:03:13.588 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.589 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.589 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:03:13.603 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:03:13.603 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.603 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:03:13.604 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.604 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.604 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:13.604 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.604 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.604 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:03:13.605 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:03:13.605 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.605 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:03:13.605 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:03:13.605 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:03:13.605 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:03:13.605 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.605 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.605 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:03:13.606 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:03:13.606 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.606 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:03:13.613 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.614 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.614 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 11:03:13.614 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:03:13.614 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:03:13.614 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:03:13.619 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:03:13.620 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.621 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 11:03:13.621 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.621 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:03:13.626 +06:00 [INF] Applying migration '20240112050259_v4'.
2024-01-12 11:03:13.648 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.648 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:13.649 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-12 11:03:13.652 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-12 11:03:13.652 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:13.652 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.652 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.652 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-12 11:03:13.663 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-12 11:03:13.663 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:13.663 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.663 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.663 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-12 11:03:13.666 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-12 11:03:13.666 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:13.666 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.666 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:13.666 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:03:14.131 +06:00 [INF] Executed DbCommand (464ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:03:14.131 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:14.131 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.131 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.131 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-12 11:03:14.134 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-12 11:03:14.134 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:14.134 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.134 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.134 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:03:14.136 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:03:14.136 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:14.136 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.136 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.136 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-12 11:03:14.138 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-12 11:03:14.138 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:14.138 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.138 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:14.138 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 11:03:15.530 +06:00 [INF] Executed DbCommand (1,392ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 11:03:15.531 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:15.531 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:15.531 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:15.531 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 11:03:15.566 +06:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 11:03:15.566 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:15.566 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:15.566 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:15.566 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:03:15.571 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:03:15.571 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:03:15.571 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:15.571 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:03:15.572 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:03:15.588 +06:00 [ERR] Failed executing DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:03:17.978 +06:00 [DBG] Disposing transaction.
2024-01-12 11:03:17.978 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:17.979 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:03:17.979 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:03:17.980 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:03:17.981 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 11:04:10.260 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:04:10.573 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:04:10.825 +06:00 [DBG] Creating DbConnection.
2024-01-12 11:04:10.846 +06:00 [DBG] Created DbConnection. (19ms).
2024-01-12 11:04:10.849 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:10.968 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:10.971 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:04:10.973 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 11:04:10.974 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 11:04:10.977 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:04:10.989 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:04:10.989 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:10.993 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 11:04:10.994 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:04:10.994 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:04:10.994 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:04:10.994 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:10.994 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:10.995 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:04:11.002 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:04:11.002 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:11.002 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:04:11.008 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:11.008 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:11.008 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 11:04:11.008 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:04:11.008 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:04:11.009 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:04:11.010 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:04:11.011 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:11.012 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2024-01-12 11:04:11.012 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:11.012 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:04:11.040 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:04:11.041 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:04:11.042 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 11:20:09.582 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:20:09.842 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:20:10.098 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:20:17.773 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:20:18.089 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:20:18.096 +06:00 [DBG] Creating DbConnection.
2024-01-12 11:20:18.117 +06:00 [DBG] Created DbConnection. (19ms).
2024-01-12 11:20:18.119 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.122 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.224 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.226 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.229 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 11:20:18.230 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 11:20:18.233 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:20:18.245 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:20:18.246 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.249 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 11:20:18.250 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:20:18.251 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:20:18.251 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:20:18.251 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.251 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.251 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:20:18.260 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:20:18.260 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.260 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:20:18.261 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.261 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.261 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.261 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.261 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.261 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:20:18.262 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:20:18.262 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.262 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:20:18.262 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:20:18.262 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:20:18.262 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:20:18.262 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.262 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.262 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:20:18.263 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:20:18.263 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.263 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:20:18.271 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.271 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.271 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 11:20:18.271 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:20:18.271 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:20:18.271 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:20:18.275 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:20:18.277 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.277 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 11:20:18.277 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.277 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:20:18.283 +06:00 [INF] Applying migration '20240112052010_v4'.
2024-01-12 11:20:18.306 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.306 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:18.307 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-12 11:20:18.310 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-12 11:20:18.310 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.310 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.311 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.311 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-12 11:20:18.319 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-12 11:20:18.319 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.319 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.319 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.319 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-12 11:20:18.322 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-12 11:20:18.322 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.322 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.322 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.322 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:20:18.780 +06:00 [INF] Executed DbCommand (457ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:20:18.780 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.780 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.780 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.780 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-12 11:20:18.782 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-12 11:20:18.782 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.782 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.782 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.782 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:20:18.784 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:20:18.785 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.785 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.785 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.785 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-12 11:20:18.787 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-12 11:20:18.787 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:18.787 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.787 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:18.787 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 11:20:20.189 +06:00 [INF] Executed DbCommand (1,402ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 11:20:20.189 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:20.189 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:20.189 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:20.189 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 11:20:20.229 +06:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 11:20:20.230 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:20.230 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:20.230 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:20.230 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:20:20.234 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:20:20.234 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:20:20.234 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:20.234 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:20:20.234 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:20:20.244 +06:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:20:22.302 +06:00 [DBG] Disposing transaction.
2024-01-12 11:20:22.303 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:22.303 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:20:22.304 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:20:22.305 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:20:22.305 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 11:27:35.912 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:27:36.175 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:27:36.421 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:27:50.502 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:27:50.791 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:27:50.799 +06:00 [DBG] Creating DbConnection.
2024-01-12 11:27:50.822 +06:00 [DBG] Created DbConnection. (21ms).
2024-01-12 11:27:50.824 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.826 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.936 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.939 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:50.942 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-12 11:27:50.943 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-12 11:27:50.947 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:27:50.960 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:27:50.961 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.966 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 11:27:50.967 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:27:50.967 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:27:50.967 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:27:50.968 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.968 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.968 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:27:50.982 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:27:50.983 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.983 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:27:50.983 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.983 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.983 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:50.983 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:50.983 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:50.983 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:27:50.984 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-12 11:27:50.985 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.985 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:27:50.985 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-12 11:27:50.985 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:27:50.985 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-12 11:27:50.985 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.985 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.985 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:27:50.986 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-12 11:27:50.986 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.986 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:27:50.995 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.995 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:50.995 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 11:27:50.995 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:27:50.995 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-12 11:27:50.995 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:27:51.021 +06:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-12 11:27:51.023 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:51.023 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 11:27:51.024 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:51.024 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:27:51.028 +06:00 [INF] Applying migration '20240112052010_v4'.
2024-01-12 11:27:51.049 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:51.050 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:51.050 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-12 11:27:51.053 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-12 11:27:51.054 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:51.054 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.224 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (170ms).
2024-01-12 11:27:51.224 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-12 11:27:51.237 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-12 11:27:51.238 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:51.238 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.238 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.238 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-12 11:27:51.241 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-12 11:27:51.241 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:51.241 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.241 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.241 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:27:51.696 +06:00 [INF] Executed DbCommand (455ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:27:51.696 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:51.696 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.696 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.696 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-12 11:27:51.699 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-12 11:27:51.699 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:51.699 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.699 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.699 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:27:51.701 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-12 11:27:51.701 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:51.701 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.701 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.701 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-12 11:27:51.702 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-12 11:27:51.702 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:51.702 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.702 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:51.702 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 11:27:53.400 +06:00 [INF] Executed DbCommand (1,698ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-12 11:27:53.400 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:53.400 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:53.400 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:53.400 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 11:27:53.439 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-12 11:27:53.439 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:53.439 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:53.439 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:53.440 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:27:53.444 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:27:53.444 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-12 11:27:53.444 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:53.444 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-12 11:27:53.444 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:27:53.453 +06:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-12 11:27:53.453 +06:00 [DBG] Disposing transaction.
2024-01-12 11:27:53.454 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:53.454 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 11:27:55.446 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:27:55.449 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:27:55.450 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 11:34:06.526 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 11:34:06.603 +06:00 [DBG] Hosting starting
2024-01-12 11:34:06.730 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 11:34:06.731 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 11:34:06.732 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 11:34:06.733 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 11:34:06.734 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 11:34:06.735 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 11:34:06.736 +06:00 [INF] Hosting environment: Development
2024-01-12 11:34:06.737 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 11:34:06.739 +06:00 [DBG] Hosting started
2024-01-12 11:34:15.868 +06:00 [DBG] Connection id "0HN0J60ESCNHQ" accepted.
2024-01-12 11:34:15.872 +06:00 [DBG] Connection id "0HN0J60ESCNHQ" started.
2024-01-12 11:34:15.943 +06:00 [DBG] Connection 0HN0J60ESCNHQ established using the following protocol: "Tls13"
2024-01-12 11:34:15.997 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 11:34:16.137 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 11:34:16.224 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 11:34:16.244 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 11:34:16.252 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 260.7265ms
2024-01-12 11:34:16.259 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 11:34:16.260 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 11:34:16.273 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 14.2ms
2024-01-12 11:34:16.328 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 68.5931ms
2024-01-12 11:34:16.406 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 11:34:16.578 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 172.3486ms
2024-01-12 11:35:12.146 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 63
2024-01-12 11:35:12.158 +06:00 [DBG] POST requests are not supported
2024-01-12 11:35:12.161 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 11:35:12.163 +06:00 [INF] CORS policy execution successful.
2024-01-12 11:35:12.196 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 11:35:12.203 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 11:35:12.208 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 11:35:12.217 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 11:35:12.259 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 11:35:12.270 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 11:35:12.273 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 11:35:12.279 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 11:35:12.283 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 11:35:12.285 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 11:35:12.290 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 11:35:12.472 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 11:35:12.674 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 11:35:12.683 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 11:35:12.687 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 11:35:12.691 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 11:35:12.697 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 11:35:12.709 +06:00 [DBG] Connection id "0HN0J60ESCNHQ", Request id "0HN0J60ESCNHQ:00000009": started reading request body.
2024-01-12 11:35:12.711 +06:00 [DBG] Connection id "0HN0J60ESCNHQ", Request id "0HN0J60ESCNHQ:00000009": done reading request body.
2024-01-12 11:35:12.813 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 11:35:12.816 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 11:35:12.819 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 11:35:12.828 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 11:35:13.661 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 11:35:13.716 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 11:35:13.778 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 11:35:13.794 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 11:35:13.799 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 11:35:13.822 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 11:35:13.919 +06:00 [DBG] Creating DbConnection.
2024-01-12 11:35:13.956 +06:00 [DBG] Created DbConnection. (34ms).
2024-01-12 11:35:13.963 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:35:14.288 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:35:14.301 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 11:35:14.314 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-01-12 11:35:14.333 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2024-01-12 11:35:14.351 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 11:35:14.466 +06:00 [INF] Executed DbCommand (119ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 11:35:14.495 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 11:35:14.506 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 31ms reading results.
2024-01-12 11:35:14.515 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:35:14.526 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (10ms).
2024-01-12 11:35:14.563 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9d44efa2-684b-4dd1-94bc-84cbf891c91c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9d44efa2-684b-4dd1-94bc-84cbf891c91c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-12 11:35:14.655 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 2363.125ms
2024-01-12 11:35:14.660 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 11:35:14.665 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9d44efa2-684b-4dd1-94bc-84cbf891c91c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 88
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 74
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-12 11:35:14.707 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 11:35:14.714 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 11:35:14.717 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-12 11:35:14.720 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 2573.4789ms
2024-01-12 11:38:29.243 +06:00 [DBG] Connection id "0HN0J60ESCNHQ" received FIN.
2024-01-12 11:47:58.180 +06:00 [DBG] Connection id "0HN0J60ESCNHQ" is closed. The last processed stream ID was 9.
2024-01-12 11:47:58.183 +06:00 [DBG] Connection id "0HN0J60ESCNHQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-12 12:11:48.093 +06:00 [DBG] The connection queue processing loop for 0HN0J60ESCNHQ completed.
2024-01-12 12:11:48.115 +06:00 [DBG] Connection id "0HN0J60ESCNHQ" stopped.
2024-01-12 14:41:16.790 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 14:41:16.851 +06:00 [DBG] Hosting starting
2024-01-12 14:41:16.967 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 14:41:16.968 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 14:41:16.970 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 14:41:16.971 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 14:41:16.973 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 14:41:16.975 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 14:41:16.977 +06:00 [INF] Hosting environment: Development
2024-01-12 14:41:16.978 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 14:41:16.980 +06:00 [DBG] Hosting started
2024-01-12 14:41:21.176 +06:00 [DBG] Connection id "0HN0J99099C77" accepted.
2024-01-12 14:41:21.179 +06:00 [DBG] Connection id "0HN0J99099C77" started.
2024-01-12 14:41:21.212 +06:00 [DBG] Connection 0HN0J99099C77 established using the following protocol: "Tls13"
2024-01-12 14:41:21.238 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 14:41:21.347 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 14:41:21.383 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 14:41:21.412 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 14:41:21.416 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 179.6991ms
2024-01-12 14:41:21.422 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 14:41:21.424 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 14:41:21.444 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 22.3051ms
2024-01-12 14:41:21.489 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.2433ms
2024-01-12 14:41:21.526 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 14:41:21.605 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.7286ms
2024-01-12 15:09:23.584 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 15:09:23.643 +06:00 [DBG] Hosting starting
2024-01-12 15:09:23.754 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 15:09:23.756 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 15:09:23.757 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 15:09:23.758 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 15:09:23.759 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 15:09:23.760 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 15:09:23.761 +06:00 [INF] Hosting environment: Development
2024-01-12 15:09:23.762 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 15:09:23.763 +06:00 [DBG] Hosting started
2024-01-12 15:09:26.643 +06:00 [DBG] Connection id "0HN0J9OMJ548J" accepted.
2024-01-12 15:09:26.647 +06:00 [DBG] Connection id "0HN0J9OMJ548J" started.
2024-01-12 15:09:26.677 +06:00 [DBG] Connection 0HN0J9OMJ548J established using the following protocol: "Tls13"
2024-01-12 15:09:26.708 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:09:26.780 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 15:09:26.816 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 15:09:26.832 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 15:09:26.835 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 130.4179ms
2024-01-12 15:09:26.840 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 15:09:26.840 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 15:09:26.856 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 15.9264ms
2024-01-12 15:09:26.873 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 32.8207ms
2024-01-12 15:09:27.080 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 15:09:27.174 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.781ms
2024-01-12 15:09:47.698 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 1587
2024-01-12 15:09:47.712 +06:00 [DBG] POST requests are not supported
2024-01-12 15:09:47.715 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 15:09:47.717 +06:00 [INF] CORS policy execution successful.
2024-01-12 15:09:47.753 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 15:09:47.761 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 15:09:47.768 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:09:47.777 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:09:47.811 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:09:47.818 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:09:47.821 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:09:47.824 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:09:47.828 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:09:47.830 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:09:47.834 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:09:47.978 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 15:09:48.172 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:09:48.178 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto' ...
2024-01-12 15:09:48.182 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2024-01-12 15:09:48.183 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:09:48.185 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:09:48.207 +06:00 [DBG] Connection id "0HN0J9OMJ548J", Request id "0HN0J9OMJ548J:00000009": started reading request body.
2024-01-12 15:09:48.209 +06:00 [DBG] Connection id "0HN0J9OMJ548J", Request id "0HN0J9OMJ548J:00000009": done reading request body.
2024-01-12 15:09:48.345 +06:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value "string" to type 'CityInfo.API.Entities.City'. Path 'cities[0].user.cities[0]', line 21, position 18.
 ---> System.ArgumentException: Could not cast or convert from System.String to CityInfo.API.Entities.City.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateList(IList list, JsonReader reader, JsonArrayContract contract, JsonProperty containerProperty, String id)
2024-01-12 15:09:48.391 +06:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value "string" to type 'CityInfo.API.Entities.PointOfInterest'. Path 'cities[0].user.pointsOfInterest[0]', line 24, position 18.
 ---> System.ArgumentException: Could not cast or convert from System.String to CityInfo.API.Entities.PointOfInterest.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateList(IList list, JsonReader reader, JsonArrayContract contract, JsonProperty containerProperty, String id)
2024-01-12 15:09:48.399 +06:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value "string" to type 'CityInfo.API.Entities.City'. Path 'cities[0].pointsOfInterest[0].city', line 33, position 26.
 ---> System.ArgumentException: Could not cast or convert from System.String to CityInfo.API.Entities.City.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.ResolvePropertyAndCreatorValues(JsonObjectContract contract, JsonProperty containerProperty, JsonReader reader, Type objectType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObjectUsingCreatorWithParameters(JsonReader reader, JsonObjectContract contract, JsonProperty containerProperty, ObjectConstructor`1 creator, String id)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateNewObject(JsonReader reader, JsonObjectContract objectContract, JsonProperty containerMember, JsonProperty containerProperty, String id, Boolean& createdFromNonDefaultCreator)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateList(IList list, JsonReader reader, JsonArrayContract contract, JsonProperty containerProperty, String id)
2024-01-12 15:09:48.411 +06:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonSerializationException: Error converting value "string" to type 'CityInfo.API.Entities.City'. Path 'pointsOfInterest[0].city', line 59, position 22.
 ---> System.ArgumentException: Could not cast or convert from System.String to CityInfo.API.Entities.City.
   at Newtonsoft.Json.Utilities.ConvertUtils.EnsureTypeAssignable(Object value, Type initialType, Type targetType)
   at Newtonsoft.Json.Utilities.ConvertUtils.ConvertOrCast(Object initialValue, CultureInfo culture, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.EnsureType(JsonReader reader, Object value, CultureInfo culture, JsonContract contract, Type targetType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.ResolvePropertyAndCreatorValues(JsonObjectContract contract, JsonProperty containerProperty, JsonReader reader, Type objectType)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObjectUsingCreatorWithParameters(JsonReader reader, JsonObjectContract contract, JsonProperty containerProperty, ObjectConstructor`1 creator, String id)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateNewObject(JsonReader reader, JsonObjectContract objectContract, JsonProperty containerMember, JsonProperty containerProperty, String id, Boolean& createdFromNonDefaultCreator)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateList(IList list, JsonReader reader, JsonArrayContract contract, JsonProperty containerProperty, String id)
2024-01-12 15:09:48.419 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto'.
2024-01-12 15:09:48.421 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto'.
2024-01-12 15:09:48.423 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserDto' ...
2024-01-12 15:09:48.431 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserDto'.
2024-01-12 15:09:48.435 +06:00 [DBG] The request has model state errors, returning an error response.
2024-01-12 15:09:48.438 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-12 15:09:48.441 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:09:48.445 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:09:48.447 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 15:09:48.451 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 15:09:48.453 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-12 15:09:48.510 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 673.6071ms
2024-01-12 15:09:48.513 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:09:48.518 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 400 931 application/problem+json; charset=utf-8 820.0494ms
2024-01-12 15:11:30.565 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:11:30.594 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 15:11:30.601 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 15:11:30.608 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 45.1224ms
2024-01-12 15:11:30.616 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 15:11:30.617 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 15:11:30.630 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 13.2313ms
2024-01-12 15:11:30.646 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.1089ms
2024-01-12 15:11:30.704 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 15:11:30.726 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.7285ms
2024-01-12 15:11:31.388 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:11:31.400 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 15:11:31.406 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 15:11:31.419 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 30.6813ms
2024-01-12 15:11:31.426 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 15:11:31.427 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 15:11:31.434 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 8.1558ms
2024-01-12 15:11:31.458 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.6517ms
2024-01-12 15:11:31.476 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 15:11:31.492 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.4147ms
2024-01-12 15:11:31.844 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:11:31.851 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 15:11:31.854 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 15:11:31.855 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 11.6427ms
2024-01-12 15:11:31.867 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 15:11:31.868 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 15:11:31.873 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 6.263ms
2024-01-12 15:11:31.892 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 25.0488ms
2024-01-12 15:11:31.910 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 15:11:31.925 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.8152ms
2024-01-12 15:11:47.772 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/users/0 - null null
2024-01-12 15:11:47.777 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 15:11:47.781 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/0'
2024-01-12 15:11:47.784 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/0'
2024-01-12 15:11:47.786 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:11:47.788 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:11:47.798 +06:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(Int32) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:11:47.801 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:11:47.805 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:11:47.808 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:11:47.812 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:11:47.814 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:11:47.817 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:11:47.831 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:11:47.835 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-12 15:11:47.839 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-12 15:11:47.843 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 15:11:47.845 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 15:11:47.848 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-12 15:11:47.850 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-12 15:11:48.668 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 15:11:48.759 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Id == __userId_0)
    .FirstOrDefault()'
2024-01-12 15:11:49.020 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.email (string) Required MaxLength(50), 1], [Property: User.firstName (string) Required MaxLength(50), 2], [Property: User.lastName (string) Required, 3], [Property: User.password (string) Required MaxLength(50), 4], [Property: User.userName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.email, u.firstName, u.lastName, u.password, u.userName
            FROM Users AS u
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 15:11:49.081 +06:00 [DBG] Creating DbConnection.
2024-01-12 15:11:49.117 +06:00 [DBG] Created DbConnection. (31ms).
2024-01-12 15:11:49.126 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:11:49.476 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:11:49.482 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 15:11:49.495 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-01-12 15:11:49.509 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-01-12 15:11:49.530 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-12 15:11:49.652 +06:00 [INF] Executed DbCommand (127ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-12 15:11:49.680 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 15:11:49.691 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 27ms reading results.
2024-01-12 15:11:49.697 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:11:49.707 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-12 15:11:49.716 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:11:49.722 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:11:49.723 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 15:11:49.728 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 15:11:49.731 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 15:11:49.738 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API) in 1921.0356ms
2024-01-12 15:11:49.742 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:11:49.746 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 15:11:49.752 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:11:49.757 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-01-12 15:11:49.762 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/users/0 - 404 162 application/problem+json; charset=utf-8 1990.4277ms
2024-01-12 15:12:36.447 +06:00 [DBG] Connection id "0HN0J9OMJ548J" received FIN.
2024-01-12 15:12:36.452 +06:00 [DBG] Connection id "0HN0J9OMJ548J" is closed. The last processed stream ID was 35.
2024-01-12 15:12:36.454 +06:00 [DBG] Connection id "0HN0J9OMJ548J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-12 15:12:36.462 +06:00 [DBG] The connection queue processing loop for 0HN0J9OMJ548J completed.
2024-01-12 15:12:36.497 +06:00 [DBG] Connection id "0HN0J9OMJ548J" stopped.
2024-01-12 15:41:25.818 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 15:41:25.900 +06:00 [DBG] Hosting starting
2024-01-12 15:41:26.033 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 15:41:26.034 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 15:41:26.036 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 15:41:26.037 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 15:41:26.039 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 15:41:26.041 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 15:41:26.042 +06:00 [INF] Hosting environment: Development
2024-01-12 15:41:26.044 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 15:41:26.045 +06:00 [DBG] Hosting started
2024-01-12 15:41:31.865 +06:00 [DBG] Connection id "0HN0JAAKBFVB6" accepted.
2024-01-12 15:41:31.868 +06:00 [DBG] Connection id "0HN0JAAKBFVB6" started.
2024-01-12 15:41:31.951 +06:00 [DBG] Connection 0HN0JAAKBFVB6 established using the following protocol: "Tls13"
2024-01-12 15:41:32.026 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:41:32.196 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 15:41:32.309 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 15:41:32.331 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 15:41:32.335 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 318.6655ms
2024-01-12 15:41:32.338 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 15:41:32.338 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 15:41:32.357 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 18.7754ms
2024-01-12 15:41:32.410 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.262ms
2024-01-12 15:41:32.464 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 15:41:32.677 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 213.5578ms
2024-01-12 15:44:51.773 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 15:44:51.848 +06:00 [DBG] Hosting starting
2024-01-12 15:44:51.996 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 15:44:51.998 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 15:44:51.999 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 15:44:52.000 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 15:44:52.001 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 15:44:52.003 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 15:44:52.004 +06:00 [INF] Hosting environment: Development
2024-01-12 15:44:52.006 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 15:44:52.007 +06:00 [DBG] Hosting started
2024-01-12 15:44:54.138 +06:00 [DBG] Connection id "0HN0JACGKH1KA" accepted.
2024-01-12 15:44:54.141 +06:00 [DBG] Connection id "0HN0JACGKH1KA" started.
2024-01-12 15:44:54.173 +06:00 [DBG] Connection 0HN0JACGKH1KA established using the following protocol: "Tls13"
2024-01-12 15:44:54.201 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:44:54.271 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 15:44:54.318 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 15:44:54.335 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 15:44:54.339 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 140.7971ms
2024-01-12 15:44:54.342 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 15:44:54.342 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 15:44:54.365 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 23.2892ms
2024-01-12 15:44:54.383 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.8317ms
2024-01-12 15:44:54.485 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 15:44:54.580 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.9204ms
2024-01-12 15:45:51.687 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json-patch+json 134
2024-01-12 15:45:51.700 +06:00 [DBG] POST requests are not supported
2024-01-12 15:45:51.704 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 15:45:51.706 +06:00 [INF] CORS policy execution successful.
2024-01-12 15:45:51.743 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-12 15:45:51.749 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-12 15:45:51.753 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 15:45:51.757 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 15:45:51.786 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:45:51.793 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:45:51.796 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:45:51.799 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:45:51.801 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:45:51.804 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:45:51.808 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:45:51.944 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 15:45:52.139 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:45:52.147 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 15:45:52.151 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-12 15:45:52.154 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:45:52.156 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:45:52.165 +06:00 [DBG] Connection id "0HN0JACGKH1KA", Request id "0HN0JACGKH1KA:00000009": started reading request body.
2024-01-12 15:45:52.167 +06:00 [DBG] Connection id "0HN0JACGKH1KA", Request id "0HN0JACGKH1KA:00000009": done reading request body.
2024-01-12 15:45:52.269 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 15:45:52.272 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 15:45:52.275 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 15:45:52.287 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 15:45:53.046 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 15:45:53.099 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 15:45:53.169 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 15:45:53.183 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 15:45:53.190 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 15:45:53.199 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 15:45:53.292 +06:00 [DBG] Creating DbConnection.
2024-01-12 15:45:53.325 +06:00 [DBG] Created DbConnection. (29ms).
2024-01-12 15:45:53.330 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:45:53.716 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:45:53.732 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 15:45:53.742 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-12 15:45:53.754 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-01-12 15:45:53.765 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 15:45:53.858 +06:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 15:45:53.884 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 15:45:53.899 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 15:45:53.908 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 42ms reading results.
2024-01-12 15:45:53.915 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:45:53.924 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-12 15:45:53.939 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 15:45:53.943 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 15:45:53.952 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:45:53.957 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:45:53.958 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 15:45:53.961 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 15:45:53.965 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 15:45:53.967 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.UserDto'.
2024-01-12 15:45:53.988 +06:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] for address GetUser(id=[0])
2024-01-12 15:45:53.995 +06:00 [DBG] Successfully processed template api/users/{id} for CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API) resulting in /api/users/0 and 
2024-01-12 15:45:53.998 +06:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] with result /api/users/0
2024-01-12 15:45:54.064 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 2252.7114ms
2024-01-12 15:45:54.067 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 15:45:54.073 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 15:45:54.080 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:45:54.084 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-12 15:45:54.087 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 201 154 application/json; charset=utf-8 2401.4512ms
2024-01-12 15:47:23.570 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/users/0 - null null
2024-01-12 15:47:23.586 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 15:47:23.591 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/0'
2024-01-12 15:47:23.595 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/0'
2024-01-12 15:47:23.598 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:47:23.602 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:47:23.618 +06:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(Int32) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:47:23.624 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:47:23.627 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:47:23.631 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:47:23.635 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:47:23.639 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:47:23.643 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:47:23.649 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:47:23.663 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-12 15:47:23.667 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-12 15:47:23.675 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 15:47:23.679 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 15:47:23.683 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-12 15:47:23.687 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-12 15:47:23.801 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 15:47:23.909 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Id == __userId_0)
    .FirstOrDefault()'
2024-01-12 15:47:24.153 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.email (string) Required MaxLength(50), 1], [Property: User.firstName (string) Required MaxLength(50), 2], [Property: User.lastName (string) Required, 3], [Property: User.password (string) Required MaxLength(50), 4], [Property: User.userName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.email, u.firstName, u.lastName, u.password, u.userName
            FROM Users AS u
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 15:47:24.198 +06:00 [DBG] Creating DbConnection.
2024-01-12 15:47:24.201 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 15:47:24.203 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:47:24.207 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:47:24.208 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 15:47:24.210 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 15:47:24.212 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 15:47:24.215 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-12 15:47:24.238 +06:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-12 15:47:24.248 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 15:47:24.250 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 8ms reading results.
2024-01-12 15:47:24.252 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:47:24.254 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 15:47:24.257 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:47:24.262 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:47:24.263 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 15:47:24.267 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 15:47:24.269 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 15:47:24.286 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API) in 642.5053ms
2024-01-12 15:47:24.288 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:47:24.290 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 15:47:24.291 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:47:24.293 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 15:47:24.295 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/users/0 - 404 162 application/problem+json; charset=utf-8 725.0234ms
2024-01-12 15:48:10.424 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/users/1 - null null
2024-01-12 15:48:10.434 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 15:48:10.437 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/1'
2024-01-12 15:48:10.439 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)' with route pattern 'api/users/{id}' is valid for the request path '/api/users/1'
2024-01-12 15:48:10.442 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:48:10.444 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:48:10.446 +06:00 [INF] Route matched with {action = "GetUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUser(Int32) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:48:10.449 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:48:10.452 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:48:10.454 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:48:10.456 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:48:10.459 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:48:10.461 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:48:10.467 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:48:10.471 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-12 15:48:10.475 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-12 15:48:10.479 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 15:48:10.481 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 15:48:10.483 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-12 15:48:10.485 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-12 15:48:10.508 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 15:48:10.527 +06:00 [DBG] Creating DbConnection.
2024-01-12 15:48:10.530 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 15:48:10.533 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:48:10.536 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:48:10.539 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 15:48:10.541 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 15:48:10.543 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 15:48:10.545 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-12 15:48:10.556 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-12 15:48:10.567 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 15:48:10.572 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 15:48:10.574 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 13ms reading results.
2024-01-12 15:48:10.578 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:48:10.579 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 15:48:10.584 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:48:10.589 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:48:10.591 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 15:48:10.593 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 15:48:10.593 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 15:48:10.596 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.UserWithoutCityDto'.
2024-01-12 15:48:10.602 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API) in 140.8708ms
2024-01-12 15:48:10.610 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)'
2024-01-12 15:48:10.611 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 15:48:10.613 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:48:10.615 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 15:48:10.618 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/users/1 - 200 120 application/json; charset=utf-8 193.4932ms
2024-01-12 15:51:31.949 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 15:51:32.021 +06:00 [DBG] Hosting starting
2024-01-12 15:51:32.174 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 15:51:32.175 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 15:51:32.177 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 15:51:32.178 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 15:51:32.179 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 15:51:32.180 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 15:51:32.181 +06:00 [INF] Hosting environment: Development
2024-01-12 15:51:32.183 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 15:51:32.184 +06:00 [DBG] Hosting started
2024-01-12 15:51:43.030 +06:00 [DBG] Connection id "0HN0JAGAG0QNP" accepted.
2024-01-12 15:51:43.035 +06:00 [DBG] Connection id "0HN0JAGAG0QNP" started.
2024-01-12 15:51:43.123 +06:00 [DBG] Connection 0HN0JAGAG0QNP established using the following protocol: "Tls13"
2024-01-12 15:51:43.201 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 47
2024-01-12 15:51:43.218 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 15:51:43.243 +06:00 [DBG] POST requests are not supported
2024-01-12 15:51:43.246 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 15:51:43.247 +06:00 [INF] CORS policy execution successful.
2024-01-12 15:51:43.279 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 15:51:43.286 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 15:51:43.292 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:51:43.299 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:51:43.333 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:51:43.343 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:51:43.346 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:51:43.350 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:51:43.353 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:51:43.357 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:51:43.362 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:51:43.508 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 15:51:43.731 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:51:43.737 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto' ...
2024-01-12 15:51:43.742 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto' using the name '' in request data ...
2024-01-12 15:51:43.745 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:51:43.747 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:51:43.754 +06:00 [DBG] Connection id "0HN0JAGAG0QNP", Request id "0HN0JAGAG0QNP:00000001": started reading request body.
2024-01-12 15:51:43.756 +06:00 [DBG] Connection id "0HN0JAGAG0QNP", Request id "0HN0JAGAG0QNP:00000001": done reading request body.
2024-01-12 15:51:43.866 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto'.
2024-01-12 15:51:43.870 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserDto'.
2024-01-12 15:51:43.872 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserDto' ...
2024-01-12 15:51:43.886 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserDto'.
2024-01-12 15:51:43.895 +06:00 [DBG] The request has model state errors, returning an error response.
2024-01-12 15:51:43.898 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-12 15:51:43.902 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:51:43.908 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:51:43.910 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 15:51:43.913 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 15:51:43.917 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-12 15:51:43.993 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 627.9555ms
2024-01-12 15:51:43.995 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:51:44.002 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 400 340 application/problem+json; charset=utf-8 809.8655ms
2024-01-12 15:56:48.024 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 15:56:48.090 +06:00 [DBG] Hosting starting
2024-01-12 15:56:48.203 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 15:56:48.205 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 15:56:48.206 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 15:56:48.207 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 15:56:48.208 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 15:56:48.210 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 15:56:48.211 +06:00 [INF] Hosting environment: Development
2024-01-12 15:56:48.212 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 15:56:48.213 +06:00 [DBG] Hosting started
2024-01-12 15:56:48.341 +06:00 [DBG] Connection id "0HN0JAJ5FMH82" accepted.
2024-01-12 15:56:48.343 +06:00 [DBG] Connection id "0HN0JAJ5FMH82" started.
2024-01-12 15:56:48.377 +06:00 [DBG] Connection 0HN0JAJ5FMH82 established using the following protocol: "Tls13"
2024-01-12 15:56:48.397 +06:00 [DBG] Connection id "0HN0JAJ5FMH83" accepted.
2024-01-12 15:56:48.398 +06:00 [DBG] Connection id "0HN0JAJ5FMH83" started.
2024-01-12 15:56:48.402 +06:00 [DBG] Connection 0HN0JAJ5FMH83 established using the following protocol: "Tls13"
2024-01-12 15:56:48.408 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:56:48.470 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 15:56:48.513 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 15:56:48.531 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 15:56:48.533 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 127.2746ms
2024-01-12 15:56:48.537 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 15:56:48.537 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 15:56:48.564 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 23.3014ms
2024-01-12 15:56:48.587 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.5052ms
2024-01-12 15:56:48.645 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 15:56:48.738 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.265ms
2024-01-12 15:57:16.103 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 47
2024-01-12 15:57:16.148 +06:00 [DBG] POST requests are not supported
2024-01-12 15:57:16.153 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 15:57:16.157 +06:00 [INF] CORS policy execution successful.
2024-01-12 15:57:16.203 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 15:57:16.210 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 15:57:16.215 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:57:16.222 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:57:16.257 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:57:16.263 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:57:16.265 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:57:16.268 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:57:16.272 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:57:16.275 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:57:16.281 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:57:16.408 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 15:57:16.620 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:57:16.625 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:57:16.628 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 15:57:16.631 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:57:16.632 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:57:16.670 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:00000009": started reading request body.
2024-01-12 15:57:16.672 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:00000009": done reading request body.
2024-01-12 15:57:16.760 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:57:16.763 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:57:16.764 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:57:16.772 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:57:17.614 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 15:57:17.678 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-12 15:57:17.894 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 15:57:17.954 +06:00 [DBG] Creating DbConnection.
2024-01-12 15:57:17.984 +06:00 [DBG] Created DbConnection. (27ms).
2024-01-12 15:57:17.989 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:18.305 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:18.311 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 15:57:18.321 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-12 15:57:18.337 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-01-12 15:57:18.355 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 15:57:18.473 +06:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 15:57:18.498 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:18.509 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 25ms reading results.
2024-01-12 15:57:18.516 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:18.526 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-12 15:57:18.537 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:57:18.546 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:57:18.548 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 15:57:18.549 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 15:57:18.551 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 15:57:18.555 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 15:57:18.612 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 2330.2722ms
2024-01-12 15:57:18.617 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:57:18.623 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 15:57:18.629 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:18.633 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 15:57:18.635 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 2532.0656ms
2024-01-12 15:57:35.941 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 47
2024-01-12 15:57:35.947 +06:00 [DBG] POST requests are not supported
2024-01-12 15:57:35.950 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 15:57:35.952 +06:00 [INF] CORS policy execution successful.
2024-01-12 15:57:35.955 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 15:57:35.957 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 15:57:35.959 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:57:35.962 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:57:35.964 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:57:35.967 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:57:35.971 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:57:35.973 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:57:35.976 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:57:35.978 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:57:35.980 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:57:35.983 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:57:35.986 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:57:35.989 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 15:57:35.992 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:57:35.995 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:57:35.997 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:0000000B": started reading request body.
2024-01-12 15:57:35.999 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:0000000B": done reading request body.
2024-01-12 15:57:36.001 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:57:36.004 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:57:36.007 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:57:36.010 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:57:36.035 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 15:57:36.044 +06:00 [DBG] Creating DbConnection.
2024-01-12 15:57:36.046 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 15:57:36.048 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:36.052 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:36.056 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 15:57:36.058 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 15:57:36.060 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 15:57:36.063 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 15:57:36.072 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 15:57:36.075 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:36.078 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 15:57:36.080 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:36.081 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-12 15:57:36.083 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:57:36.087 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:57:36.089 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 15:57:36.090 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 15:57:36.091 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 15:57:36.094 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 15:57:36.096 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 116.0149ms
2024-01-12 15:57:36.098 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:57:36.100 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 15:57:36.101 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:57:36.103 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 15:57:36.105 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 163.7195ms
2024-01-12 15:58:20.250 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 46
2024-01-12 15:58:20.256 +06:00 [DBG] POST requests are not supported
2024-01-12 15:58:20.258 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 15:58:20.261 +06:00 [INF] CORS policy execution successful.
2024-01-12 15:58:20.263 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 15:58:20.265 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 15:58:20.267 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:58:20.271 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:58:20.274 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:58:20.280 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:58:20.283 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:58:20.287 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:58:20.292 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:58:20.295 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:58:20.299 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:58:20.309 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:58:20.314 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:58:20.321 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 15:58:20.329 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:58:20.335 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:58:20.342 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:0000000D": started reading request body.
2024-01-12 15:58:20.347 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:0000000D": done reading request body.
2024-01-12 15:58:20.359 +06:00 [DBG] JSON input formatter threw an exception.
Newtonsoft.Json.JsonReaderException: After parsing a value an unexpected character was encountered: ". Path 'userName', line 3, position 2.
   at Newtonsoft.Json.JsonTextReader.ParsePostValue(Boolean ignoreComments)
   at Newtonsoft.Json.JsonTextReader.Read()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.PopulateObject(Object newObject, JsonReader reader, JsonObjectContract contract, JsonProperty member, String id)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateObject(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.CreateValueInternal(JsonReader reader, Type objectType, JsonContract contract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerMember, Object existingValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalReader.Deserialize(JsonReader reader, Type objectType, Boolean checkAdditionalContent)
2024-01-12 15:58:20.405 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:58:20.410 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:58:20.413 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:58:20.419 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:58:20.423 +06:00 [DBG] The request has model state errors, returning an error response.
2024-01-12 15:58:20.428 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-12 15:58:20.432 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:58:20.440 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:58:20.442 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 15:58:20.447 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 15:58:20.450 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-01-12 15:58:20.497 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 198.1308ms
2024-01-12 15:58:20.503 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:58:20.506 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 400 367 application/problem+json; charset=utf-8 256.9613ms
2024-01-12 15:58:48.462 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 47
2024-01-12 15:58:48.464 +06:00 [DBG] POST requests are not supported
2024-01-12 15:58:48.465 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 15:58:48.467 +06:00 [INF] CORS policy execution successful.
2024-01-12 15:58:48.468 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 15:58:48.471 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 15:58:48.475 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:58:48.477 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:58:48.479 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 15:58:48.480 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 15:58:48.482 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 15:58:48.484 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 15:58:48.488 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 15:58:48.492 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 15:58:48.494 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:58:48.496 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 15:58:48.497 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:58:48.499 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 15:58:48.501 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:58:48.504 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 15:58:48.506 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:0000000F": started reading request body.
2024-01-12 15:58:48.508 +06:00 [DBG] Connection id "0HN0JAJ5FMH82", Request id "0HN0JAJ5FMH82:0000000F": done reading request body.
2024-01-12 15:58:48.510 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:58:48.512 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:58:48.514 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 15:58:48.516 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 15:58:48.588 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 15:58:48.595 +06:00 [DBG] Creating DbConnection.
2024-01-12 15:58:48.596 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-12 15:58:48.598 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:58:48.599 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:58:48.602 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 15:58:48.604 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 15:58:48.606 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 15:58:48.608 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 15:58:48.624 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 15:58:48.629 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 15:58:48.631 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 15:58:48.633 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:58:48.636 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 15:58:48.639 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 15:58:48.644 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 15:58:48.645 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 15:58:48.646 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 15:58:48.648 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 15:58:48.649 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 15:58:48.652 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 157.901ms
2024-01-12 15:58:48.660 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 15:58:48.662 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 15:58:48.664 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 15:58:48.665 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 15:58:48.667 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 205.6918ms
2024-01-12 15:59:58.388 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 15:59:58.474 +06:00 [DBG] Hosting starting
2024-01-12 15:59:58.600 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 15:59:58.601 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 15:59:58.602 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 15:59:58.603 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 15:59:58.604 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 15:59:58.606 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 15:59:58.608 +06:00 [INF] Hosting environment: Development
2024-01-12 15:59:58.609 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 15:59:58.611 +06:00 [DBG] Hosting started
2024-01-12 15:59:59.819 +06:00 [DBG] Connection id "0HN0JAKUHOTCU" accepted.
2024-01-12 15:59:59.822 +06:00 [DBG] Connection id "0HN0JAKUHOTCU" started.
2024-01-12 15:59:59.862 +06:00 [DBG] Connection 0HN0JAKUHOTCU established using the following protocol: "Tls13"
2024-01-12 15:59:59.892 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 15:59:59.971 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 16:00:00.009 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 16:00:00.026 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 16:00:00.033 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 142.9852ms
2024-01-12 16:00:00.036 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 16:00:00.036 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 16:00:00.062 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 26.6692ms
2024-01-12 16:00:00.079 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.0909ms
2024-01-12 16:00:00.420 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 16:00:00.540 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.1709ms
2024-01-12 16:00:22.531 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 47
2024-01-12 16:00:22.544 +06:00 [DBG] POST requests are not supported
2024-01-12 16:00:22.547 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 16:00:22.550 +06:00 [INF] CORS policy execution successful.
2024-01-12 16:00:22.584 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 16:00:22.590 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 16:00:22.595 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 16:00:22.602 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 16:00:22.635 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 16:00:22.642 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 16:00:22.644 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 16:00:22.647 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 16:00:22.650 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 16:00:22.653 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 16:00:22.657 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 16:00:22.792 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 16:00:22.976 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 16:00:22.981 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 16:00:22.985 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 16:00:22.987 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 16:00:22.989 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 16:00:22.997 +06:00 [DBG] Connection id "0HN0JAKUHOTCU", Request id "0HN0JAKUHOTCU:00000009": started reading request body.
2024-01-12 16:00:23.004 +06:00 [DBG] Connection id "0HN0JAKUHOTCU", Request id "0HN0JAKUHOTCU:00000009": done reading request body.
2024-01-12 16:00:23.111 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 16:00:23.115 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 16:00:23.117 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 16:00:23.127 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 16:00:23.982 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 16:00:24.038 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-12 16:00:24.242 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 16:00:24.297 +06:00 [DBG] Creating DbConnection.
2024-01-12 16:00:24.326 +06:00 [DBG] Created DbConnection. (26ms).
2024-01-12 16:00:24.334 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.667 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.673 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 16:00:24.686 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-01-12 16:00:24.699 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-01-12 16:00:24.715 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:00:24.823 +06:00 [INF] Executed DbCommand (111ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:00:24.855 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.870 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 33ms reading results.
2024-01-12 16:00:24.877 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.887 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-12 16:00:24.894 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-12 16:00:24.901 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 16:00:24.905 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.908 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.911 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 16:00:24.912 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 16:00:24.914 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 16:00:24.917 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:00:24.930 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:00:24.933 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.935 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 16:00:24.937 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:24.939 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 16:00:24.946 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 16:00:24.951 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 16:00:24.953 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 16:00:24.955 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 16:00:24.958 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 16:00:24.960 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 16:00:25.006 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 2347.4289ms
2024-01-12 16:00:25.010 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 16:00:25.016 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 16:00:25.021 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:00:25.025 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 16:00:25.027 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 2499.2065ms
2024-01-12 16:00:53.248 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 16:00:53.313 +06:00 [DBG] Hosting starting
2024-01-12 16:00:53.431 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 16:00:53.432 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 16:00:53.433 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 16:00:53.435 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 16:00:53.436 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 16:00:53.438 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 16:00:53.439 +06:00 [INF] Hosting environment: Development
2024-01-12 16:00:53.440 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 16:00:53.441 +06:00 [DBG] Hosting started
2024-01-12 16:00:56.528 +06:00 [DBG] Connection id "0HN0JALFEJ0N8" accepted.
2024-01-12 16:00:56.532 +06:00 [DBG] Connection id "0HN0JALFEJ0N8" started.
2024-01-12 16:00:56.569 +06:00 [DBG] Connection 0HN0JALFEJ0N8 established using the following protocol: "Tls13"
2024-01-12 16:00:56.599 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 16:00:56.668 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 16:00:56.706 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 16:00:56.720 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 16:00:56.723 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 126.4285ms
2024-01-12 16:00:56.730 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 16:00:56.730 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 16:00:56.750 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 20.1246ms
2024-01-12 16:00:56.769 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.4843ms
2024-01-12 16:00:56.957 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 16:00:57.048 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.0453ms
2024-01-12 16:01:28.687 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json-patch+json 47
2024-01-12 16:01:28.696 +06:00 [DBG] POST requests are not supported
2024-01-12 16:01:28.699 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 16:01:28.702 +06:00 [INF] CORS policy execution successful.
2024-01-12 16:01:28.779 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 16:01:28.788 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 16:01:28.794 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 16:01:28.801 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 16:01:28.835 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 16:01:28.845 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 16:01:28.847 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 16:01:28.849 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 16:01:28.853 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 16:01:28.856 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 16:01:28.860 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 16:01:29.019 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 16:01:29.193 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 16:01:29.198 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 16:01:29.201 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 16:01:29.204 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 16:01:29.205 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 16:01:29.212 +06:00 [DBG] Connection id "0HN0JALFEJ0N8", Request id "0HN0JALFEJ0N8:00000009": started reading request body.
2024-01-12 16:01:29.215 +06:00 [DBG] Connection id "0HN0JALFEJ0N8", Request id "0HN0JALFEJ0N8:00000009": done reading request body.
2024-01-12 16:01:29.304 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 16:01:29.308 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 16:01:29.310 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 16:01:29.318 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 16:01:30.139 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 16:01:30.202 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-12 16:01:30.418 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 16:01:30.477 +06:00 [DBG] Creating DbConnection.
2024-01-12 16:01:30.507 +06:00 [DBG] Created DbConnection. (27ms).
2024-01-12 16:01:30.513 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:30.809 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:30.814 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 16:01:30.824 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-12 16:01:30.849 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (35ms).
2024-01-12 16:01:30.860 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:01:30.952 +06:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:01:30.979 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:30.993 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 28ms reading results.
2024-01-12 16:01:31.001 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:31.011 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-12 16:01:31.017 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-12 16:01:31.024 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 16:01:31.027 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:31.030 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:31.033 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 16:01:31.035 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 16:01:31.037 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 16:01:31.040 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:01:31.048 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 16:01:31.051 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:31.053 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 16:01:31.055 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:31.059 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 16:01:31.067 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 16:01:31.072 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 16:01:31.073 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 16:01:31.074 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 16:01:31.080 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 16:01:31.085 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 16:01:31.136 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 2273.6842ms
2024-01-12 16:01:31.139 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 16:01:31.144 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 16:01:31.150 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 16:01:31.153 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 16:01:31.155 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 2471.2733ms
2024-01-12 17:02:16.446 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 17:02:16.553 +06:00 [DBG] Hosting starting
2024-01-12 17:02:16.700 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 17:02:16.701 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 17:02:16.702 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 17:02:16.703 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 17:02:16.704 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 17:02:16.705 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 17:02:16.706 +06:00 [INF] Hosting environment: Development
2024-01-12 17:02:16.707 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 17:02:16.708 +06:00 [DBG] Hosting started
2024-01-12 17:02:34.891 +06:00 [DBG] Connection id "0HN0JBNTKTTH6" accepted.
2024-01-12 17:02:34.898 +06:00 [DBG] Connection id "0HN0JBNTKTTH6" started.
2024-01-12 17:02:34.971 +06:00 [DBG] Connection 0HN0JBNTKTTH6 established using the following protocol: "Tls13"
2024-01-12 17:02:35.036 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-12 17:02:35.050 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 17:02:35.069 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:02:35.103 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:02:35.105 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:02:35.107 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:02:35.111 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 81.2883ms
2024-01-12 17:02:35.122 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 110
2024-01-12 17:02:35.128 +06:00 [DBG] POST requests are not supported
2024-01-12 17:02:35.130 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:02:35.132 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:02:35.165 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-12 17:02:35.172 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-12 17:02:35.174 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:02:35.182 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:02:35.212 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 17:02:35.220 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:02:35.223 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:02:35.226 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:02:35.228 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:02:35.230 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:02:35.234 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:02:35.382 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 17:02:35.581 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:02:35.589 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:02:35.593 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-12 17:02:35.599 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:02:35.603 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:02:35.610 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:00000003": started reading request body.
2024-01-12 17:02:35.613 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:00000003": done reading request body.
2024-01-12 17:02:35.709 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:02:35.711 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:02:35.712 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:02:35.720 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:02:36.451 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:02:36.503 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:02:36.588 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:02:36.601 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:02:36.608 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:02:36.623 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:02:36.716 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:02:36.768 +06:00 [DBG] Created DbConnection. (51ms).
2024-01-12 17:02:36.778 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:02:37.104 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:02:37.118 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:02:37.129 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-01-12 17:02:37.144 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-01-12 17:02:37.158 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:02:37.258 +06:00 [INF] Executed DbCommand (103ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:02:37.287 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:02:37.307 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:02:37.317 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 45ms reading results.
2024-01-12 17:02:37.323 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:02:37.332 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (8ms).
2024-01-12 17:02:37.352 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:02:37.359 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:02:37.366 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:02:37.373 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:02:37.375 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:02:37.376 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:02:37.379 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:02:37.382 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.UserDto'.
2024-01-12 17:02:37.402 +06:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] for address GetUser(id=[0])
2024-01-12 17:02:37.409 +06:00 [DBG] Successfully processed template api/users/{id} for CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API) resulting in /api/users/0 and 
2024-01-12 17:02:37.413 +06:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] with result /api/users/0
2024-01-12 17:02:37.476 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 2240.5553ms
2024-01-12 17:02:37.479 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:02:37.486 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:02:37.492 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:02:37.496 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 17:02:37.499 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 201 151 application/json; charset=utf-8 2378.0574ms
2024-01-12 17:04:00.544 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-12 17:04:00.559 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:04:00.561 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:04:00.563 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:04:00.565 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:04:00.569 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 26.0242ms
2024-01-12 17:04:00.575 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 110
2024-01-12 17:04:00.591 +06:00 [DBG] POST requests are not supported
2024-01-12 17:04:00.593 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:04:00.595 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:04:00.598 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-12 17:04:00.601 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-12 17:04:00.604 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:04:00.607 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:04:00.609 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 17:04:00.612 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:04:00.614 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:04:00.617 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:04:00.619 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:04:00.622 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:04:00.624 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:04:00.627 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:04:00.629 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:04:00.631 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-12 17:04:00.634 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:04:00.635 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:04:00.637 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:00000007": started reading request body.
2024-01-12 17:04:00.639 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:00000007": done reading request body.
2024-01-12 17:04:00.641 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:04:00.643 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:04:00.645 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:04:00.648 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:04:00.704 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:04:00.708 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:04:00.710 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:04:00.712 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:04:00.714 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:04:00.716 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:04:00.719 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:04:00.720 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:04:00.722 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:04:00.725 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:04:00.727 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:04:00.729 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:04:00.731 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:04:00.733 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:04:00.750 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:04:00.754 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:04:00.756 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:04:00.758 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-12 17:04:00.760 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:04:00.765 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-12 17:04:00.770 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:04:00.775 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:04:00.781 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:04:00.788 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:04:00.791 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:04:00.794 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:04:00.796 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:04:00.798 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.UserDto'.
2024-01-12 17:04:00.800 +06:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] for address GetUser(id=[0])
2024-01-12 17:04:00.803 +06:00 [DBG] Successfully processed template api/users/{id} for CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API) resulting in /api/users/0 and 
2024-01-12 17:04:00.805 +06:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] with result /api/users/0
2024-01-12 17:04:00.808 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 183.4096ms
2024-01-12 17:04:00.809 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:04:00.811 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:04:00.812 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:04:00.814 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:04:00.816 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 201 151 application/json; charset=utf-8 241.8138ms
2024-01-12 17:05:57.751 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-12 17:05:57.765 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:05:57.767 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:05:57.769 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:05:57.771 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:05:57.772 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 21.3471ms
2024-01-12 17:05:57.777 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 119
2024-01-12 17:05:57.782 +06:00 [DBG] POST requests are not supported
2024-01-12 17:05:57.783 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:05:57.785 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:05:57.786 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-12 17:05:57.787 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-12 17:05:57.790 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:05:57.793 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:05:57.794 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 17:05:57.797 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:05:57.798 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:05:57.800 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:05:57.802 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:05:57.803 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:05:57.805 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:05:57.809 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:05:57.810 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:05:57.813 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-12 17:05:57.814 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:05:57.816 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:05:57.817 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:0000000B": started reading request body.
2024-01-12 17:05:57.818 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:0000000B": done reading request body.
2024-01-12 17:05:57.820 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:05:57.821 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:05:57.822 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:05:57.823 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:06:01.817 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:06:01.821 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:06:01.823 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:06:04.701 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:06:04.705 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:06:04.708 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:06:04.710 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:06:04.711 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:06:04.713 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:06:04.714 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:06:04.716 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:06:04.718 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:06:04.720 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 17:06:04.722 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:06:04.740 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:06:04.743 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:06:04.745 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:06:04.746 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:06:04.749 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:06:04.751 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 17:06:04.754 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:06:04.756 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:06:08.854 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:06:08.859 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:06:08.860 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:06:08.861 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:06:08.862 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:06:08.863 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.UserDto'.
2024-01-12 17:06:08.865 +06:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] for address GetUser(id=[0])
2024-01-12 17:06:08.866 +06:00 [DBG] Successfully processed template api/users/{id} for CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API) resulting in /api/users/0 and 
2024-01-12 17:06:08.868 +06:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.UsersController.GetUser (CityInfo.API)"] with result /api/users/0
2024-01-12 17:06:08.870 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 11064.9749ms
2024-01-12 17:06:08.871 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:06:08.872 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:06:08.873 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:06:08.874 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:06:08.877 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 201 160 application/json; charset=utf-8 11099.34ms
2024-01-12 17:07:22.658 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 17:07:22.665 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:07:22.666 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:07:22.668 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:07:22.669 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:07:22.670 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 13.5472ms
2024-01-12 17:07:22.674 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 43
2024-01-12 17:07:22.680 +06:00 [DBG] POST requests are not supported
2024-01-12 17:07:22.681 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:07:22.682 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:07:22.683 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 17:07:22.685 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 17:07:22.687 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 17:07:22.689 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 17:07:22.694 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 17:07:22.696 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:07:22.698 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:07:22.700 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:07:22.703 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:07:22.704 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:07:22.706 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:07:22.707 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:07:22.708 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 17:07:22.710 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 17:07:22.711 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:07:22.712 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:07:22.714 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:0000000F": started reading request body.
2024-01-12 17:07:22.715 +06:00 [DBG] Connection id "0HN0JBNTKTTH6", Request id "0HN0JBNTKTTH6:0000000F": done reading request body.
2024-01-12 17:07:22.719 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 17:07:22.721 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 17:07:22.722 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 17:07:22.724 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 17:07:22.743 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:07:22.770 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-12 17:07:22.850 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 17:07:22.868 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:07:22.869 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-12 17:07:22.870 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.871 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.873 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:07:22.873 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 17:07:22.875 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:07:22.876 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:07:22.888 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:07:22.893 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.894 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:07:22.895 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.896 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:07:22.899 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-12 17:07:22.901 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 17:07:22.903 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.905 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.906 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:07:22.906 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 17:07:22.907 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:07:22.908 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:07:22.913 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:07:22.915 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.915 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2024-01-12 17:07:22.916 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.917 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:07:22.919 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:07:22.925 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:07:22.926 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:07:22.927 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:07:22.928 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:07:22.929 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 17:07:22.933 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 227.2044ms
2024-01-12 17:07:22.934 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 17:07:22.936 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:07:22.937 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:07:22.938 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 17:07:22.939 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 265.4448ms
2024-01-12 17:08:29.041 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 17:08:29.110 +06:00 [DBG] Hosting starting
2024-01-12 17:08:29.213 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 17:08:29.214 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 17:08:29.215 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 17:08:29.216 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 17:08:29.217 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 17:08:29.218 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 17:08:29.219 +06:00 [INF] Hosting environment: Development
2024-01-12 17:08:29.220 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 17:08:29.221 +06:00 [DBG] Hosting started
2024-01-12 17:08:57.930 +06:00 [DBG] Connection id "0HN0JBRFPS7B9" accepted.
2024-01-12 17:08:57.932 +06:00 [DBG] Connection id "0HN0JBRFPS7B9" started.
2024-01-12 17:08:57.971 +06:00 [DBG] Connection 0HN0JBRFPS7B9 established using the following protocol: "Tls13"
2024-01-12 17:08:58.001 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-12 17:08:58.007 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 17:08:58.016 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:08:58.017 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:08:58.019 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:08:58.021 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:08:58.024 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 25.3351ms
2024-01-12 17:08:58.029 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 108
2024-01-12 17:08:58.034 +06:00 [DBG] POST requests are not supported
2024-01-12 17:08:58.036 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:08:58.037 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:08:58.049 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-12 17:08:58.051 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-12 17:08:58.054 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:08:58.058 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:08:58.076 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 17:08:58.082 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:08:58.084 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:08:58.086 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:08:58.088 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:08:58.090 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:08:58.093 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:08:58.163 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 17:08:58.243 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:08:58.248 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:08:58.252 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-12 17:08:58.255 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:08:58.257 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:08:58.263 +06:00 [DBG] Connection id "0HN0JBRFPS7B9", Request id "0HN0JBRFPS7B9:00000003": started reading request body.
2024-01-12 17:08:58.265 +06:00 [DBG] Connection id "0HN0JBRFPS7B9", Request id "0HN0JBRFPS7B9:00000003": done reading request body.
2024-01-12 17:08:58.305 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:08:58.307 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:08:58.308 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:08:58.313 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:08:58.633 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:08:58.660 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:08:58.698 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:08:58.704 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:08:58.708 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:08:58.715 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:08:58.751 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:08:58.785 +06:00 [DBG] Created DbConnection. (32ms).
2024-01-12 17:08:58.789 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:08:58.988 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:08:58.995 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:08:58.999 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:08:59.005 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-12 17:08:59.010 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:08:59.060 +06:00 [INF] Executed DbCommand (51ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:08:59.079 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:08:59.092 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:08:59.100 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 32ms reading results.
2024-01-12 17:08:59.105 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:08:59.111 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-12 17:08:59.119 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:08:59.122 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:08:59.127 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:08:59.132 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:08:59.133 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:08:59.135 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:08:59.137 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:08:59.139 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2024-01-12 17:08:59.167 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 1073.2356ms
2024-01-12 17:08:59.170 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:08:59.174 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:08:59.178 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:08:59.180 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:08:59.183 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 149 application/json; charset=utf-8 1153.9624ms
2024-01-12 17:14:38.548 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-12 17:14:38.557 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:14:38.558 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:14:38.560 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:14:38.561 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:14:38.563 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 17.3687ms
2024-01-12 17:14:38.564 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 102
2024-01-12 17:14:38.570 +06:00 [DBG] POST requests are not supported
2024-01-12 17:14:38.571 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:14:38.573 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:14:38.575 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-12 17:14:38.577 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-12 17:14:38.579 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:14:38.581 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:14:38.583 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 17:14:38.585 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:14:38.587 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:14:38.589 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:14:38.591 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:14:38.594 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:14:38.596 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:14:38.599 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:14:38.601 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:14:38.603 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-12 17:14:38.605 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:14:38.606 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:14:38.608 +06:00 [DBG] Connection id "0HN0JBRFPS7B9", Request id "0HN0JBRFPS7B9:00000007": started reading request body.
2024-01-12 17:14:38.610 +06:00 [DBG] Connection id "0HN0JBRFPS7B9", Request id "0HN0JBRFPS7B9:00000007": done reading request body.
2024-01-12 17:14:38.612 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:14:38.614 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:14:38.616 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-12 17:14:38.618 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-12 17:14:38.663 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:14:38.669 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:14:38.671 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:14:38.673 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:14:38.674 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:14:38.676 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:14:38.677 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:14:38.679 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:14:38.680 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:38.682 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:38.684 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:14:38.685 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:14:38.687 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:14:38.689 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:14:38.705 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-12 17:14:38.708 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:14:38.710 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:38.712 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:14:38.714 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:38.716 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:14:38.719 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:14:38.722 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:14:38.725 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:14:38.728 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:14:38.730 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:14:38.731 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:14:38.732 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:14:38.734 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2024-01-12 17:14:38.737 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 140.9778ms
2024-01-12 17:14:38.738 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-12 17:14:38.740 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:14:38.742 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:38.744 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:14:38.746 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 143 application/json; charset=utf-8 182.1887ms
2024-01-12 17:14:56.283 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 17:14:56.286 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:14:56.288 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:14:56.289 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:14:56.290 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:14:56.291 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 8.6016ms
2024-01-12 17:14:56.293 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 39
2024-01-12 17:14:56.298 +06:00 [DBG] POST requests are not supported
2024-01-12 17:14:56.299 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:14:56.300 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:14:56.301 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 17:14:56.304 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 17:14:56.305 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 17:14:56.307 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 17:14:56.314 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 17:14:56.316 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:14:56.318 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:14:56.320 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:14:56.322 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:14:56.324 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:14:56.326 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:14:56.329 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 17:14:56.331 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 17:14:56.332 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 17:14:56.334 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:14:56.336 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:14:56.338 +06:00 [DBG] Connection id "0HN0JBRFPS7B9", Request id "0HN0JBRFPS7B9:0000000B": started reading request body.
2024-01-12 17:14:56.339 +06:00 [DBG] Connection id "0HN0JBRFPS7B9", Request id "0HN0JBRFPS7B9:0000000B": done reading request body.
2024-01-12 17:14:56.344 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 17:14:56.346 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 17:14:56.348 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 17:14:56.350 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 17:14:56.376 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:14:56.402 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-12 17:14:56.479 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 17:14:56.496 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:14:56.497 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:14:56.498 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.500 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.502 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:14:56.503 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:14:56.504 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:14:56.506 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:14:56.510 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:14:56.514 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.516 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-12 17:14:56.517 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.518 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:14:56.523 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-12 17:14:56.531 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 17:14:56.533 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.534 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.535 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:14:56.536 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 17:14:56.537 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:14:56.538 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:14:56.541 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:14:56.544 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.546 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 17:14:56.548 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.549 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:14:56.552 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:14:56.555 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:14:56.556 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:14:56.557 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:14:56.558 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:14:56.559 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 17:14:56.562 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 235.8377ms
2024-01-12 17:14:56.563 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 17:14:56.564 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:14:56.565 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:14:56.566 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:14:56.568 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 275.1514ms
2024-01-12 17:15:54.927 +06:00 [DBG] Connection id "0HN0JBRFPS7B9" received FIN.
2024-01-12 17:15:54.948 +06:00 [DBG] Connection id "0HN0JBRFPS7B9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-12 17:15:54.948 +06:00 [DBG] Connection id "0HN0JBRFPS7B9" is closed. The last processed stream ID was 11.
2024-01-12 17:15:54.952 +06:00 [DBG] The connection queue processing loop for 0HN0JBRFPS7B9 completed.
2024-01-12 17:15:54.962 +06:00 [DBG] Connection id "0HN0JBRFPS7B9" stopped.
2024-01-12 17:22:15.487 +06:00 [DBG] Connection id "0HN0JBRFPS7BA" accepted.
2024-01-12 17:22:15.490 +06:00 [DBG] Connection id "0HN0JBRFPS7BA" started.
2024-01-12 17:22:15.499 +06:00 [DBG] Connection 0HN0JBRFPS7BA established using the following protocol: "Tls13"
2024-01-12 17:22:15.505 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:22:15.505 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-12 17:22:15.516 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:15.516 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:15.517 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:15.518 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:15.519 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:15.521 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:15.522 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:22:15.523 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:15.524 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:22:15.525 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:15.527 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:15.529 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:15.531 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:15.533 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:15.535 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:15.538 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:15.539 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:15.541 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:15.543 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:15.545 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:15.547 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:15.550 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:15.552 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:15.554 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:15.557 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:15.560 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:15.562 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:15.564 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:15.568 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:15.572 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:15.573 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:15.578 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:15.580 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:15.588 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-12 17:22:15.588 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 17:22:15.628 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 17:22:15.628 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 17:22:15.635 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:15.636 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:15.637 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:22:15.638 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:22:15.639 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.640 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.643 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.650 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:15.653 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:22:15.655 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 17:22:15.658 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:15.660 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.667 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:15.669 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:22:15.671 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 17:22:15.673 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:22:15.678 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:15.683 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:22:15.685 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.686 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.688 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 17:22:15.689 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:22:15.692 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.694 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.696 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-12 17:22:15.698 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-12 17:22:15.702 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:15.703 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:15.705 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:15.709 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:15.711 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:15.711 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:15.714 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:15.718 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:15.720 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:15.722 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:15.737 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 169.2133ms
2024-01-12 17:22:15.737 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 172.7997ms
2024-01-12 17:22:15.739 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:15.741 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:15.742 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:15.744 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:15.745 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.747 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:15.749 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 17:22:15.751 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-12 17:22:15.753 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 248.3352ms
2024-01-12 17:22:15.755 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 250.0174ms
2024-01-12 17:22:19.575 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:22:19.583 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:19.584 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:19.585 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:19.587 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:22:19.588 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:22:19.590 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:19.592 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:19.596 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:19.601 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:19.602 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:19.604 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:19.606 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:19.608 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:19.612 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:19.614 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:19.617 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:19.623 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:19.625 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:22:19.626 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:19.629 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:19.631 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:19.633 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:22:19.636 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 17:22:19.638 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:19.645 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:19.648 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:19.650 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 17:22:19.653 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:19.655 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:22:19.657 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:19.660 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:19.662 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:19.667 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:19.669 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:19.671 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 59.256ms
2024-01-12 17:22:19.673 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:19.675 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:19.676 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:19.679 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:22:19.681 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 106.0274ms
2024-01-12 17:22:21.005 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-12 17:22:21.005 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:22:21.013 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:21.017 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:21.018 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:21.020 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:21.023 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:21.021 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:21.023 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:22:21.024 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:21.027 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:22:21.028 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:21.030 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:21.033 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:21.034 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:21.036 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:21.038 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:21.039 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:21.041 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:21.042 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:21.044 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:21.047 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:21.050 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:21.051 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:21.053 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:21.055 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:21.060 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:21.057 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:21.061 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:21.063 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:21.065 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:21.068 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:21.069 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:21.070 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:21.071 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:21.073 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:21.074 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:21.075 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 17:22:21.076 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:22:21.077 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.079 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.081 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.082 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.083 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:21.084 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:21.085 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:22:21.086 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:22:21.088 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 17:22:21.089 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 17:22:21.091 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:21.092 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:22:21.096 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:21.099 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:22:21.102 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.104 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.105 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:22:21.106 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 17:22:21.108 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.110 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.111 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 17:22:21.113 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 17:22:21.115 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:21.117 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:21.120 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:21.123 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:21.124 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:21.126 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:21.129 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:21.132 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:21.134 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:21.135 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:21.137 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 73.6231ms
2024-01-12 17:22:21.139 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 73.6832ms
2024-01-12 17:22:21.140 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:21.142 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:21.143 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:21.144 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:21.145 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.146 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:21.148 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:22:21.150 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 17:22:21.152 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 147.9855ms
2024-01-12 17:22:21.153 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 149.1489ms
2024-01-12 17:22:24.743 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-12 17:22:24.747 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:24.748 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:24.750 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:24.751 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-12 17:22:24.752 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-12 17:22:24.754 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:24.756 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:24.760 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-12 17:22:24.762 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:24.764 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:24.766 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:24.768 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:24.769 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:24.771 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 17:22:24.774 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-12 17:22:24.775 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-12 17:22:24.777 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-12 17:22:24.780 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 17:22:24.781 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-12 17:22:24.783 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-12 17:22:24.784 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-12 17:22:24.787 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:24.790 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-12 17:22:24.793 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 17:22:24.796 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:24.797 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:22:24.799 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:24.800 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:24.802 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:24.803 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:22:24.805 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:22:24.807 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:22:24.812 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 17:22:24.814 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:24.815 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 17:22:24.817 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:24.818 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:22:24.820 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-12 17:22:24.822 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:24.825 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:24.827 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:24.833 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:24.834 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:24.836 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 64.7569ms
2024-01-12 17:22:24.838 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:24.840 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:24.842 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:24.844 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:22:24.846 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 102.9083ms
2024-01-12 17:22:54.897 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:22:54.900 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-12 17:22:54.916 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:54.923 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:54.925 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:54.927 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:54.929 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:54.931 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:54.933 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:22:54.934 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:54.935 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:22:54.937 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:54.939 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:54.942 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:22:54.944 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:54.949 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:54.950 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:54.952 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:54.954 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:54.955 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:54.957 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:54.959 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:54.963 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:54.965 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:54.968 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:54.970 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:54.972 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:54.975 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:54.978 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:54.981 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:54.983 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:54.986 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:54.988 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:54.989 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:54.992 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:54.994 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:54.995 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-12 17:22:54.997 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:54.999 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.000 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 17:22:55.001 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.002 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.004 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:55.005 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.006 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:22:55.008 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:55.009 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 17:22:55.011 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:22:55.012 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:55.014 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 17:22:55.018 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:22:55.028 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:55.028 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:22:55.031 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.033 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.035 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:22:55.036 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:22:55.037 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.039 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.041 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 17:22:55.042 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 17:22:55.044 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:55.046 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:55.049 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:55.052 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:55.053 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:55.052 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:55.056 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:55.058 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:55.059 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:55.062 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:55.063 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 77.5915ms
2024-01-12 17:22:55.070 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 91.3441ms
2024-01-12 17:22:55.071 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:22:55.072 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:55.073 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:55.074 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:55.076 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.077 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:55.078 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:22:55.080 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 17:22:55.082 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 182.2922ms
2024-01-12 17:22:55.084 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 187.8526ms
2024-01-12 17:22:58.646 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:22:58.651 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:22:58.652 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:22:58.654 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:22:58.655 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:22:58.657 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:22:58.659 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:58.661 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:58.662 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:22:58.664 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:22:58.666 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:22:58.668 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:22:58.671 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:22:58.673 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:22:58.675 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:58.676 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:22:58.679 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:22:58.682 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:22:58.683 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:22:58.684 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:58.686 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:58.687 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:22:58.688 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:22:58.690 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:22:58.692 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:58.697 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:22:58.700 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:58.702 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 17:22:58.704 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:58.706 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:22:58.708 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:22:58.712 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:22:58.713 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:22:58.716 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:22:58.718 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:22:58.720 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 45.2128ms
2024-01-12 17:22:58.721 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:22:58.722 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:22:58.724 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:22:58.725 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:22:58.727 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 81.1313ms
2024-01-12 17:23:18.035 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-12 17:23:18.041 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:23:18.043 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:23:18.045 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:23:18.046 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:23:18.048 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 13.0218ms
2024-01-12 17:23:18.049 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 75
2024-01-12 17:23:18.054 +06:00 [DBG] POST requests are not supported
2024-01-12 17:23:18.054 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:23:18.055 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:23:18.057 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:23:18.058 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:23:18.061 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:23:18.062 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:23:18.066 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:23:18.068 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:23:18.070 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:23:18.072 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:23:18.074 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:23:18.076 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:23:18.079 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:23:18.081 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:23:18.082 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:23:18.084 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:23:18.086 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:23:18.088 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:23:18.090 +06:00 [DBG] Connection id "0HN0JBRFPS7BA", Request id "0HN0JBRFPS7BA:00000015": started reading request body.
2024-01-12 17:23:18.092 +06:00 [DBG] Connection id "0HN0JBRFPS7BA", Request id "0HN0JBRFPS7BA:00000015": done reading request body.
2024-01-12 17:23:18.095 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:23:18.097 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:23:18.099 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:23:18.101 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:23:18.106 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:23:18.112 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:23:18.122 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:23:18.129 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:23:18.131 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:23:18.134 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:23:18.137 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:23:18.138 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:23:18.140 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:18.142 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:18.144 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:23:18.145 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:23:18.147 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:23:18.148 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:23:18.156 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:23:18.162 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:18.164 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 17:23:18.167 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:18.168 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:23:18.187 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a371b1e7-dee3-4ea4-bc46-c7b99bcb3f17
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a371b1e7-dee3-4ea4-bc46-c7b99bcb3f17
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-12 17:23:18.256 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 177.0088ms
2024-01-12 17:23:18.258 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:23:18.260 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a371b1e7-dee3-4ea4-bc46-c7b99bcb3f17
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 104
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 74
   at lambda_method173(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-12 17:23:18.288 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:23:18.289 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:18.290 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:23:18.292 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 242.668ms
2024-01-12 17:23:23.540 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-12 17:23:23.546 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:23:23.548 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:23:23.550 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:23:23.554 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:23:23.556 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 16.7438ms
2024-01-12 17:23:23.559 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 75
2024-01-12 17:23:23.572 +06:00 [DBG] POST requests are not supported
2024-01-12 17:23:23.574 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:23:23.575 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:23:23.576 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:23:23.577 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:23:23.579 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:23:23.581 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:23:23.582 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:23:23.585 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:23:23.586 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:23:23.589 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:23:23.591 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:23:23.592 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:23:23.594 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:23:23.596 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:23:23.597 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:23:23.599 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:23:23.601 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:23:23.603 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:23:23.605 +06:00 [DBG] Connection id "0HN0JBRFPS7BA", Request id "0HN0JBRFPS7BA:00000019": started reading request body.
2024-01-12 17:23:23.606 +06:00 [DBG] Connection id "0HN0JBRFPS7BA", Request id "0HN0JBRFPS7BA:00000019": done reading request body.
2024-01-12 17:23:23.608 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:23:23.609 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:23:23.611 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:23:23.612 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:23:23.615 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:23:23.618 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:23:23.620 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:23:23.621 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:23:23.623 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:23:23.624 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:23:23.626 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:23:23.627 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:23:23.629 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:23.631 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:23.633 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:23:23.635 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:23:23.637 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:23:23.638 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:23:23.643 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:23:23.646 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:23.647 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 17:23:23.651 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:23.655 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 17:23:23.658 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a371b1e7-dee3-4ea4-bc46-c7b99bcb3f17
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a371b1e7-dee3-4ea4-bc46-c7b99bcb3f17
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-12 17:23:23.710 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 115.6947ms
2024-01-12 17:23:23.712 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:23:23.713 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a371b1e7-dee3-4ea4-bc46-c7b99bcb3f17
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 104
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 74
   at lambda_method173(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-12 17:23:23.730 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:23:23.732 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:23:23.734 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:23:23.735 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 176.4855ms
2024-01-12 17:24:21.387 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:24:21.392 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-12 17:24:21.397 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:24:21.402 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:24:21.403 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:24:21.405 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:24:21.408 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:24:21.410 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:24:21.411 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:24:21.411 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-12 17:24:21.413 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:24:21.415 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:24:21.417 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:24:21.419 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-12 17:24:21.421 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:24:21.423 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:24:21.424 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:24:21.425 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:24:21.427 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:24:21.429 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:24:21.431 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:24:21.433 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:24:21.435 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:24:21.436 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:24:21.439 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:24:21.440 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:24:21.442 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:24:21.445 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:24:21.447 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:24:21.449 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:24:21.451 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:24:21.454 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:24:21.456 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:24:21.461 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:24:21.465 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:24:21.468 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:24:21.469 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-12 17:24:21.472 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:24:21.473 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.474 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 17:24:21.475 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.476 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.477 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:24:21.478 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.479 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:24:21.483 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:24:21.485 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-12 17:24:21.487 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-12 17:24:21.491 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-12 17:24:21.492 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:24:21.488 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:24:21.503 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:24:21.503 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-12 17:24:21.505 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.508 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.509 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 17:24:21.510 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 17:24:21.512 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.515 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.517 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-12 17:24:21.519 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-12 17:24:21.521 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:24:21.522 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:24:21.528 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:24:21.533 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:24:21.534 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:24:21.536 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:24:21.539 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:24:21.543 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:24:21.545 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:24:21.548 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:24:21.551 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 104.2852ms
2024-01-12 17:24:21.554 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 100.0232ms
2024-01-12 17:24:21.579 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:24:21.584 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-12 17:24:21.587 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:24:21.589 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:24:21.592 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.594 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:21.597 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-01-12 17:24:21.601 +06:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-01-12 17:24:21.604 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 216.8477ms
2024-01-12 17:24:21.607 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 215.0007ms
2024-01-12 17:24:24.995 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:24:25.000 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:24:25.002 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:24:25.004 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:24:25.006 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:24:25.007 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:24:25.009 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:24:25.010 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:24:25.012 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:24:25.014 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:24:25.016 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:24:25.018 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:24:25.020 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:24:25.022 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:24:25.024 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:24:25.027 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:24:25.030 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:24:25.033 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:24:25.034 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:24:25.035 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:25.037 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:25.039 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:24:25.041 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:24:25.042 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:24:25.045 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:24:25.051 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:24:25.055 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:25.058 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 17:24:25.063 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:25.066 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 17:24:25.068 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:24:25.070 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:24:25.071 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-12 17:24:25.073 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-12 17:24:25.074 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-12 17:24:25.076 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 51.8772ms
2024-01-12 17:24:25.078 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:24:25.080 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:24:25.082 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:24:25.083 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:24:25.085 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 90.8387ms
2024-01-12 17:25:12.446 +06:00 [DBG] Connection id "0HN0JBRFPS7BB" accepted.
2024-01-12 17:25:12.454 +06:00 [DBG] Connection id "0HN0JBRFPS7BB" started.
2024-01-12 17:25:12.459 +06:00 [DBG] Connection 0HN0JBRFPS7BB established using the following protocol: "Tls13"
2024-01-12 17:25:12.467 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 49
2024-01-12 17:25:12.474 +06:00 [DBG] POST requests are not supported
2024-01-12 17:25:12.475 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 17:25:12.477 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:25:12.477 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:25:12.479 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:25:12.481 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:25:12.482 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:25:12.484 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:25:12.486 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:25:12.488 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:25:12.491 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:25:12.494 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:25:12.495 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:25:12.497 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:25:12.499 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:25:12.501 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:25:12.502 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:25:12.504 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:25:12.505 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:25:12.507 +06:00 [DBG] Connection id "0HN0JBRFPS7BB", Request id "0HN0JBRFPS7BB:00000001": started reading request body.
2024-01-12 17:25:12.509 +06:00 [DBG] Connection id "0HN0JBRFPS7BB", Request id "0HN0JBRFPS7BB:00000001": done reading request body.
2024-01-12 17:25:12.511 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:25:12.513 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:25:12.514 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:25:12.516 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:25:12.518 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:25:12.521 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:25:12.523 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:25:12.525 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:25:12.526 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:25:12.528 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:25:12.529 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:25:12.531 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:25:12.532 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:25:12.534 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:25:12.536 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:25:12.538 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:25:12.539 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:25:12.540 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:25:12.560 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:25:12.564 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:25:12.566 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 17:25:12.568 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:25:12.570 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:25:12.572 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8fddb434-e582-49ee-9319-e42e4b604854
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8fddb434-e582-49ee-9319-e42e4b604854
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-12 17:25:12.621 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 123.6381ms
2024-01-12 17:25:12.622 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:25:12.624 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:8fddb434-e582-49ee-9319-e42e4b604854
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 104
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 74
   at lambda_method173(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-12 17:25:12.640 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:25:12.641 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:25:12.642 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:25:12.643 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 178.1111ms
2024-01-12 17:30:52.571 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 17:30:52.637 +06:00 [DBG] Hosting starting
2024-01-12 17:30:52.756 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 17:30:52.757 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 17:30:52.758 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 17:30:52.759 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 17:30:52.760 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 17:30:52.761 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 17:30:52.763 +06:00 [INF] Hosting environment: Development
2024-01-12 17:30:52.764 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 17:30:52.766 +06:00 [DBG] Hosting started
2024-01-12 17:30:52.870 +06:00 [DBG] Connection id "0HN0JC7NM3UP3" accepted.
2024-01-12 17:30:52.872 +06:00 [DBG] Connection id "0HN0JC7NM3UP3" started.
2024-01-12 17:30:52.905 +06:00 [DBG] Connection id "0HN0JC7NM3UP4" accepted.
2024-01-12 17:30:52.912 +06:00 [DBG] Connection id "0HN0JC7NM3UP4" started.
2024-01-12 17:30:52.922 +06:00 [DBG] Connection 0HN0JC7NM3UP4 established using the following protocol: "Tls13"
2024-01-12 17:30:52.922 +06:00 [DBG] Connection 0HN0JC7NM3UP3 established using the following protocol: "Tls13"
2024-01-12 17:30:52.950 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 17:30:53.020 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 17:30:53.057 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 17:30:53.073 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 17:30:53.077 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 129.4384ms
2024-01-12 17:30:53.083 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 17:30:53.091 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 17:30:53.098 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 14.9408ms
2024-01-12 17:30:53.133 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.4037ms
2024-01-12 17:30:53.243 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 17:30:53.361 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.3769ms
2024-01-12 17:32:36.747 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 64
2024-01-12 17:32:36.759 +06:00 [DBG] POST requests are not supported
2024-01-12 17:32:36.761 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 17:32:36.763 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:32:36.783 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:32:36.787 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:32:36.791 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:32:36.795 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:32:36.817 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:32:36.825 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:32:36.828 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:32:36.830 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:32:36.833 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:32:36.837 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:32:36.843 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:32:36.923 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 17:32:37.015 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:32:37.022 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:32:37.024 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:32:37.027 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:32:37.029 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:32:37.035 +06:00 [DBG] Connection id "0HN0JC7NM3UP3", Request id "0HN0JC7NM3UP3:00000009": started reading request body.
2024-01-12 17:32:37.038 +06:00 [DBG] Connection id "0HN0JC7NM3UP3", Request id "0HN0JC7NM3UP3:00000009": done reading request body.
2024-01-12 17:32:37.086 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:32:37.088 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:32:37.090 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:32:37.095 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:32:37.456 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:32:37.477 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:32:37.506 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:32:37.513 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:32:37.516 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:32:37.524 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:32:37.563 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:32:37.580 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-12 17:32:37.583 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:32:37.782 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:32:37.790 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:32:37.795 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:32:37.802 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-01-12 17:32:37.812 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:32:37.862 +06:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:32:37.878 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:32:37.887 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:32:37.892 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 23ms reading results.
2024-01-12 17:32:37.896 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:32:37.903 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2024-01-12 17:32:37.910 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:32:37.913 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:32:37.919 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:32:37.923 +06:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-12 17:32:37.925 +06:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-12 17:32:37.927 +06:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-01-12 17:32:37.932 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 1088.4556ms
2024-01-12 17:32:37.934 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:32:37.937 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:32:37.941 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:32:37.944 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:32:37.946 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 406 0 null 1199.7503ms
2024-01-12 17:34:25.486 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 101
2024-01-12 17:34:25.493 +06:00 [DBG] POST requests are not supported
2024-01-12 17:34:25.495 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 17:34:25.496 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:34:25.498 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:34:25.500 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:34:25.502 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:34:25.504 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:34:25.506 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:34:25.509 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:34:25.510 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:34:25.512 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:34:25.514 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:34:25.516 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:34:25.519 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:34:25.521 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:34:25.523 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:34:25.524 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:34:25.526 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:34:25.528 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:34:25.529 +06:00 [DBG] Connection id "0HN0JC7NM3UP3", Request id "0HN0JC7NM3UP3:0000000B": started reading request body.
2024-01-12 17:34:25.531 +06:00 [DBG] Connection id "0HN0JC7NM3UP3", Request id "0HN0JC7NM3UP3:0000000B": done reading request body.
2024-01-12 17:34:25.533 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:34:25.535 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:34:25.537 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:34:25.539 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:34:25.581 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:34:25.587 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:34:25.589 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:34:25.591 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:34:25.593 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:34:25.594 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:34:25.597 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:34:25.598 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:34:25.602 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:34:25.605 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:34:25.607 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:34:25.608 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:34:25.609 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:34:25.611 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:34:25.633 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:34:25.637 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:34:25.639 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:34:25.641 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-12 17:34:25.643 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:34:25.645 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:34:25.647 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:34:25.649 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:34:25.652 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:34:25.655 +06:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-12 17:34:25.657 +06:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-12 17:34:25.658 +06:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-01-12 17:34:25.660 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 141.5739ms
2024-01-12 17:34:25.662 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:34:25.663 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:34:25.665 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:34:25.667 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:34:25.668 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 406 0 null 183.137ms
2024-01-12 17:35:34.810 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 17:35:34.879 +06:00 [DBG] Hosting starting
2024-01-12 17:35:34.983 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 17:35:34.985 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 17:35:34.986 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 17:35:34.987 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 17:35:34.988 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 17:35:34.989 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 17:35:34.991 +06:00 [INF] Hosting environment: Development
2024-01-12 17:35:34.992 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 17:35:34.993 +06:00 [DBG] Hosting started
2024-01-12 17:35:37.161 +06:00 [DBG] Connection id "0HN0JCACDAPON" accepted.
2024-01-12 17:35:37.165 +06:00 [DBG] Connection id "0HN0JCACDAPON" started.
2024-01-12 17:35:37.197 +06:00 [DBG] Connection 0HN0JCACDAPON established using the following protocol: "Tls13"
2024-01-12 17:35:37.227 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 17:35:37.290 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 17:35:37.325 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 17:35:37.342 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 17:35:37.345 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 119.9994ms
2024-01-12 17:35:37.353 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 17:35:37.353 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 17:35:37.367 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 14.7324ms
2024-01-12 17:35:37.392 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.7907ms
2024-01-12 17:35:37.620 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 17:35:37.711 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.9795ms
2024-01-12 17:36:52.183 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 100
2024-01-12 17:36:52.191 +06:00 [DBG] POST requests are not supported
2024-01-12 17:36:52.193 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 17:36:52.194 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:36:52.208 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:36:52.212 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:36:52.216 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:36:52.220 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:36:52.233 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:36:52.238 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:36:52.240 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:36:52.242 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:36:52.245 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:36:52.248 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:36:52.252 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:36:52.329 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 17:36:52.412 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:36:52.419 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:36:52.424 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:36:52.426 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:36:52.428 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:36:52.434 +06:00 [DBG] Connection id "0HN0JCACDAPON", Request id "0HN0JCACDAPON:00000009": started reading request body.
2024-01-12 17:36:52.436 +06:00 [DBG] Connection id "0HN0JCACDAPON", Request id "0HN0JCACDAPON:00000009": done reading request body.
2024-01-12 17:36:52.477 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:36:52.484 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:36:52.486 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:36:52.491 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:36:59.070 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:36:59.096 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:36:59.138 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:37:02.368 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:37:02.374 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:37:02.386 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:37:02.447 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:37:02.471 +06:00 [DBG] Created DbConnection. (22ms).
2024-01-12 17:37:02.477 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:37:02.693 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:37:02.699 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:37:02.706 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-12 17:37:02.715 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-01-12 17:37:02.722 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:37:02.772 +06:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:37:02.785 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:37:02.800 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:37:02.810 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 29ms reading results.
2024-01-12 17:37:02.814 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:37:02.819 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-12 17:37:02.832 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:37:02.837 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:37:12.392 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:37:12.399 +06:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-12 17:37:12.401 +06:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-12 17:37:12.404 +06:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-01-12 17:37:12.407 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 20155.2312ms
2024-01-12 17:37:12.409 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:37:12.413 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:37:12.417 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:37:12.420 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 17:37:12.422 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 406 0 null 20239.9794ms
2024-01-12 17:38:08.379 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 17:38:08.453 +06:00 [DBG] Hosting starting
2024-01-12 17:38:08.584 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 17:38:08.585 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 17:38:08.586 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 17:38:08.587 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 17:38:08.588 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 17:38:08.589 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 17:38:08.590 +06:00 [INF] Hosting environment: Development
2024-01-12 17:38:08.592 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 17:38:08.594 +06:00 [DBG] Hosting started
2024-01-12 17:38:10.644 +06:00 [DBG] Connection id "0HN0JCBQ525KG" accepted.
2024-01-12 17:38:10.647 +06:00 [DBG] Connection id "0HN0JCBQ525KG" started.
2024-01-12 17:38:10.681 +06:00 [DBG] Connection 0HN0JCBQ525KG established using the following protocol: "Tls13"
2024-01-12 17:38:10.705 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 17:38:10.772 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 17:38:10.815 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 17:38:10.830 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 17:38:10.833 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 130.055ms
2024-01-12 17:38:10.838 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 17:38:10.838 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 17:38:10.850 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 12.4249ms
2024-01-12 17:38:10.879 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.5956ms
2024-01-12 17:38:11.078 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 17:38:11.161 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 84.3201ms
2024-01-12 17:38:21.168 +06:00 [DBG] Connection id "0HN0JCBQ525KG" received FIN.
2024-01-12 17:52:02.465 +06:00 [DBG] Connection id "0HN0JCBQ525KG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-12 17:52:02.468 +06:00 [DBG] Connection id "0HN0JCBQ525KG" is closed. The last processed stream ID was 7.
2024-01-12 17:52:02.471 +06:00 [DBG] The connection queue processing loop for 0HN0JCBQ525KG completed.
2024-01-12 17:52:02.477 +06:00 [DBG] Connection id "0HN0JCBQ525KG" stopped.
2024-01-12 17:52:03.923 +06:00 [DBG] Connection id "0HN0JCBQ525KH" accepted.
2024-01-12 17:52:03.926 +06:00 [DBG] Connection id "0HN0JCBQ525KH" started.
2024-01-12 17:52:03.934 +06:00 [DBG] Connection 0HN0JCBQ525KH established using the following protocol: "Tls13"
2024-01-12 17:52:03.937 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:52:03.945 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:52:03.948 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:52:03.950 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:52:03.981 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:52:03.986 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:52:03.989 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:52:03.998 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:52:04.024 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:52:04.029 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:52:04.031 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:52:04.033 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:52:04.035 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:52:04.037 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:52:04.041 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:52:04.176 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 17:52:04.289 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:52:04.708 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:52:04.737 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 17:52:04.830 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 17:52:04.848 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:52:04.867 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-12 17:52:04.871 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:52:05.067 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:52:05.071 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:52:05.078 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-12 17:52:05.081 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-12 17:52:05.088 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:52:05.122 +06:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:52:05.145 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:52:05.155 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:52:05.157 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:52:05.164 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:52:05.167 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 40ms reading results.
2024-01-12 17:52:05.169 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:52:05.173 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 17:52:05.183 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:52:05.188 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:52:05.189 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:52:05.189 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:52:05.191 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:52:05.192 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 17:52:05.234 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1192.4349ms
2024-01-12 17:52:05.238 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:52:05.242 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:52:05.245 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:52:05.249 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:52:05.251 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 221 application/json; charset=utf-8 1313.3027ms
2024-01-12 17:53:28.145 +06:00 [DBG] Connection id "0HN0JCBQ525KI" accepted.
2024-01-12 17:53:28.148 +06:00 [DBG] Connection id "0HN0JCBQ525KI" started.
2024-01-12 17:53:28.153 +06:00 [DBG] Connection 0HN0JCBQ525KI established using the following protocol: "Tls13"
2024-01-12 17:53:28.159 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 98
2024-01-12 17:53:28.162 +06:00 [DBG] POST requests are not supported
2024-01-12 17:53:28.163 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 17:53:28.165 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:53:28.167 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:53:28.168 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:53:28.170 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:53:28.172 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:53:28.181 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:53:28.184 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:53:28.185 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:53:28.187 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:53:28.189 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:53:28.191 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:53:28.193 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:53:28.195 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:53:28.200 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:53:28.203 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:53:28.205 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:53:28.207 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:53:28.211 +06:00 [DBG] Connection id "0HN0JCBQ525KI", Request id "0HN0JCBQ525KI:00000001": started reading request body.
2024-01-12 17:53:28.213 +06:00 [DBG] Connection id "0HN0JCBQ525KI", Request id "0HN0JCBQ525KI:00000001": done reading request body.
2024-01-12 17:53:28.235 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:53:28.238 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:53:28.240 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:53:28.247 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:53:28.265 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:53:28.286 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:53:28.298 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:53:28.304 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:53:28.307 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:53:28.316 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:53:28.361 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:53:28.363 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:53:28.365 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:53:28.367 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:53:28.371 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:53:28.373 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:53:28.377 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-12 17:53:28.382 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:53:28.409 +06:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:53:28.419 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:53:28.424 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:53:28.426 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-12 17:53:28.429 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:53:28.431 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 17:53:28.439 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:53:28.443 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:53:39.367 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:53:39.373 +06:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2024-01-12 17:53:39.380 +06:00 [WRN] An error occurred while trying to create a DataContractSerializer for the type 'CityInfo.API.Entities.City'.
System.Runtime.Serialization.InvalidDataContractException: Type 'CityInfo.API.Entities.City' cannot be serialized. Consider marking it with the DataContractAttribute attribute, and marking all of its members you want serialized with the DataMemberAttribute attribute. Alternatively, you can ensure that the type is public and has a parameterless constructor - all public members of the type will then be serialized, and no attributes will be required.
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.ThrowInvalidDataContractException(String message, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.CreateDataContract(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.DataContractCriticalHelper.GetDataContractSkipValidation(Int32 id, RuntimeTypeHandle typeHandle, Type type)
   at System.Runtime.Serialization.DataContracts.DataContract.GetDataContract(RuntimeTypeHandle typeHandle)
   at System.Runtime.Serialization.XsdDataContractExporter.GetRootElementName(Type type)
   at Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter.CreateSerializer(Type type)
2024-01-12 17:53:39.396 +06:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-12 17:53:39.398 +06:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2024-01-12 17:53:39.400 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 11206.8336ms
2024-01-12 17:53:39.402 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:53:39.404 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:53:39.406 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:53:39.408 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:53:39.410 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 406 0 null 11251.3545ms
2024-01-12 17:54:00.767 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 17:54:00.838 +06:00 [DBG] Hosting starting
2024-01-12 17:54:00.948 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 17:54:00.949 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 17:54:00.950 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 17:54:00.951 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 17:54:00.953 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 17:54:00.954 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 17:54:00.955 +06:00 [INF] Hosting environment: Development
2024-01-12 17:54:00.956 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 17:54:00.957 +06:00 [DBG] Hosting started
2024-01-12 17:54:00.968 +06:00 [DBG] Connection id "0HN0JCKLC1SMG" accepted.
2024-01-12 17:54:00.970 +06:00 [DBG] Connection id "0HN0JCKLC1SMG" started.
2024-01-12 17:54:00.998 +06:00 [DBG] Connection 0HN0JCKLC1SMG established using the following protocol: "Tls13"
2024-01-12 17:54:01.026 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-12 17:54:01.096 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 17:54:01.132 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-12 17:54:01.151 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-12 17:54:01.155 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 132.0693ms
2024-01-12 17:54:01.158 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-12 17:54:01.158 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-12 17:54:01.174 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 15.9138ms
2024-01-12 17:54:01.190 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 31.4208ms
2024-01-12 17:54:01.230 +06:00 [DBG] Connection id "0HN0JCKLC1SMH" accepted.
2024-01-12 17:54:01.233 +06:00 [DBG] Connection id "0HN0JCKLC1SMH" started.
2024-01-12 17:54:01.239 +06:00 [DBG] Connection 0HN0JCKLC1SMH established using the following protocol: "Tls13"
2024-01-12 17:54:01.411 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-12 17:54:01.499 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.7048ms
2024-01-12 17:55:09.311 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 96
2024-01-12 17:55:09.322 +06:00 [DBG] POST requests are not supported
2024-01-12 17:55:09.324 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-12 17:55:09.325 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:55:09.346 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:55:09.349 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:55:09.353 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:55:09.357 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:55:09.376 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:55:09.382 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:55:09.384 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:55:09.387 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:55:09.391 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:55:09.393 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:55:09.396 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:55:09.468 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 17:55:09.559 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:55:09.563 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:55:09.566 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:55:09.569 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:55:09.571 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-12 17:55:09.577 +06:00 [DBG] Connection id "0HN0JCKLC1SMG", Request id "0HN0JCKLC1SMG:00000009": started reading request body.
2024-01-12 17:55:09.579 +06:00 [DBG] Connection id "0HN0JCKLC1SMG", Request id "0HN0JCKLC1SMG:00000009": done reading request body.
2024-01-12 17:55:09.626 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:55:09.628 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:55:09.630 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:55:09.636 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:55:10.005 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:55:10.028 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:55:10.061 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:55:10.066 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:55:10.070 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:55:10.076 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:55:10.117 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:55:10.140 +06:00 [DBG] Created DbConnection. (22ms).
2024-01-12 17:55:10.143 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:55:10.334 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:55:10.341 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:55:10.346 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:55:10.353 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-01-12 17:55:10.359 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:55:10.411 +06:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:55:10.430 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 17:55:10.439 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:55:10.446 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 26ms reading results.
2024-01-12 17:55:10.452 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:55:10.456 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-12 17:55:10.464 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:55:10.469 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 17:55:21.678 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-12 17:55:21.687 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 12289.2194ms
2024-01-12 17:55:21.691 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:55:21.696 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:55:21.701 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:55:21.705 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 17:55:21.708 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 200 0 null 12396.7642ms
2024-01-12 17:58:58.529 +06:00 [DBG] Connection id "0HN0JCKLC1SMH" received FIN.
2024-01-12 17:58:58.539 +06:00 [DBG] Connection id "0HN0JCKLC1SMH" is closed. The last processed stream ID was 0.
2024-01-12 17:58:58.539 +06:00 [DBG] The connection queue processing loop for 0HN0JCKLC1SMH completed.
2024-01-12 17:58:58.540 +06:00 [DBG] Connection id "0HN0JCKLC1SMH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-12 17:58:58.555 +06:00 [DBG] Connection id "0HN0JCKLC1SMH" stopped.
2024-01-12 17:58:58.864 +06:00 [DBG] Connection id "0HN0JCKLC1SMI" accepted.
2024-01-12 17:58:58.866 +06:00 [DBG] Connection id "0HN0JCKLC1SMI" started.
2024-01-12 17:58:58.871 +06:00 [DBG] Connection 0HN0JCKLC1SMI established using the following protocol: "Tls13"
2024-01-12 17:58:58.874 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 17:58:58.885 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 17:58:58.886 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:58:58.887 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:58:58.889 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:58:58.890 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:58:58.892 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:58:58.895 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:58:58.900 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:58:58.903 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:58:58.905 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:58:58.907 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:58:58.909 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:58:58.912 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:58:58.913 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:58:58.916 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:58:58.962 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:58:58.992 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 17:58:59.107 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 17:58:59.123 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:58:59.125 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 17:58:59.127 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:58:59.131 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:58:59.133 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:58:59.134 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:58:59.135 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 17:58:59.136 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:58:59.155 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 17:58:59.162 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:58:59.165 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:58:59.167 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:58:59.169 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:58:59.171 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:58:59.173 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:58:59.174 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 16ms reading results.
2024-01-12 17:58:59.176 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:58:59.179 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 17:58:59.189 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 17:58:59.194 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 17:58:59.195 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 17:58:59.196 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 17:58:59.198 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 17:58:59.200 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 17:58:59.224 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 310.7506ms
2024-01-12 17:58:59.227 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 17:58:59.228 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:58:59.229 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:58:59.231 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 17:58:59.232 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 385 application/json; charset=utf-8 358.3294ms
2024-01-12 17:59:56.925 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-12 17:59:56.930 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 17:59:56.931 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:59:56.933 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:59:56.934 +06:00 [DBG] The request is a preflight request.
2024-01-12 17:59:56.935 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 15.298ms
2024-01-12 17:59:56.937 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 70
2024-01-12 17:59:56.943 +06:00 [DBG] POST requests are not supported
2024-01-12 17:59:56.944 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 17:59:56.946 +06:00 [INF] CORS policy execution successful.
2024-01-12 17:59:56.947 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 17:59:56.948 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 17:59:56.950 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:59:56.952 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:59:56.953 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 17:59:56.956 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 17:59:56.958 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 17:59:56.960 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 17:59:56.964 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 17:59:56.966 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 17:59:56.968 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:59:56.972 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 17:59:56.974 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:59:56.976 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 17:59:56.979 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 17:59:56.980 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 17:59:56.982 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:00000005": started reading request body.
2024-01-12 17:59:56.983 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:00000005": done reading request body.
2024-01-12 17:59:56.985 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:59:56.986 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:59:56.988 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 17:59:56.989 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 17:59:57.000 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 17:59:57.004 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:59:57.008 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 17:59:57.010 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 17:59:57.013 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 17:59:57.014 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 17:59:57.016 +06:00 [DBG] Creating DbConnection.
2024-01-12 17:59:57.018 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 17:59:57.020 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:59:57.022 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:59:57.024 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 17:59:57.025 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 17:59:57.027 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 17:59:57.029 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:59:57.044 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 17:59:57.050 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 17:59:57.052 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 17:59:57.055 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:59:57.056 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 17:59:57.073 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-12 17:59:57.127 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 159.399ms
2024-01-12 17:59:57.130 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 17:59:57.132 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 104
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-12 17:59:57.156 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 17:59:57.161 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 17:59:57.163 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 17:59:57.165 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 228.13ms
2024-01-12 18:01:02.982 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-12 18:01:02.993 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:01:02.995 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:01:02.996 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:01:02.997 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:01:02.998 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 16.3553ms
2024-01-12 18:01:03.000 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 73
2024-01-12 18:01:03.004 +06:00 [DBG] POST requests are not supported
2024-01-12 18:01:03.005 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:01:03.006 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:01:03.006 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:01:03.008 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:01:03.009 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:01:03.011 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:01:03.013 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:01:03.015 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:01:03.017 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:01:03.019 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:01:03.022 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:01:03.023 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:01:03.025 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:01:03.027 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:01:03.029 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 18:01:03.030 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 18:01:03.032 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:01:03.034 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:01:03.036 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:00000009": started reading request body.
2024-01-12 18:01:03.038 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:00000009": done reading request body.
2024-01-12 18:01:03.040 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:01:03.041 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:01:03.043 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 18:01:03.044 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:01:03.047 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:01:03.049 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:01:03.051 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:01:03.054 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 18:01:03.055 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 18:01:03.057 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 18:01:03.059 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:01:03.060 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:01:03.061 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:03.063 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:03.064 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:01:03.065 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:01:03.067 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:01:03.069 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 18:01:03.089 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 18:01:03.092 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:03.094 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 18:01:03.096 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:03.097 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:01:03.101 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-12 18:01:03.159 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 134.3288ms
2024-01-12 18:01:03.162 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:01:03.163 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 104
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-12 18:01:03.179 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:01:03.180 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:03.181 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:01:03.183 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 183.2174ms
2024-01-12 18:01:49.359 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-12 18:01:49.368 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:01:49.369 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:01:49.370 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:01:49.371 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:01:49.372 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 13.4782ms
2024-01-12 18:01:49.374 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 48
2024-01-12 18:01:49.379 +06:00 [DBG] POST requests are not supported
2024-01-12 18:01:49.380 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:01:49.382 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:01:49.382 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:01:49.383 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:01:49.385 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:01:49.387 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:01:49.388 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:01:49.390 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:01:49.392 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:01:49.393 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:01:49.396 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:01:49.398 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:01:49.399 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:01:49.401 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:01:49.403 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 18:01:49.405 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 18:01:49.406 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:01:49.408 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:01:49.410 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:0000000D": started reading request body.
2024-01-12 18:01:49.411 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:0000000D": done reading request body.
2024-01-12 18:01:49.415 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:01:49.416 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:01:49.418 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 18:01:49.420 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:01:49.422 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:01:49.424 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:01:49.425 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:01:49.427 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 18:01:49.428 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 18:01:49.430 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 18:01:49.431 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:01:49.433 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:01:49.434 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:49.436 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:49.437 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:01:49.438 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:01:49.439 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:01:49.441 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 18:01:49.447 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 18:01:49.450 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:49.452 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-12 18:01:49.456 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:49.459 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 18:01:49.463 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-01-12 18:01:49.538 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 138.5773ms
2024-01-12 18:01:49.541 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:01:49.543 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cities_Users_UserId". The conflict occurred in database "CityInfo", table "dbo.Users", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f1e11c1e-18cc-420e-a19e-738ec71c0be9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.SaveChangesAsync() in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 104
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 70
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-01-12 18:01:49.559 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:01:49.560 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:01:49.563 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 18:01:49.564 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 189.6195ms
2024-01-12 18:04:58.203 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-12 18:04:58.207 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:04:58.209 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:04:58.210 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:04:58.211 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:04:58.213 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 10.9262ms
2024-01-12 18:04:58.215 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 73
2024-01-12 18:04:58.221 +06:00 [DBG] POST requests are not supported
2024-01-12 18:04:58.222 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:04:58.224 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:04:58.225 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:04:58.228 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:04:58.230 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:04:58.231 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:04:58.232 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:04:58.234 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:04:58.236 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:04:58.238 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:04:58.240 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:04:58.242 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:04:58.244 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:04:58.245 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:04:58.247 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 18:04:58.249 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-12 18:04:58.250 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:04:58.252 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:04:58.253 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:00000011": started reading request body.
2024-01-12 18:04:58.255 +06:00 [DBG] Connection id "0HN0JCKLC1SMI", Request id "0HN0JCKLC1SMI:00000011": done reading request body.
2024-01-12 18:04:58.257 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:04:58.259 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:04:58.260 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-12 18:04:58.262 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-12 18:04:58.264 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:04:58.268 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:04:58.270 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:04:58.272 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-12 18:04:58.274 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-12 18:04:58.275 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-12 18:04:58.277 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:04:58.278 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:04:58.280 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:04:58.282 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:04:58.284 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:04:58.285 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:04:58.287 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 18:04:58.289 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 18:04:58.304 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-12 18:04:58.308 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-12 18:04:58.309 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:04:58.311 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-12 18:04:58.314 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:04:58.315 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:04:58.317 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:04:58.320 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-12 18:05:04.073 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-12 18:05:04.075 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 5831.0317ms
2024-01-12 18:05:04.077 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-12 18:05:04.078 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:05:04.079 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:05:04.080 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:05:04.083 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 200 0 null 5868.723ms
2024-01-12 18:05:04.101 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 18:05:04.107 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:05:04.109 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:05:04.110 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:05:04.111 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:05:04.113 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:05:04.119 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:05:04.120 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:05:04.122 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:05:04.124 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:05:04.125 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:05:04.127 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:05:04.131 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:05:04.134 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:05:04.136 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:05:04.137 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:05:04.140 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:05:04.146 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:05:04.148 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:05:04.150 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:05:04.152 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:05:04.153 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:05:04.154 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 18:05:04.155 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:05:04.156 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:05:04.163 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:05:04.167 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:05:04.169 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:05:04.170 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:05:04.173 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:05:04.175 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:05:04.177 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:05:04.179 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:05:04.180 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 13ms reading results.
2024-01-12 18:05:04.183 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:05:04.184 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:05:04.187 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:05:04.190 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:05:04.191 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:05:04.192 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:05:04.193 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:05:04.195 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 18:05:04.197 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 60.8484ms
2024-01-12 18:05:04.199 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:05:04.200 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:05:04.202 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:05:04.204 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:05:04.205 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 104.3773ms
2024-01-12 18:07:43.595 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 18:07:43.670 +06:00 [DBG] Hosting starting
2024-01-12 18:07:43.792 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 18:07:43.793 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 18:07:43.794 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 18:07:43.796 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 18:07:43.797 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 18:07:43.798 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 18:07:43.800 +06:00 [INF] Hosting environment: Development
2024-01-12 18:07:43.801 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 18:07:43.802 +06:00 [DBG] Hosting started
2024-01-12 18:07:56.747 +06:00 [DBG] Connection id "0HN0JCSEELA59" accepted.
2024-01-12 18:07:56.752 +06:00 [DBG] Connection id "0HN0JCSEELA59" started.
2024-01-12 18:07:56.825 +06:00 [DBG] Connection 0HN0JCSEELA59 established using the following protocol: "Tls13"
2024-01-12 18:07:56.865 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 18:07:56.876 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 18:07:56.890 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:07:56.894 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:07:56.897 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:07:56.914 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:07:56.920 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:07:56.923 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:07:56.928 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:07:56.944 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:07:56.950 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:07:56.953 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:07:56.956 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:07:56.959 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:07:56.961 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:07:56.964 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:07:57.062 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 18:07:57.180 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:07:57.540 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:07:57.583 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 18:07:57.696 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 18:07:57.723 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:07:57.737 +06:00 [DBG] Created DbConnection. (12ms).
2024-01-12 18:07:57.742 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:07:57.961 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:07:57.967 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:07:57.975 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-12 18:07:57.981 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-01-12 18:07:57.986 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:07:58.031 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:07:58.053 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:07:58.071 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:07:58.077 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:07:58.080 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:07:58.083 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:07:58.086 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:07:58.092 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:07:58.096 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 58ms reading results.
2024-01-12 18:07:58.100 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:07:58.108 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-12 18:07:58.118 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:07:58.125 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:07:58.127 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:07:58.128 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:07:58.130 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:07:58.131 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 18:07:58.189 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1223.3186ms
2024-01-12 18:07:58.193 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:07:58.199 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:07:58.203 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:07:58.206 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 18:07:58.209 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 1347.5659ms
2024-01-12 18:08:04.827 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 18:08:04.834 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:08:04.836 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:08:04.838 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:08:04.841 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:08:04.843 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:08:04.845 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:08:04.848 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:08:04.849 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:08:04.854 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:08:04.856 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:08:04.858 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:08:04.861 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:08:04.865 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:08:04.869 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:08:04.871 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:08:04.882 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:08:04.888 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:08:04.889 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:08:04.891 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:04.893 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:04.895 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:08:04.896 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:08:04.900 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-12 18:08:04.902 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:08:04.907 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:08:04.909 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:04.911 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:04.912 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:04.916 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:04.918 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:04.920 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:04.921 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:04.923 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 13ms reading results.
2024-01-12 18:08:04.924 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:04.926 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:08:04.929 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:08:04.934 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:08:04.934 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:08:04.935 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:08:04.937 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:08:04.938 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 18:08:04.940 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 71.7445ms
2024-01-12 18:08:04.943 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:08:04.944 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:08:04.945 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:04.947 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:08:04.949 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 121.9325ms
2024-01-12 18:08:07.048 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65 - null null
2024-01-12 18:08:07.053 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:08:07.055 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:08:07.057 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:08:07.058 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65'
2024-01-12 18:08:07.060 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/65'
2024-01-12 18:08:07.062 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-12 18:08:07.064 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-12 18:08:07.074 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:08:07.077 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:08:07.079 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:08:07.081 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:08:07.083 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:08:07.085 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:08:07.087 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:08:07.092 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:08:07.097 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-12 18:08:07.101 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-12 18:08:07.103 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 18:08:07.105 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 18:08:07.107 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-12 18:08:07.110 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-12 18:08:07.113 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-01-12 18:08:07.115 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-01-12 18:08:07.118 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:08:07.120 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:08:07.122 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:08:07.123 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-01-12 18:08:07.125 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:08:07.180 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:08:07.190 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-12 18:08:07.207 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 18:08:07.217 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:08:07.219 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 18:08:07.221 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:07.224 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:07.225 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:08:07.228 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:08:07.232 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-12 18:08:07.236 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 18:08:07.257 +06:00 [INF] Executed DbCommand (23ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 18:08:07.260 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:07.262 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:07.265 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-12 18:08:07.267 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:07.269 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-12 18:08:07.273 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:08:07.277 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:08:07.278 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:08:07.279 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:08:07.281 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:08:07.282 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-01-12 18:08:07.284 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 197.2255ms
2024-01-12 18:08:07.286 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-12 18:08:07.287 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:08:07.289 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:07.290 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:08:07.292 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65 - 200 80 application/json; charset=utf-8 244.3917ms
2024-01-12 18:08:08.860 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 18:08:08.868 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:08:08.869 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:08:08.870 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:08:08.871 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:08:08.872 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:08:08.874 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:08:08.876 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:08:08.877 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:08:08.879 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:08:08.881 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:08:08.883 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:08:08.885 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:08:08.886 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:08:08.888 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:08:08.890 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:08:08.893 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:08:08.896 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:08:08.897 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:08:08.898 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:08.900 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:08.902 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:08:08.903 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:08:08.905 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 18:08:08.907 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:08:08.911 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:08:08.915 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:08.917 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:08.919 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:08.921 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:08.923 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:08.925 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:08:08.927 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:08.929 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-12 18:08:08.931 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:08.933 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:08:08.935 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:08:08.938 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:08:08.939 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:08:08.940 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:08:08.941 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:08:08.943 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 18:08:08.946 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 57.5156ms
2024-01-12 18:08:08.948 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:08:08.949 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:08:08.950 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:08:08.952 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:08:08.954 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 93.9771ms
2024-01-12 18:14:43.085 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 18:14:43.155 +06:00 [DBG] Hosting starting
2024-01-12 18:14:43.329 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 18:14:43.331 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 18:14:43.332 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 18:14:43.333 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 18:14:43.334 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 18:14:43.335 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 18:14:43.337 +06:00 [INF] Hosting environment: Development
2024-01-12 18:14:43.338 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 18:14:43.340 +06:00 [DBG] Hosting started
2024-01-12 18:15:09.392 +06:00 [DBG] Connection id "0HN0JD0FCM9CD" accepted.
2024-01-12 18:15:09.396 +06:00 [DBG] Connection id "0HN0JD0FCM9CD" started.
2024-01-12 18:15:09.453 +06:00 [DBG] Connection 0HN0JD0FCM9CD established using the following protocol: "Tls13"
2024-01-12 18:15:09.488 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 18:15:09.497 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 18:15:09.515 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:15:09.519 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:15:09.520 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:15:09.540 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:15:09.543 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:15:09.546 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:15:09.552 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:15:09.576 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:15:09.584 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:15:09.586 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:15:09.589 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:15:09.591 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:15:09.593 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:15:09.597 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:15:09.697 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 18:15:09.823 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:15:10.198 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:15:10.233 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-12 18:15:10.358 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-12 18:15:10.375 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:15:10.388 +06:00 [DBG] Created DbConnection. (11ms).
2024-01-12 18:15:10.394 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:10.600 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:10.606 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:15:10.612 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-12 18:15:10.617 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-01-12 18:15:10.621 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:15:10.651 +06:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:15:10.676 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:10.700 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:10.703 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:10.704 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:10.706 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:10.707 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:10.712 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:10.719 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 60ms reading results.
2024-01-12 18:15:10.724 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:10.731 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-12 18:15:10.745 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:15:10.753 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:15:10.754 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:15:10.755 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:15:10.757 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:15:10.759 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 18:15:10.817 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1220.2995ms
2024-01-12 18:15:10.821 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:15:10.825 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:15:10.846 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:10.849 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 18:15:10.852 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 1368.8987ms
2024-01-12 18:15:13.597 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65 - null null
2024-01-12 18:15:13.602 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:15:13.604 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:15:13.606 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:15:13.608 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65'
2024-01-12 18:15:13.609 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/65'
2024-01-12 18:15:13.612 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-12 18:15:13.614 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-12 18:15:13.620 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:15:13.623 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:15:13.625 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:15:13.627 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:15:13.630 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:15:13.632 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:15:13.634 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:15:13.637 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:15:13.641 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-12 18:15:13.645 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-12 18:15:13.647 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 18:15:13.649 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-12 18:15:13.651 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-12 18:15:13.654 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-12 18:15:13.656 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-01-12 18:15:13.658 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-01-12 18:15:13.661 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:15:13.664 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:15:13.665 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:15:13.667 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-01-12 18:15:13.669 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-12 18:15:13.685 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:15:13.693 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-12 18:15:13.710 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 18:15:13.722 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:15:13.725 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-12 18:15:13.729 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:13.732 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:13.733 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:15:13.734 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:15:13.737 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 18:15:13.740 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 18:15:13.761 +06:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-12 18:15:13.764 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:13.766 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:13.768 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-12 18:15:13.770 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:13.772 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:15:13.776 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:15:13.780 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:15:13.781 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:15:13.782 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:15:13.784 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:15:13.786 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-01-12 18:15:13.788 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 153.7138ms
2024-01-12 18:15:13.790 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-12 18:15:13.792 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:15:13.795 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:13.796 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:15:13.798 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65 - 200 80 application/json; charset=utf-8 201.2613ms
2024-01-12 18:15:30.396 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-12 18:15:30.403 +06:00 [DBG] The request path  does not match the path filter
2024-01-12 18:15:30.406 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:15:30.408 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:15:30.409 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-12 18:15:30.411 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-12 18:15:30.414 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:15:30.417 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:15:30.418 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-12 18:15:30.422 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:15:30.424 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:15:30.426 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:15:30.429 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:15:30.431 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:15:30.433 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:15:30.437 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-12 18:15:30.487 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:15:30.497 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:15:30.499 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:15:30.500 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:30.502 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:30.503 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:15:30.504 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:15:30.506 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:15:30.507 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:15:30.510 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-12 18:15:30.513 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:30.515 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:30.517 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:30.518 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:30.520 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:30.522 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-12 18:15:30.524 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:30.525 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 12ms reading results.
2024-01-12 18:15:30.527 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:30.529 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:15:30.532 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:15:30.535 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:15:30.536 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:15:30.537 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:15:30.538 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:15:30.539 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-12 18:15:30.541 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 108.557ms
2024-01-12 18:15:30.544 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-12 18:15:30.545 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:15:30.548 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:15:30.550 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-12 18:15:30.551 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 155.153ms
2024-01-12 18:16:28.297 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 18:16:28.300 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:16:28.302 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:16:28.303 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:16:28.304 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:16:28.306 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 10.3608ms
2024-01-12 18:16:28.312 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-12 18:16:28.317 +06:00 [DBG] POST requests are not supported
2024-01-12 18:16:28.317 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:16:28.318 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:16:28.319 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 18:16:28.321 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 18:16:28.323 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:16:28.324 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:16:28.328 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 18:16:28.331 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:16:28.333 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:16:28.334 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:16:28.336 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:16:28.337 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:16:28.339 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:16:28.340 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:16:28.343 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:16:28.344 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 18:16:28.347 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:16:28.349 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:16:28.354 +06:00 [DBG] Connection id "0HN0JD0FCM9CD", Request id "0HN0JD0FCM9CD:00000009": started reading request body.
2024-01-12 18:16:28.355 +06:00 [DBG] Connection id "0HN0JD0FCM9CD", Request id "0HN0JD0FCM9CD:00000009": done reading request body.
2024-01-12 18:16:28.371 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:16:28.373 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:16:28.375 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:16:28.381 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:16:28.385 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:16:28.387 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-12 18:16:28.394 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 18:16:28.400 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:16:28.401 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-12 18:16:28.402 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.404 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.405 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:16:28.407 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:16:28.410 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-12 18:16:28.411 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:16:28.418 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:16:28.423 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.425 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-12 18:16:28.427 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.428 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:16:28.431 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-12 18:16:28.434 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 18:16:28.437 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.440 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.444 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:16:28.445 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:16:28.447 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 18:16:28.449 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:16:28.455 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:16:28.458 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.459 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:16:28.463 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.465 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:16:28.467 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:16:28.471 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:16:28.472 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:16:28.473 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:16:28.474 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:16:28.475 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 18:16:28.480 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 141.1585ms
2024-01-12 18:16:28.481 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:16:28.483 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:16:28.484 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:16:28.485 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-12 18:16:28.486 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 174.526ms
2024-01-12 18:17:48.583 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 18:17:48.593 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:17:48.594 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:17:48.596 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:17:48.597 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:17:48.598 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 15.3805ms
2024-01-12 18:17:48.604 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 39
2024-01-12 18:17:48.613 +06:00 [DBG] POST requests are not supported
2024-01-12 18:17:48.614 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:17:48.615 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:17:48.617 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 18:17:48.619 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 18:17:48.621 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:17:48.622 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:17:48.623 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 18:17:48.626 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:17:48.628 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:17:48.629 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:17:48.631 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:17:48.633 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:17:48.635 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:17:48.637 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:17:48.639 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:17:48.640 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 18:17:48.641 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:17:48.643 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:17:48.644 +06:00 [DBG] Connection id "0HN0JD0FCM9CD", Request id "0HN0JD0FCM9CD:0000000D": started reading request body.
2024-01-12 18:17:48.646 +06:00 [DBG] Connection id "0HN0JD0FCM9CD", Request id "0HN0JD0FCM9CD:0000000D": done reading request body.
2024-01-12 18:17:48.648 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:17:48.649 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:17:48.650 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:17:48.652 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:17:48.655 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:17:48.658 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:17:48.659 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:17:48.661 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.662 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.664 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:17:48.665 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:17:48.666 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:17:48.668 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:17:48.673 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:17:48.676 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.677 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:17:48.679 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.680 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:17:48.682 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.684 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.686 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:17:48.687 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:17:48.688 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:17:48.690 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:17:48.695 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:17:48.697 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.699 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:17:48.701 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.702 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:17:48.704 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:17:48.707 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:17:48.708 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:17:48.709 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:17:48.710 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:17:48.712 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 18:17:48.713 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 78.3099ms
2024-01-12 18:17:48.715 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:17:48.716 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:17:48.718 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:17:48.719 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:17:48.721 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 116.9331ms
2024-01-12 18:18:17.863 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 18:18:17.870 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:18:17.872 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:18:17.874 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:18:17.875 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:18:17.876 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 14.1356ms
2024-01-12 18:18:17.878 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-12 18:18:17.885 +06:00 [DBG] POST requests are not supported
2024-01-12 18:18:17.886 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:18:17.887 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:18:17.888 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 18:18:17.890 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 18:18:17.892 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:18:17.893 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:18:17.894 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 18:18:17.896 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:18:17.897 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:18:17.898 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:18:17.901 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:18:17.902 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:18:17.904 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:18:17.906 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:18:17.909 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:18:17.910 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 18:18:17.912 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:18:17.913 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:18:17.914 +06:00 [DBG] Connection id "0HN0JD0FCM9CD", Request id "0HN0JD0FCM9CD:00000011": started reading request body.
2024-01-12 18:18:17.915 +06:00 [DBG] Connection id "0HN0JD0FCM9CD", Request id "0HN0JD0FCM9CD:00000011": done reading request body.
2024-01-12 18:18:17.917 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:18:17.918 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:18:17.920 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:18:17.921 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:18:17.924 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:18:17.926 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:18:17.927 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:18:17.928 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.929 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.930 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:18:17.932 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:18:17.933 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:18:17.935 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:18:17.939 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:18:17.942 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.944 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:18:17.946 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.947 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:18:17.950 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.951 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.952 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:18:17.953 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 18:18:17.954 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:18:17.955 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:18:17.958 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:18:17.960 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.961 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:18:17.963 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.964 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:18:17.965 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:18:17.967 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:18:17.968 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:18:17.969 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:18:17.969 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:18:17.970 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 18:18:17.971 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 67.1692ms
2024-01-12 18:18:17.973 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:18:17.974 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:18:17.976 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:18:17.977 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:18:17.979 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 100.8585ms
2024-01-12 18:20:57.471 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-12 18:20:57.597 +06:00 [DBG] Hosting starting
2024-01-12 18:20:57.750 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-12 18:20:57.751 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-12 18:20:57.752 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-12 18:20:57.753 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-12 18:20:57.754 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-12 18:20:57.755 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-12 18:20:57.756 +06:00 [INF] Hosting environment: Development
2024-01-12 18:20:57.758 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-12 18:20:57.759 +06:00 [DBG] Hosting started
2024-01-12 18:21:07.693 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6" accepted.
2024-01-12 18:21:07.699 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6" started.
2024-01-12 18:21:07.752 +06:00 [DBG] Connection 0HN0JD3Q5MUG6 established using the following protocol: "Tls13"
2024-01-12 18:21:07.781 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 18:21:07.789 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-12 18:21:07.799 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:21:07.801 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:21:07.803 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:21:07.804 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:21:07.807 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 29.4076ms
2024-01-12 18:21:07.810 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 39
2024-01-12 18:21:07.815 +06:00 [DBG] POST requests are not supported
2024-01-12 18:21:07.817 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:21:07.818 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:21:07.833 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 18:21:07.836 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 18:21:07.839 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:21:07.843 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:21:07.856 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 18:21:07.862 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:21:07.864 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:21:07.866 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:21:07.869 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:21:07.871 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:21:07.874 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:21:07.942 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-12 18:21:08.032 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:21:08.041 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:21:08.047 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 18:21:08.050 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:21:08.052 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:21:08.056 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6", Request id "0HN0JD3Q5MUG6:00000003": started reading request body.
2024-01-12 18:21:08.058 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6", Request id "0HN0JD3Q5MUG6:00000003": done reading request body.
2024-01-12 18:21:08.100 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:21:08.104 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:21:08.106 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:21:08.112 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:21:08.424 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:21:08.460 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-12 18:21:08.551 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 18:21:08.572 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:21:08.584 +06:00 [DBG] Created DbConnection. (10ms).
2024-01-12 18:21:08.587 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.768 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.772 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:21:08.779 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-12 18:21:08.788 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-01-12 18:21:08.794 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:08.842 +06:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:08.854 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.859 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 11ms reading results.
2024-01-12 18:21:08.863 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.867 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-12 18:21:08.870 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-12 18:21:08.872 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-12 18:21:08.874 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.876 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.877 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:21:08.878 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-12 18:21:08.879 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:21:08.879 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:08.885 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:08.887 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.888 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:21:08.889 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.890 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:21:08.894 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:21:08.898 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:21:08.899 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:21:08.901 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:21:08.905 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:21:08.912 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 18:21:08.934 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 1058.9987ms
2024-01-12 18:21:08.937 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:21:08.941 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:21:08.947 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:08.949 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-12 18:21:08.952 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 1141.6425ms
2024-01-12 18:21:15.956 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 18:21:15.963 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:21:15.967 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:21:15.969 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:21:15.971 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:21:15.973 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 17.4249ms
2024-01-12 18:21:15.976 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 41
2024-01-12 18:21:15.983 +06:00 [DBG] POST requests are not supported
2024-01-12 18:21:15.985 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:21:15.986 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:21:15.989 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 18:21:15.991 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 18:21:15.995 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:21:15.997 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:21:15.999 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 18:21:16.001 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:21:16.004 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:21:16.006 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:21:16.008 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:21:16.010 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:21:16.011 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:21:16.014 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:21:16.016 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:21:16.018 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 18:21:16.020 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:21:16.022 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:21:16.024 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6", Request id "0HN0JD3Q5MUG6:00000007": started reading request body.
2024-01-12 18:21:16.025 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6", Request id "0HN0JD3Q5MUG6:00000007": done reading request body.
2024-01-12 18:21:16.027 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:21:16.028 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:21:16.030 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:21:16.032 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:21:16.046 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:21:16.051 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:21:16.052 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:21:16.053 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.055 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.058 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:21:16.060 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:21:16.061 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:21:16.063 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:16.066 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:16.070 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.071 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:21:16.074 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.076 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:21:16.078 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.080 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.081 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:21:16.083 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:21:16.085 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-12 18:21:16.087 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:16.091 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:21:16.094 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.095 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:21:16.097 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.099 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:21:16.102 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:21:16.105 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:21:16.106 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:21:16.107 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:21:16.108 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:21:16.110 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 18:21:16.112 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 100.8464ms
2024-01-12 18:21:16.114 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:21:16.116 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:21:16.118 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:21:16.120 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:21:16.122 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 146.6448ms
2024-01-12 18:22:30.818 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-12 18:22:30.824 +06:00 [DBG] OPTIONS requests are not supported
2024-01-12 18:22:30.825 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:22:30.826 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:22:30.827 +06:00 [DBG] The request is a preflight request.
2024-01-12 18:22:30.829 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 11.873ms
2024-01-12 18:22:30.832 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 54
2024-01-12 18:22:30.839 +06:00 [DBG] POST requests are not supported
2024-01-12 18:22:30.840 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-12 18:22:30.841 +06:00 [INF] CORS policy execution successful.
2024-01-12 18:22:30.842 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-12 18:22:30.843 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-12 18:22:30.845 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:22:30.848 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:22:30.849 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-12 18:22:30.851 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-12 18:22:30.853 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-12 18:22:30.855 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-12 18:22:30.857 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-12 18:22:30.859 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-12 18:22:30.861 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:22:30.865 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-12 18:22:30.866 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:22:30.868 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-12 18:22:30.870 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-12 18:22:30.872 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-12 18:22:30.873 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6", Request id "0HN0JD3Q5MUG6:0000000B": started reading request body.
2024-01-12 18:22:30.875 +06:00 [DBG] Connection id "0HN0JD3Q5MUG6", Request id "0HN0JD3Q5MUG6:0000000B": done reading request body.
2024-01-12 18:22:30.877 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:22:30.879 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:22:30.881 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-12 18:22:30.882 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-12 18:22:30.919 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-12 18:22:30.923 +06:00 [DBG] Creating DbConnection.
2024-01-12 18:22:30.924 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-12 18:22:30.925 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:22:30.927 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:22:30.928 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-12 18:22:30.930 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-12 18:22:30.931 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-12 18:22:30.933 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:22:30.949 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userName_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-12 18:22:30.952 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-12 18:22:30.954 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-12 18:22:30.955 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:22:30.957 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-12 18:22:30.959 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-12 18:22:30.963 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-12 18:22:30.964 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-12 18:22:30.965 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-12 18:22:30.966 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-12 18:22:30.968 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-12 18:22:30.970 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 109.2448ms
2024-01-12 18:22:30.971 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-12 18:22:30.973 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-12 18:22:30.974 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-12 18:22:30.976 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-12 18:22:30.977 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 147.0238ms
