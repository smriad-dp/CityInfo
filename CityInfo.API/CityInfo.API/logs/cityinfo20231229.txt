2023-12-29 09:42:23.315 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 09:42:23.381 +06:00 [DBG] Hosting starting
2023-12-29 09:42:23.546 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 09:42:23.547 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 09:42:23.548 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 09:42:23.549 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 09:42:23.550 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 09:42:23.551 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 09:42:23.552 +06:00 [INF] Hosting environment: Development
2023-12-29 09:42:23.553 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 09:42:23.554 +06:00 [DBG] Hosting started
2023-12-29 09:42:30.367 +06:00 [DBG] Connection id "0HN0840NJ7K8O" received FIN.
2023-12-29 09:42:30.376 +06:00 [DBG] Connection id "0HN0840NJ7K8O" accepted.
2023-12-29 09:42:30.380 +06:00 [DBG] Connection id "0HN0840NJ7K8O" started.
2023-12-29 09:42:30.382 +06:00 [DBG] Connection id "0HN0840NJ7K8P" accepted.
2023-12-29 09:42:30.383 +06:00 [DBG] Connection id "0HN0840NJ7K8P" started.
2023-12-29 09:42:30.402 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-29 09:42:30.439 +06:00 [DBG] Connection id "0HN0840NJ7K8O" stopped.
2023-12-29 09:42:30.446 +06:00 [DBG] Connection id "0HN0840NJ7K8O" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 09:42:30.450 +06:00 [DBG] Connection 0HN0840NJ7K8P established using the following protocol: "Tls13"
2023-12-29 09:42:30.494 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities - null null
2023-12-29 09:42:30.508 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 09:42:30.535 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:42:30.580 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-29 09:42:30.591 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-29 09:42:30.598 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-29 09:42:30.603 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-29 09:42:30.643 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities(System.String, System.String, Int32, Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:42:30.649 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:42:30.651 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:42:30.655 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:42:30.658 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:42:30.660 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:42:30.665 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:42:30.994 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 09:42:31.201 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:42:31.211 +06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' ...
2023-12-29 09:42:31.216 +06:00 [DBG] Attempting to bind parameter 'name' of type 'System.String' using the name '' in request data ...
2023-12-29 09:42:31.219 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'name' of type 'System.String'.
2023-12-29 09:42:31.221 +06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-29 09:42:31.223 +06:00 [DBG] Done attempting to bind parameter 'name' of type 'System.String'.
2023-12-29 09:42:31.225 +06:00 [DBG] Attempting to validate the bound parameter 'name' of type 'System.String' ...
2023-12-29 09:42:31.229 +06:00 [DBG] Done attempting to validate the bound parameter 'name' of type 'System.String'.
2023-12-29 09:42:31.232 +06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' ...
2023-12-29 09:42:31.235 +06:00 [DBG] Attempting to bind parameter 'searchQuery' of type 'System.String' using the name '' in request data ...
2023-12-29 09:42:31.237 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'searchQuery' of type 'System.String'.
2023-12-29 09:42:31.240 +06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-29 09:42:31.242 +06:00 [DBG] Done attempting to bind parameter 'searchQuery' of type 'System.String'.
2023-12-29 09:42:31.244 +06:00 [DBG] Attempting to validate the bound parameter 'searchQuery' of type 'System.String' ...
2023-12-29 09:42:31.246 +06:00 [DBG] Done attempting to validate the bound parameter 'searchQuery' of type 'System.String'.
2023-12-29 09:42:31.248 +06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' ...
2023-12-29 09:42:31.249 +06:00 [DBG] Attempting to bind parameter 'pageNumber' of type 'System.Int32' using the name '' in request data ...
2023-12-29 09:42:31.252 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageNumber' of type 'System.Int32'.
2023-12-29 09:42:31.255 +06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-29 09:42:31.257 +06:00 [DBG] Done attempting to bind parameter 'pageNumber' of type 'System.Int32'.
2023-12-29 09:42:31.259 +06:00 [DBG] Attempting to validate the bound parameter 'pageNumber' of type 'System.Int32' ...
2023-12-29 09:42:31.263 +06:00 [DBG] Done attempting to validate the bound parameter 'pageNumber' of type 'System.Int32'.
2023-12-29 09:42:31.265 +06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' ...
2023-12-29 09:42:31.266 +06:00 [DBG] Attempting to bind parameter 'pageSize' of type 'System.Int32' using the name '' in request data ...
2023-12-29 09:42:31.269 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'pageSize' of type 'System.Int32'.
2023-12-29 09:42:31.271 +06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-29 09:42:31.273 +06:00 [DBG] Done attempting to bind parameter 'pageSize' of type 'System.Int32'.
2023-12-29 09:42:31.275 +06:00 [DBG] Attempting to validate the bound parameter 'pageSize' of type 'System.Int32' ...
2023-12-29 09:42:31.278 +06:00 [DBG] Done attempting to validate the bound parameter 'pageSize' of type 'System.Int32'.
2023-12-29 09:42:32.087 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:42:32.347 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Count()'
2023-12-29 09:42:32.577 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Cities AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 09:42:32.628 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:42:32.663 +06:00 [DBG] Created DbConnection. (32ms).
2023-12-29 09:42:32.671 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.202 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.207 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:42:33.217 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-12-29 09:42:33.221 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2023-12-29 09:42:33.232 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Cities] AS [c]
2023-12-29 09:42:33.298 +06:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Cities] AS [c]
2023-12-29 09:42:33.327 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.337 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 27ms reading results.
2023-12-29 09:42:33.344 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.352 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2023-12-29 09:42:33.359 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()'
2023-12-29 09:42:33.416 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-29 09:42:33.425 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.429 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.431 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:42:33.433 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:42:33.435 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:42:33.436 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
2023-12-29 09:42:33.450 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
2023-12-29 09:42:33.494 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:42:33.517 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:42:33.521 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:42:33.524 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.527 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 73ms reading results.
2023-12-29 09:42:33.529 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.531 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:42:33.586 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:42:33.592 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:42:33.593 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:42:33.594 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:42:33.597 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:42:33.599 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-29 09:42:33.711 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3043.1732ms
2023-12-29 09:42:33.715 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2023-12-29 09:42:33.719 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:42:33.722 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:42:33.727 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:42:33.729 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-12-29 09:42:33.732 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities - 200 227 application/json; charset=utf-8 3249.0226ms
2023-12-29 09:44:15.729 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/1 - null null
2023-12-29 09:44:15.737 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:44:15.739 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-12-29 09:44:15.740 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-12-29 09:44:15.742 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:15.744 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:15.748 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:44:15.750 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:44:15.752 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:44:15.754 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:44:15.756 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:44:15.758 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:44:15.759 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:44:15.761 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:44:15.763 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-29 09:44:15.764 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-29 09:44:15.767 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:15.769 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:15.771 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-29 09:44:15.773 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:15.774 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 09:44:15.776 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-29 09:44:15.778 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:15.779 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:15.781 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:15.782 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 09:44:15.784 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:15.798 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:44:15.803 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-29 09:44:15.817 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 09:44:15.823 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:44:15.824 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 09:44:15.826 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:15.828 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:15.830 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:44:15.831 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:44:15.836 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-12-29 09:44:15.841 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 09:44:15.862 +06:00 [INF] Executed DbCommand (24ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 09:44:15.872 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:44:15.874 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:15.876 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2023-12-29 09:44:15.878 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:15.880 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:44:15.884 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:44:15.888 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:44:15.891 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:44:15.892 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:44:15.893 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:44:15.894 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-29 09:44:15.896 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 137.4963ms
2023-12-29 09:44:15.898 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:15.900 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:44:15.901 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:44:15.902 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:15.904 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:44:15.906 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/1 - 200 75 application/json; charset=utf-8 177.6986ms
2023-12-29 09:44:20.989 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/2 - null null
2023-12-29 09:44:20.995 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:44:20.997 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-12-29 09:44:20.999 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/2'
2023-12-29 09:44:21.001 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:21.002 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:21.004 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:44:21.009 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:44:21.011 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:44:21.014 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:44:21.017 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:44:21.020 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:44:21.022 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:44:21.027 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:44:21.030 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-29 09:44:21.033 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-29 09:44:21.035 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:21.037 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:21.039 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-29 09:44:21.042 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:21.043 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 09:44:21.048 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-29 09:44:21.052 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:21.054 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:21.057 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:21.061 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 09:44:21.064 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:21.136 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:44:21.143 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:44:21.144 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 09:44:21.145 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:21.147 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:21.149 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:44:21.150 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 09:44:21.151 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:44:21.153 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 09:44:21.156 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 09:44:21.159 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:44:21.160 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:21.162 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2023-12-29 09:44:21.163 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:21.165 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:44:21.167 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:44:21.171 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:44:21.172 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:44:21.173 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:44:21.174 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:44:21.176 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-29 09:44:21.177 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 155.9711ms
2023-12-29 09:44:21.179 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:21.179 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:44:21.182 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:44:21.183 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:21.185 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-29 09:44:21.187 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/2 - 200 80 application/json; charset=utf-8 198.7609ms
2023-12-29 09:44:34.138 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/3 - null null
2023-12-29 09:44:34.143 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:44:34.144 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2023-12-29 09:44:34.146 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/3'
2023-12-29 09:44:34.148 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:34.149 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:34.150 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:44:34.151 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:44:34.152 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:44:34.153 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:44:34.155 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:44:34.157 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:44:34.158 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:44:34.160 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:44:34.162 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-29 09:44:34.164 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-29 09:44:34.165 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:34.166 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:34.167 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-29 09:44:34.168 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-29 09:44:34.170 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 09:44:34.171 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-29 09:44:34.172 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:34.174 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:34.175 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:34.176 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 09:44:34.177 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 09:44:34.179 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:44:34.181 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:44:34.182 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:44:34.185 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:34.190 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:34.193 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:44:34.194 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:44:34.198 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-29 09:44:34.199 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 09:44:34.202 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 09:44:34.204 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:44:34.205 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:34.206 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2023-12-29 09:44:34.207 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:34.209 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:44:34.210 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:44:34.214 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:44:34.218 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:44:34.219 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:44:34.220 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:44:34.221 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-29 09:44:34.227 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 69.2766ms
2023-12-29 09:44:34.231 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 09:44:34.232 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:44:34.234 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:44:34.235 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:44:34.236 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:44:34.238 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/3 - 200 68 application/json; charset=utf-8 100.7273ms
2023-12-29 09:45:24.828 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/1/pointsofinterest/1 - null null
2023-12-29 09:45:24.835 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:45:24.836 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-12-29 09:45:24.837 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-12-29 09:45:24.839 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:45:24.840 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:45:24.844 +06:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:45:24.848 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:45:24.850 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:45:24.852 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:45:24.854 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:45:24.856 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:45:24.857 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:45:24.859 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:45:24.860 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:45:24.861 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:45:24.863 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:45:24.864 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:45:24.866 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:45:24.868 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:45:24.870 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:45:24.871 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-29 09:45:24.873 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:45:24.874 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:45:24.876 +06:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:45:24.877 +06:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:45:24.880 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:45:24.888 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-29 09:45:24.892 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 09:45:24.901 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:45:24.903 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 09:45:24.904 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.905 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.907 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:45:24.908 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:45:24.909 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:45:24.911 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:45:24.917 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:45:24.923 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.924 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2023-12-29 09:45:24.926 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.929 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2023-12-29 09:45:24.932 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2023-12-29 09:45:24.939 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 09:45:24.945 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.949 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.951 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:45:24.953 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:45:24.955 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-29 09:45:24.958 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2023-12-29 09:45:24.965 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2023-12-29 09:45:24.973 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:45:24.980 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.982 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2023-12-29 09:45:24.984 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:24.989 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2023-12-29 09:45:24.993 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:45:24.997 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:45:24.999 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:45:25.000 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:45:25.002 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:45:25.005 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-29 09:45:25.008 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 151.0049ms
2023-12-29 09:45:25.010 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:45:25.011 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:45:25.013 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:45:25.014 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:25.016 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-29 09:45:25.019 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/1/pointsofinterest/1 - 200 95 application/json; charset=utf-8 191.3242ms
2023-12-29 09:45:43.658 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/2/pointsofinterest/1 - null null
2023-12-29 09:45:43.666 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:45:43.670 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/1'
2023-12-29 09:45:43.673 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/2/pointsofinterest/1'
2023-12-29 09:45:43.677 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:45:43.680 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:45:43.683 +06:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:45:43.685 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:45:43.688 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:45:43.690 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:45:43.692 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:45:43.694 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:45:43.696 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:45:43.700 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:45:43.702 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:45:43.704 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:45:43.706 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:45:43.707 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:45:43.709 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:45:43.710 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:45:43.712 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:45:43.714 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-29 09:45:43.716 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:45:43.719 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:45:43.721 +06:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:45:43.723 +06:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:45:43.725 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:45:43.729 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:45:43.731 +06:00 [DBG] Created DbConnection. (2ms).
2023-12-29 09:45:43.732 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.734 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.735 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:45:43.736 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 09:45:43.737 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:45:43.739 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:45:43.743 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:45:43.751 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.753 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:45:43.754 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.756 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:45:43.757 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.759 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.760 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:45:43.761 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:45:43.763 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:45:43.765 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2023-12-29 09:45:43.768 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2023-12-29 09:45:43.770 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.772 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:45:43.774 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.776 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2023-12-29 09:45:43.779 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:45:43.783 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:45:43.785 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 09:45:43.789 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 09:45:43.791 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-29 09:45:43.804 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 107.7034ms
2023-12-29 09:45:43.805 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:45:43.806 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:45:43.808 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:45:43.809 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:45:43.811 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:45:43.813 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/2/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 155.3338ms
2023-12-29 09:46:17.017 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/2/pointsofinterest/3 - null null
2023-12-29 09:46:17.022 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:46:17.023 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/3'
2023-12-29 09:46:17.023 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/2/pointsofinterest/3'
2023-12-29 09:46:17.025 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:46:17.025 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:46:17.026 +06:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:46:17.028 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:46:17.029 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:46:17.030 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:46:17.032 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:46:17.034 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:46:17.035 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:46:17.038 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:46:17.039 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:46:17.040 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:46:17.043 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:46:17.044 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:46:17.046 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:46:17.047 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:46:17.049 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:46:17.050 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-29 09:46:17.052 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:46:17.053 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:46:17.054 +06:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:46:17.056 +06:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:46:17.057 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:46:17.060 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:46:17.061 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:46:17.062 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.064 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.065 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:46:17.066 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:46:17.067 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:46:17.069 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:46:17.074 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:46:17.078 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.080 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:46:17.081 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.083 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:46:17.085 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.087 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.089 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:46:17.090 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:46:17.092 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:46:17.093 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2023-12-29 09:46:17.097 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2023-12-29 09:46:17.099 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:46:17.101 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.103 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2023-12-29 09:46:17.104 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.105 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:46:17.107 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:46:17.110 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:46:17.111 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:46:17.112 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:46:17.112 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:46:17.114 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-29 09:46:17.116 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 80.4959ms
2023-12-29 09:46:17.117 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:46:17.119 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:46:17.120 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:46:17.121 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:17.122 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:46:17.124 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/2/pointsofinterest/3 - 200 70 application/json; charset=utf-8 106.7622ms
2023-12-29 09:46:54.249 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/5/pointsofinterest/1 - null null
2023-12-29 09:46:54.254 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:46:54.255 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/5/pointsofinterest/1'
2023-12-29 09:46:54.256 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/5/pointsofinterest/1'
2023-12-29 09:46:54.257 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:46:54.258 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:46:54.259 +06:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:46:54.261 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:46:54.263 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:46:54.265 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:46:54.268 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:46:54.270 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:46:54.272 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:46:54.274 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:46:54.275 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:46:54.277 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:46:54.278 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:46:54.280 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:46:54.281 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:46:54.283 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:46:54.285 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:46:54.287 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2023-12-29 09:46:54.289 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:46:54.290 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:46:54.291 +06:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2023-12-29 09:46:54.293 +06:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2023-12-29 09:46:54.294 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:46:54.296 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:46:54.296 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:46:54.297 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:54.298 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:54.299 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:46:54.299 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 09:46:54.300 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:46:54.301 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:46:54.305 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:46:54.311 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:54.312 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:46:54.313 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:54.314 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:46:54.316 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:46:54.319 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:46:54.320 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 09:46:54.323 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 09:46:54.324 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-29 09:46:54.327 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 54.6491ms
2023-12-29 09:46:54.328 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2023-12-29 09:46:54.330 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:46:54.331 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:46:54.332 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:46:54.334 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:46:54.338 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/5/pointsofinterest/1 - 404 162 application/problem+json; charset=utf-8 90.1641ms
2023-12-29 09:47:06.343 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/1/pointsofinterest/ - null null
2023-12-29 09:47:06.350 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:47:06.351 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2023-12-29 09:47:06.353 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2023-12-29 09:47:06.356 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:06.358 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:06.363 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:47:06.367 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:47:06.368 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:47:06.370 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:47:06.372 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:47:06.373 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:47:06.375 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:06.376 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:06.378 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:06.380 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:47:06.381 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:06.383 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:06.384 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:06.386 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:06.388 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:47:06.390 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:47:06.391 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:47:06.393 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.395 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.397 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:06.398 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:47:06.400 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:47:06.402 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:06.405 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:06.408 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.409 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:47:06.411 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.412 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 09:47:06.416 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-12-29 09:47:06.420 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-12-29 09:47:06.422 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.424 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.428 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:06.430 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:47:06.432 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:47:06.433 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-12-29 09:47:06.439 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-12-29 09:47:06.442 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:06.443 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:06.445 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.448 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2023-12-29 09:47:06.450 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.451 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:47:06.456 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:47:06.458 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:47:06.459 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:47:06.461 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:47:06.462 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:47:06.464 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-29 09:47:06.467 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 92.2798ms
2023-12-29 09:47:06.469 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:06.470 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:47:06.471 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:47:06.473 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:06.474 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:47:06.476 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/1/pointsofinterest/ - 200 204 application/json; charset=utf-8 133.1467ms
2023-12-29 09:47:16.955 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/2/pointsofinterest/ - null null
2023-12-29 09:47:16.959 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:47:16.960 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/'
2023-12-29 09:47:16.962 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest/'
2023-12-29 09:47:16.964 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:16.965 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:16.967 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:47:16.970 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:47:16.972 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:47:16.974 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:47:16.976 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:47:16.977 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:47:16.978 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:16.979 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:16.980 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:16.981 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:47:16.983 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:16.984 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:16.986 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:16.987 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:16.989 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:47:16.991 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:47:16.991 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:47:16.992 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:16.993 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:16.994 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:16.995 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 09:47:16.996 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:47:16.998 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:17.003 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:17.010 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:17.012 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:47:17.014 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:17.015 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:47:17.017 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:17.018 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:17.020 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:17.021 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:47:17.022 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:47:17.023 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-12-29 09:47:17.028 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-12-29 09:47:17.030 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:17.032 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:17.034 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:17.037 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 6ms reading results.
2023-12-29 09:47:17.039 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:17.040 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 09:47:17.041 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:47:17.045 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:47:17.046 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:47:17.047 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:47:17.048 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:47:17.049 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-29 09:47:17.051 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 72.7628ms
2023-12-29 09:47:17.052 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:17.053 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:47:17.054 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:47:17.055 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:17.056 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:47:17.057 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/2/pointsofinterest/ - 200 189 application/json; charset=utf-8 102.975ms
2023-12-29 09:47:21.079 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/4/pointsofinterest/ - null null
2023-12-29 09:47:21.081 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:47:21.082 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/4/pointsofinterest/'
2023-12-29 09:47:21.083 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/4/pointsofinterest/'
2023-12-29 09:47:21.084 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:21.086 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:21.087 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:47:21.090 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:47:21.092 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:47:21.094 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:47:21.096 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:47:21.098 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:47:21.100 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:21.102 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:21.104 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:21.106 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:47:21.108 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:21.110 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:21.111 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:21.113 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:21.115 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:47:21.117 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:47:21.118 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:47:21.119 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:21.121 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:21.122 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:21.123 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:47:21.125 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:47:21.127 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:21.130 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:21.133 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:21.134 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:47:21.136 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:21.137 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:47:21.139 +06:00 [INF] City with id 4 wasn't found when accessing points of interest.
2023-12-29 09:47:21.141 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:47:21.143 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:47:21.144 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 09:47:21.146 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 09:47:21.147 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-29 09:47:21.149 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 49.2375ms
2023-12-29 09:47:21.151 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:21.152 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:47:21.153 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:47:21.155 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:21.157 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:47:21.159 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/4/pointsofinterest/ - 404 162 application/problem+json; charset=utf-8 80.5114ms
2023-12-29 09:47:28.303 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/3/pointsofinterest/ - null null
2023-12-29 09:47:28.308 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 09:47:28.310 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest/'
2023-12-29 09:47:28.312 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/3/pointsofinterest/'
2023-12-29 09:47:28.314 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:28.315 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:28.316 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 09:47:28.318 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:47:28.320 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:47:28.323 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:47:28.324 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:47:28.326 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:47:28.328 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:28.330 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 09:47:28.331 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:28.333 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 09:47:28.334 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:28.336 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:28.338 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 09:47:28.339 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 09:47:28.342 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:47:28.344 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:47:28.344 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:47:28.345 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.347 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.350 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:28.351 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:47:28.352 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:47:28.354 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:28.359 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 09:47:28.362 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.364 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:47:28.366 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.368 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:47:28.370 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.372 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.373 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:28.374 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:47:28.376 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:47:28.378 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-12-29 09:47:28.381 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-12-29 09:47:28.384 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:28.385 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:28.386 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.388 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2023-12-29 09:47:28.389 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.390 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:47:28.392 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 09:47:28.395 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 09:47:28.396 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 09:47:28.397 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 09:47:28.398 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 09:47:28.400 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-12-29 09:47:28.401 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 73.9578ms
2023-12-29 09:47:28.403 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2023-12-29 09:47:28.405 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:47:28.406 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:47:28.407 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:28.408 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:47:28.409 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/3/pointsofinterest/ - 200 209 application/json; charset=utf-8 107.1478ms
2023-12-29 09:47:48.433 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/ - application/json 99
2023-12-29 09:47:48.437 +06:00 [DBG] POST requests are not supported
2023-12-29 09:47:48.438 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2023-12-29 09:47:48.439 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2023-12-29 09:47:48.441 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:47:48.442 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:47:48.446 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:47:48.449 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:47:48.450 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:47:48.454 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:47:48.456 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:47:48.458 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:47:48.460 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:47:48.461 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:47:48.463 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:47:48.465 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 09:47:48.467 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 09:47:48.470 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 09:47:48.476 +06:00 [DBG] Connection id "0HN0840NJ7K8P", Request id "0HN0840NJ7K8P:0000000D": started reading request body.
2023-12-29 09:47:48.478 +06:00 [DBG] Connection id "0HN0840NJ7K8P", Request id "0HN0840NJ7K8P:0000000D": done reading request body.
2023-12-29 09:47:48.494 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:47:48.496 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:47:48.498 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:47:48.503 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:47:48.507 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:47:48.522 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:48.530 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:47:48.533 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 09:47:48.536 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 09:47:48.543 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 09:47:48.583 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:47:48.585 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 09:47:48.586 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:48.587 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:48.592 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:47:48.593 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:47:48.595 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:47:48.597 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:47:48.603 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:47:48.620 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:48.621 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 11ms reading results.
2023-12-29 09:47:48.625 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:48.627 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:47:48.641 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:725c1546-fb9e-4d99-a9a5-7b47d4a0d30f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:725c1546-fb9e-4d99-a9a5-7b47d4a0d30f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-12-29 09:47:48.732 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 272.9459ms
2023-12-29 09:47:48.734 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:47:48.737 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:725c1546-fb9e-4d99-a9a5-7b47d4a0d30f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.AddCityAsync(City city) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 92
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 72
   at lambda_method110(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 09:47:48.763 +06:00 [DBG] Connection id "0HN0840NJ7K8P" completed keep alive response.
2023-12-29 09:47:48.766 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:47:48.768 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:47:48.769 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:47:48.771 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/ - 500 null text/plain; charset=utf-8 338.4935ms
2023-12-29 09:48:46.236 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 09:48:46.296 +06:00 [DBG] Hosting starting
2023-12-29 09:48:46.400 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 09:48:46.409 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 09:48:46.410 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 09:48:46.411 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 09:48:46.413 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 09:48:46.415 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 09:48:46.416 +06:00 [INF] Hosting environment: Development
2023-12-29 09:48:46.417 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 09:48:46.419 +06:00 [DBG] Hosting started
2023-12-29 09:48:56.188 +06:00 [DBG] Connection id "0HN0844AIMRS8" received FIN.
2023-12-29 09:48:56.196 +06:00 [DBG] Connection id "0HN0844AIMRS8" accepted.
2023-12-29 09:48:56.199 +06:00 [DBG] Connection id "0HN0844AIMRS8" started.
2023-12-29 09:48:56.201 +06:00 [DBG] Connection id "0HN0844AIMRS9" accepted.
2023-12-29 09:48:56.202 +06:00 [DBG] Connection id "0HN0844AIMRS9" started.
2023-12-29 09:48:56.213 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-29 09:48:56.235 +06:00 [DBG] Connection id "0HN0844AIMRS8" stopped.
2023-12-29 09:48:56.238 +06:00 [DBG] Connection 0HN0844AIMRS9 established using the following protocol: "Tls13"
2023-12-29 09:48:56.238 +06:00 [DBG] Connection id "0HN0844AIMRS8" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 09:48:56.255 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/ - application/json 99
2023-12-29 09:48:56.265 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 09:48:56.275 +06:00 [DBG] POST requests are not supported
2023-12-29 09:48:56.286 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2023-12-29 09:48:56.292 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2023-12-29 09:48:56.295 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:48:56.298 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:48:56.317 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:48:56.323 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:48:56.326 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:48:56.328 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:48:56.332 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:48:56.334 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:48:56.337 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:48:56.427 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 09:48:56.566 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:48:56.573 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:48:56.577 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 09:48:56.581 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 09:48:56.585 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 09:48:56.592 +06:00 [DBG] Connection id "0HN0844AIMRS9", Request id "0HN0844AIMRS9:00000001": started reading request body.
2023-12-29 09:48:56.594 +06:00 [DBG] Connection id "0HN0844AIMRS9", Request id "0HN0844AIMRS9:00000001": done reading request body.
2023-12-29 09:48:56.658 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:48:56.661 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:48:56.663 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:48:56.669 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:49:06.788 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:49:06.819 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:49:06.860 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:49:06.868 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 09:49:06.874 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 09:49:06.882 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 09:49:06.930 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:49:06.950 +06:00 [DBG] Created DbConnection. (20ms).
2023-12-29 09:49:06.955 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:49:07.162 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:49:07.169 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:49:07.173 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:49:07.182 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2023-12-29 09:49:07.188 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:49:07.229 +06:00 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:49:07.244 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:49:07.253 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 15ms reading results.
2023-12-29 09:49:07.259 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:49:07.265 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2023-12-29 09:49:07.273 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-12-29 09:49:07.346 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 11008.6221ms
2023-12-29 09:49:07.350 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:49:07.354 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.AddCityAsync(City city) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 92
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 72
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 09:49:07.382 +06:00 [DBG] Connection id "0HN0844AIMRS9" completed keep alive response.
2023-12-29 09:49:07.384 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:49:07.387 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:49:07.391 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-29 09:49:07.393 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/ - 500 null text/plain; charset=utf-8 11140.2424ms
2023-12-29 09:54:30.946 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/ - application/json 99
2023-12-29 09:54:30.957 +06:00 [DBG] POST requests are not supported
2023-12-29 09:54:30.961 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2023-12-29 09:54:30.963 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2023-12-29 09:54:30.966 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:54:30.968 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:54:30.969 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:54:30.972 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:54:30.974 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:54:30.976 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:54:30.978 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:54:30.980 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:54:30.982 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:54:30.986 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:54:30.991 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:54:30.994 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 09:54:30.996 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 09:54:30.998 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 09:54:31.000 +06:00 [DBG] Connection id "0HN0844AIMRS9", Request id "0HN0844AIMRS9:00000002": started reading request body.
2023-12-29 09:54:31.002 +06:00 [DBG] Connection id "0HN0844AIMRS9", Request id "0HN0844AIMRS9:00000002": done reading request body.
2023-12-29 09:54:31.004 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:54:31.005 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:54:31.007 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:54:31.010 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:54:51.765 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:54:51.770 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:54:51.772 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:54:51.774 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 09:54:51.776 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 09:54:51.777 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 09:54:51.779 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:54:51.781 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 09:54:51.782 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:54:51.784 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:54:51.787 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:54:51.788 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:54:51.790 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 09:54:51.791 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:54:51.800 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:54:51.803 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:54:51.805 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2023-12-29 09:54:51.807 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:54:51.809 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:54:51.812 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-12-29 09:54:51.862 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 20880.0061ms
2023-12-29 09:54:51.865 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:54:51.867 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.AddCityAsync(City city) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 92
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 72
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 09:54:51.881 +06:00 [DBG] Connection id "0HN0844AIMRS9" completed keep alive response.
2023-12-29 09:54:51.882 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:54:51.884 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:54:51.885 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:54:51.888 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/ - 500 null text/plain; charset=utf-8 20941.5611ms
2023-12-29 09:55:57.700 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/ - application/json 99
2023-12-29 09:55:57.704 +06:00 [DBG] POST requests are not supported
2023-12-29 09:55:57.705 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2023-12-29 09:55:57.707 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2023-12-29 09:55:57.709 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:55:57.710 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:55:57.712 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 09:55:57.714 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 09:55:57.717 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 09:55:57.719 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 09:55:57.721 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 09:55:57.723 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 09:55:57.724 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:55:57.728 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 09:55:57.729 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:55:57.731 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 09:55:57.732 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 09:55:57.733 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 09:55:57.734 +06:00 [DBG] Connection id "0HN0844AIMRS9", Request id "0HN0844AIMRS9:00000003": started reading request body.
2023-12-29 09:55:57.734 +06:00 [DBG] Connection id "0HN0844AIMRS9", Request id "0HN0844AIMRS9:00000003": done reading request body.
2023-12-29 09:55:57.736 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:55:57.737 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:55:57.739 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 09:55:57.740 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 09:56:21.324 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 09:56:21.328 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:56:21.330 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 09:56:27.735 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 09:56:27.739 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 09:56:27.741 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 09:56:27.743 +06:00 [DBG] Creating DbConnection.
2023-12-29 09:56:27.744 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 09:56:27.745 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:56:27.747 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:56:27.748 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 09:56:27.750 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 09:56:27.751 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 09:56:27.753 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:56:27.760 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 09:56:27.763 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 09:56:27.765 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 09:56:27.767 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:56:27.769 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 09:56:27.772 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-12-29 09:56:27.826 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 30100.3593ms
2023-12-29 09:56:27.828 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 09:56:27.831 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:977ac157-08a5-40a2-8dab-b31cc2b0e6dc
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.AddCityAsync(City city) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 92
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 72
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 09:56:27.850 +06:00 [DBG] Connection id "0HN0844AIMRS9" completed keep alive response.
2023-12-29 09:56:27.852 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 09:56:27.853 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 09:56:27.855 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 09:56:27.857 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/ - 500 null text/plain; charset=utf-8 30184.4266ms
2023-12-29 10:07:20.656 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 10:07:20.709 +06:00 [DBG] Hosting starting
2023-12-29 10:07:20.831 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 10:07:20.833 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 10:07:20.834 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 10:07:20.835 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 10:07:20.837 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 10:07:20.838 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 10:07:20.839 +06:00 [INF] Hosting environment: Development
2023-12-29 10:07:20.840 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 10:07:20.841 +06:00 [DBG] Hosting started
2023-12-29 10:07:24.826 +06:00 [DBG] Connection id "0HN084EKVGB7M" received FIN.
2023-12-29 10:07:24.831 +06:00 [DBG] Connection id "0HN084EKVGB7M" accepted.
2023-12-29 10:07:24.834 +06:00 [DBG] Connection id "0HN084EKVGB7M" started.
2023-12-29 10:07:24.836 +06:00 [DBG] Connection id "0HN084EKVGB7N" accepted.
2023-12-29 10:07:24.837 +06:00 [DBG] Connection id "0HN084EKVGB7N" started.
2023-12-29 10:07:24.851 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-29 10:07:24.874 +06:00 [DBG] Connection id "0HN084EKVGB7M" stopped.
2023-12-29 10:07:24.878 +06:00 [DBG] Connection id "0HN084EKVGB7M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 10:07:24.882 +06:00 [DBG] Connection 0HN084EKVGB7N established using the following protocol: "Tls13"
2023-12-29 10:07:24.901 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/ - application/json 99
2023-12-29 10:07:24.910 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 10:07:24.922 +06:00 [DBG] POST requests are not supported
2023-12-29 10:07:24.939 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2023-12-29 10:07:24.944 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2023-12-29 10:07:24.947 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:07:24.951 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:07:24.970 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 10:07:24.976 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 10:07:24.978 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 10:07:24.981 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 10:07:24.984 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 10:07:24.986 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 10:07:24.989 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:07:25.083 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:07:25.194 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:07:25.234 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:07:25.237 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 10:07:25.240 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 10:07:25.242 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 10:07:25.250 +06:00 [DBG] Connection id "0HN084EKVGB7N", Request id "0HN084EKVGB7N:00000001": started reading request body.
2023-12-29 10:07:25.254 +06:00 [DBG] Connection id "0HN084EKVGB7N", Request id "0HN084EKVGB7N:00000001": done reading request body.
2023-12-29 10:07:25.317 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:07:25.322 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:07:25.324 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:07:25.331 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:07:38.075 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:07:38.095 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:07:38.127 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:07:39.994 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 10:07:39.998 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 10:07:40.005 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 10:07:40.061 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:07:40.088 +06:00 [DBG] Created DbConnection. (24ms).
2023-12-29 10:07:40.094 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:07:40.294 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:07:40.304 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:07:40.311 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-29 10:07:40.321 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2023-12-29 10:07:40.328 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:07:40.392 +06:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:07:40.410 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:07:40.416 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 15ms reading results.
2023-12-29 10:07:40.423 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:07:40.429 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2023-12-29 10:07:40.439 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'CityInfo.API.DbContexts.CityInfoContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:37a603ca-262e-440a-9f81-c8a7e7637dd1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:37a603ca-262e-440a-9f81-c8a7e7637dd1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-12-29 10:07:40.506 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 15516.9463ms
2023-12-29 10:07:40.510 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:07:40.513 +06:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Id', table 'CityInfo.dbo.Cities'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:37a603ca-262e-440a-9f81-c8a7e7637dd1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CityInfo.API.Services.CityInfoRepository.AddCityAsync(City city) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Services\CityInfoRepository.cs:line 92
   at CityInfo.API.Controllers.CitiesController.CreateCity(CityForCreationDto request) in C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API\Controllers\CitiesController.cs:line 72
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 10:07:40.543 +06:00 [DBG] Connection id "0HN084EKVGB7N" completed keep alive response.
2023-12-29 10:07:40.546 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:07:40.551 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:07:40.553 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-12-29 10:07:40.556 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/ - 500 null text/plain; charset=utf-8 15658.2756ms
2023-12-29 10:25:51.691 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:25:51.971 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:25:52.332 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:28:29.931 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:28:30.235 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:28:30.249 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:28:30.271 +06:00 [DBG] Created DbConnection. (20ms).
2023-12-29 10:28:30.273 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.275 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.397 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.400 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:28:30.404 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-12-29 10:28:30.405 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2023-12-29 10:28:30.408 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:28:30.421 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:28:30.422 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.426 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2023-12-29 10:28:30.427 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-29 10:28:30.427 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-29 10:28:30.427 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-29 10:28:30.427 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.428 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.428 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-29 10:28:30.446 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-29 10:28:30.446 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.446 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:28:30.446 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.446 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.446 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:28:30.446 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:28:30.446 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:28:30.446 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:28:30.448 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:28:30.448 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.448 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:28:30.448 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-29 10:28:30.448 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-29 10:28:30.448 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-29 10:28:30.448 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.448 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.448 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-29 10:28:30.449 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-29 10:28:30.449 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.449 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:28:30.458 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.458 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.458 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:28:30.458 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 10:28:30.458 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-29 10:28:30.458 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-12-29 10:28:30.469 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-12-29 10:28:30.470 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.471 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 10:28:30.471 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.471 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:28:30.476 +06:00 [INF] Applying migration '20231228100725_initial-migration'.
2023-12-29 10:28:30.505 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:28:30.506 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:28:30.506 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-29 10:35:08.235 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:35:08.533 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:35:08.860 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:36:00.267 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:36:00.528 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:36:00.535 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:36:00.554 +06:00 [DBG] Created DbConnection. (17ms).
2023-12-29 10:36:00.556 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:00.558 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:00.666 +06:00 [DBG] An error occurred using the connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:00.667 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:00.668 +06:00 [DBG] An error occurred using the connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:00.684 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:36:00.684 +06:00 [DBG] Created DbConnection. (0ms).
2023-12-29 10:36:00.684 +06:00 [DBG] Opening connection to database 'master' on server 'DPM23153'.
2023-12-29 10:36:00.693 +06:00 [DBG] Opened connection to database 'master' on server 'DPM23153'.
2023-12-29 10:36:00.695 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:00.698 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-12-29 10:36:00.699 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2023-12-29 10:36:00.702 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [CityInfo];
2023-12-29 10:36:00.927 +06:00 [INF] Executed DbCommand (224ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [CityInfo];
2023-12-29 10:36:00.928 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:00.928 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:00.928 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:00.928 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfo] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-12-29 10:36:01.009 +06:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [CityInfo] SET READ_COMMITTED_SNAPSHOT ON;
END;
2023-12-29 10:36:01.010 +06:00 [DBG] Closing connection to database 'master' on server 'DPM23153'.
2023-12-29 10:36:01.014 +06:00 [DBG] Closed connection to database 'master' on server 'DPM23153' (2ms).
2023-12-29 10:36:01.016 +06:00 [DBG] Disposing connection to database 'master' on server 'DPM23153'.
2023-12-29 10:36:01.016 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-29 10:36:01.017 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.020 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.021 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:01.021 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.021 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.021 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:36:01.024 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:36:01.025 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.025 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:36:01.055 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:01.055 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.055 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.055 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.056 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.056 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-12-29 10:36:01.066 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2023-12-29 10:36:01.066 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.066 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:36:01.066 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.066 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.066 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:01.066 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.066 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.066 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:36:01.067 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2023-12-29 10:36:01.067 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.067 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:36:01.068 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-29 10:36:01.068 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-29 10:36:01.068 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-29 10:36:01.069 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.069 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.069 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-29 10:36:01.075 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2023-12-29 10:36:01.093 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.094 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:36:01.095 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.095 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.095 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:36:01.095 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 10:36:01.095 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-29 10:36:01.096 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-12-29 10:36:01.106 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2023-12-29 10:36:01.107 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.108 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2023-12-29 10:36:01.108 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.108 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:36:01.113 +06:00 [INF] Applying migration '20231229043508_initial-migration'.
2023-12-29 10:36:01.123 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.123 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:01.124 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-29 10:36:01.128 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-29 10:36:01.128 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:01.128 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.129 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.129 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-12-29 10:36:01.132 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([Id])
);
2023-12-29 10:36:01.132 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:01.132 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.132 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.132 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-12-29 10:36:01.137 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [PointsOfInterest] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(50) NOT NULL,
    [Description] nvarchar(200) NOT NULL,
    [CityId] int NOT NULL,
    CONSTRAINT [PK_PointsOfInterest] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_PointsOfInterest_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([Id]) ON DELETE CASCADE
);
2023-12-29 10:36:01.137 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:01.137 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.137 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:01.137 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2023-12-29 10:36:01.138 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_PointsOfInterest_CityId] ON [PointsOfInterest] ([CityId]);
2023-12-29 10:36:03.233 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-29 10:36:03.233 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:03.233 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-29 10:36:03.233 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231229043508_initial-migration', N'8.0.0');
2023-12-29 10:36:03.242 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20231229043508_initial-migration', N'8.0.0');
2023-12-29 10:36:03.243 +06:00 [DBG] Committing transaction.
2023-12-29 10:36:03.246 +06:00 [DBG] Committed transaction.
2023-12-29 10:36:03.246 +06:00 [DBG] Disposing transaction.
2023-12-29 10:36:03.247 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:03.247 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2023-12-29 10:36:03.247 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:36:03.248 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:36:03.248 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2023-12-29 10:43:23.434 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 10:43:23.551 +06:00 [DBG] Hosting starting
2023-12-29 10:43:23.763 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 10:43:23.764 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 10:43:23.766 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 10:43:23.766 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 10:43:23.768 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 10:43:23.769 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 10:43:23.770 +06:00 [INF] Hosting environment: Development
2023-12-29 10:43:23.771 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 10:43:23.772 +06:00 [DBG] Hosting started
2023-12-29 10:43:46.618 +06:00 [DBG] Connection id "0HN0852V6MC75" received FIN.
2023-12-29 10:43:46.622 +06:00 [DBG] Connection id "0HN0852V6MC75" accepted.
2023-12-29 10:43:46.627 +06:00 [DBG] Connection id "0HN0852V6MC75" started.
2023-12-29 10:43:46.629 +06:00 [DBG] Connection id "0HN0852V6MC76" accepted.
2023-12-29 10:43:46.631 +06:00 [DBG] Connection id "0HN0852V6MC76" started.
2023-12-29 10:43:46.639 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-29 10:43:46.664 +06:00 [DBG] Connection id "0HN0852V6MC75" stopped.
2023-12-29 10:43:46.667 +06:00 [DBG] Connection id "0HN0852V6MC75" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 10:43:46.667 +06:00 [DBG] Connection 0HN0852V6MC76 established using the following protocol: "Tls13"
2023-12-29 10:43:46.682 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/ - application/json 99
2023-12-29 10:43:46.687 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 10:43:46.695 +06:00 [DBG] POST requests are not supported
2023-12-29 10:43:46.708 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2023-12-29 10:43:46.712 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2023-12-29 10:43:46.714 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:43:46.717 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:43:46.731 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 10:43:46.734 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 10:43:46.736 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 10:43:46.738 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 10:43:46.740 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 10:43:46.742 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 10:43:46.744 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:43:46.822 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:43:46.901 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:43:46.906 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:43:46.909 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 10:43:46.912 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 10:43:46.913 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 10:43:46.934 +06:00 [DBG] Connection id "0HN0852V6MC76", Request id "0HN0852V6MC76:00000001": started reading request body.
2023-12-29 10:43:46.936 +06:00 [DBG] Connection id "0HN0852V6MC76", Request id "0HN0852V6MC76:00000001": done reading request body.
2023-12-29 10:43:46.992 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:43:46.995 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:43:46.997 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:43:47.002 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:43:57.242 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:43:57.261 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:43:57.289 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:43:59.716 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 10:43:59.721 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 10:43:59.727 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 10:43:59.769 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:43:59.792 +06:00 [DBG] Created DbConnection. (22ms).
2023-12-29 10:43:59.796 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:43:59.969 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:43:59.975 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:43:59.980 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-29 10:43:59.986 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2023-12-29 10:43:59.991 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:44:00.044 +06:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:44:00.058 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-29 10:44:00.065 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:44:00.071 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 21ms reading results.
2023-12-29 10:44:00.075 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:44:00.079 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2023-12-29 10:44:00.087 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:44:00.091 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 10:44:00.098 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 10:44:00.102 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 10:44:00.103 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 10:44:00.105 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 10:44:00.106 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 10:44:00.108 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-12-29 10:44:00.119 +06:00 [DBG] No endpoints found for address GetCity(cityId=[1],name=[Dhaka],description=[The capital city of Bangladersh with over 10M people.])
2023-12-29 10:44:00.125 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 13380.3043ms
2023-12-29 10:44:00.128 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:44:00.132 +06:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 10:44:00.143 +06:00 [DBG] Connection id "0HN0852V6MC76" completed keep alive response.
2023-12-29 10:44:00.147 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:44:00.154 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:44:00.157 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-12-29 10:44:00.160 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/ - 500 null text/plain; charset=utf-8 13480.4402ms
2023-12-29 10:47:57.068 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 10:47:57.135 +06:00 [DBG] Hosting starting
2023-12-29 10:47:57.267 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 10:47:57.268 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 10:47:57.269 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 10:47:57.270 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 10:47:57.271 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 10:47:57.273 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 10:47:57.274 +06:00 [INF] Hosting environment: Development
2023-12-29 10:47:57.275 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 10:47:57.276 +06:00 [DBG] Hosting started
2023-12-29 10:48:34.189 +06:00 [DBG] Connection id "0HN0855KT67IR" accepted.
2023-12-29 10:48:34.195 +06:00 [DBG] Connection id "0HN0855KT67IR" started.
2023-12-29 10:48:34.286 +06:00 [DBG] Connection 0HN0855KT67IR established using the following protocol: "Tls13"
2023-12-29 10:48:34.322 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/ - null null
2023-12-29 10:48:34.496 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 10:48:34.512 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 10:48:34.527 +06:00 [DBG] No candidates found for the request path '/'
2023-12-29 10:48:34.531 +06:00 [DBG] Request did not match any endpoints
2023-12-29 10:48:34.538 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/ - 404 0 null 218.4584ms
2023-12-29 10:48:34.547 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7156/, Response status code: 404
2023-12-29 10:48:38.640 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2023-12-29 10:48:38.711 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-29 10:48:38.752 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-29 10:48:38.754 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 114.9034ms
2023-12-29 10:48:38.762 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2023-12-29 10:48:38.771 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2023-12-29 10:48:38.777 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 14.9424ms
2023-12-29 10:48:38.834 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.435ms
2023-12-29 10:48:38.867 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2023-12-29 10:48:39.009 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.8916ms
2023-12-29 10:49:28.548 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json-patch+json 95
2023-12-29 10:49:28.557 +06:00 [DBG] POST requests are not supported
2023-12-29 10:49:28.565 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2023-12-29 10:49:28.567 +06:00 [INF] CORS policy execution successful.
2023-12-29 10:49:28.571 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-29 10:49:28.576 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-29 10:49:28.579 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:49:28.581 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:49:28.596 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 10:49:28.602 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 10:49:28.604 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 10:49:28.606 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 10:49:28.609 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 10:49:28.611 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 10:49:28.614 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:49:28.681 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:49:28.763 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:49:28.768 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:49:28.771 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 10:49:28.775 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2023-12-29 10:49:28.777 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2023-12-29 10:49:28.782 +06:00 [DBG] Connection id "0HN0855KT67IR", Request id "0HN0855KT67IR:0000000B": started reading request body.
2023-12-29 10:49:28.783 +06:00 [DBG] Connection id "0HN0855KT67IR", Request id "0HN0855KT67IR:0000000B": done reading request body.
2023-12-29 10:49:28.839 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:49:28.842 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:49:28.845 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:49:28.851 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:49:29.162 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:49:29.191 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:49:29.219 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:49:34.754 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 10:49:34.759 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 10:49:34.770 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 10:49:34.829 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:49:34.854 +06:00 [DBG] Created DbConnection. (23ms).
2023-12-29 10:49:34.860 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:49:35.069 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:49:35.078 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:49:35.085 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-12-29 10:49:35.094 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2023-12-29 10:49:35.103 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:49:35.150 +06:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:49:35.163 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-29 10:49:35.171 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:49:35.177 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 20ms reading results.
2023-12-29 10:49:35.183 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:49:35.195 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (11ms).
2023-12-29 10:49:35.209 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:49:35.214 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 10:49:35.223 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 10:49:35.228 +06:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-12-29 10:49:35.230 +06:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-12-29 10:49:35.232 +06:00 [WRN] No output formatter was found for content types '["text/plain"]' to write the response.
2023-12-29 10:49:35.236 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 6620.7331ms
2023-12-29 10:49:35.238 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:49:35.241 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:49:35.246 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:49:35.248 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-29 10:49:35.251 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 406 0 null 6703.0393ms
2023-12-29 10:51:17.130 +06:00 [DBG] Connection id "0HN0855KT67IS" received FIN.
2023-12-29 10:51:17.136 +06:00 [DBG] Connection id "0HN0855KT67IS" accepted.
2023-12-29 10:51:17.138 +06:00 [DBG] Connection id "0HN0855KT67IS" started.
2023-12-29 10:51:17.138 +06:00 [DBG] Connection id "0HN0855KT67IT" accepted.
2023-12-29 10:51:17.140 +06:00 [DBG] Connection id "0HN0855KT67IT" started.
2023-12-29 10:51:17.141 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-29 10:51:17.151 +06:00 [DBG] Connection 0HN0855KT67IT established using the following protocol: "Tls13"
2023-12-29 10:51:17.158 +06:00 [DBG] Connection id "0HN0855KT67IS" stopped.
2023-12-29 10:51:17.160 +06:00 [DBG] Connection id "0HN0855KT67IS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 10:51:17.161 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/1 - null null
2023-12-29 10:51:17.164 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 10:51:17.165 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-12-29 10:51:17.166 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-12-29 10:51:17.168 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 10:51:17.169 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 10:51:17.173 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 10:51:17.176 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 10:51:17.178 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 10:51:17.179 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 10:51:17.181 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 10:51:17.183 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 10:51:17.185 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:51:17.187 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:51:17.188 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-29 10:51:17.190 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-29 10:51:17.194 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 10:51:17.196 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 10:51:17.197 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-29 10:51:17.200 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-29 10:51:17.201 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 10:51:17.203 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-29 10:51:17.205 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 10:51:17.206 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 10:51:17.208 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 10:51:17.210 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 10:51:17.211 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 10:51:17.253 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:51:17.283 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-29 10:51:17.379 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 10:51:17.397 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:51:17.398 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 10:51:17.399 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:17.401 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:17.403 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:51:17.404 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 10:51:17.406 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 10:51:17.410 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 10:51:17.422 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 10:51:17.430 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:51:17.433 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:17.434 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 8ms reading results.
2023-12-29 10:51:17.435 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:17.437 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 10:51:17.442 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 10:51:17.444 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 10:51:17.445 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 10:51:17.445 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 10:51:17.448 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 10:51:17.450 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-29 10:51:17.470 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 285.1326ms
2023-12-29 10:51:17.473 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 10:51:17.474 +06:00 [DBG] Connection id "0HN0855KT67IT" completed keep alive response.
2023-12-29 10:51:17.475 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:51:17.477 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:17.478 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 10:51:17.480 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/1 - 200 93 application/json; charset=utf-8 319.1084ms
2023-12-29 10:51:28.243 +06:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7156/api/cities/2 - null null
2023-12-29 10:51:28.247 +06:00 [DBG] DELETE requests are not supported
2023-12-29 10:51:28.248 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-12-29 10:51:28.250 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/2'
2023-12-29 10:51:28.252 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 10:51:28.253 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 10:51:28.258 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 10:51:28.261 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 10:51:28.263 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 10:51:28.265 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 10:51:28.268 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 10:51:28.269 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 10:51:28.271 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:51:28.275 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:51:28.277 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 10:51:28.279 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 10:51:28.281 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 10:51:28.283 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 10:51:28.284 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 10:51:28.286 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 10:51:28.296 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:51:28.301 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-29 10:51:28.309 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 10:51:28.319 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:51:28.321 +06:00 [DBG] Created DbConnection. (2ms).
2023-12-29 10:51:28.323 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.325 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.327 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:51:28.328 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 10:51:28.330 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 10:51:28.331 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 10:51:28.337 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 10:51:28.342 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.344 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2023-12-29 10:51:28.346 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.347 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 10:51:28.352 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.353 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.355 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:51:28.356 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 10:51:28.358 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 10:51:28.360 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 10:51:28.363 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 10:51:28.366 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:51:28.369 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.370 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2023-12-29 10:51:28.372 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.374 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 10:51:28.377 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:51:28.381 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 10:51:28.383 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 10:51:28.384 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 10:51:28.390 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.392 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.394 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:51:28.396 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 10:51:28.398 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 10:51:28.399 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2023-12-29 10:51:28.415 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2023-12-29 10:51:28.420 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.421 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2023-12-29 10:51:28.423 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.425 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 10:51:28.430 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:51:28.433 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 10:51:28.436 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-12-29 10:51:28.437 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 165.6042ms
2023-12-29 10:51:28.439 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 10:51:28.440 +06:00 [DBG] Connection id "0HN0855KT67IT" completed keep alive response.
2023-12-29 10:51:28.442 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:51:28.443 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:51:28.444 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 10:51:28.446 +06:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7156/api/cities/2 - 204 null null 203.404ms
2023-12-29 10:59:12.919 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 10:59:12.978 +06:00 [DBG] Hosting starting
2023-12-29 10:59:13.080 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 10:59:13.081 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 10:59:13.082 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 10:59:13.083 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 10:59:13.084 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 10:59:13.085 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 10:59:13.086 +06:00 [INF] Hosting environment: Development
2023-12-29 10:59:13.087 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 10:59:13.088 +06:00 [DBG] Hosting started
2023-12-29 10:59:18.468 +06:00 [DBG] Connection id "0HN085BKTGL62" received FIN.
2023-12-29 10:59:18.477 +06:00 [DBG] Connection id "0HN085BKTGL62" accepted.
2023-12-29 10:59:18.479 +06:00 [DBG] Connection id "0HN085BKTGL62" started.
2023-12-29 10:59:18.480 +06:00 [DBG] Connection id "0HN085BKTGL63" accepted.
2023-12-29 10:59:18.483 +06:00 [DBG] Connection id "0HN085BKTGL63" started.
2023-12-29 10:59:18.491 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-29 10:59:18.519 +06:00 [DBG] Connection id "0HN085BKTGL62" stopped.
2023-12-29 10:59:18.522 +06:00 [DBG] Connection id "0HN085BKTGL62" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 10:59:18.523 +06:00 [DBG] Connection 0HN085BKTGL63 established using the following protocol: "Tls13"
2023-12-29 10:59:18.538 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/ - application/json 99
2023-12-29 10:59:18.544 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 10:59:18.553 +06:00 [DBG] POST requests are not supported
2023-12-29 10:59:18.564 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/'
2023-12-29 10:59:18.567 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities/'
2023-12-29 10:59:18.569 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:59:18.572 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:59:18.584 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 10:59:18.587 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 10:59:18.588 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 10:59:18.590 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 10:59:18.592 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 10:59:18.594 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 10:59:18.597 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:59:18.666 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 10:59:18.747 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 10:59:18.751 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:59:18.753 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 10:59:18.757 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 10:59:18.759 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 10:59:18.763 +06:00 [DBG] Connection id "0HN085BKTGL63", Request id "0HN085BKTGL63:00000001": started reading request body.
2023-12-29 10:59:18.765 +06:00 [DBG] Connection id "0HN085BKTGL63", Request id "0HN085BKTGL63:00000001": done reading request body.
2023-12-29 10:59:18.814 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:59:18.816 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:59:18.817 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 10:59:18.822 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 10:59:19.190 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 10:59:19.214 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:59:19.251 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:59:19.256 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 10:59:19.261 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 10:59:19.267 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 10:59:19.323 +06:00 [DBG] Creating DbConnection.
2023-12-29 10:59:19.347 +06:00 [DBG] Created DbConnection. (23ms).
2023-12-29 10:59:19.352 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:59:19.540 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:59:19.547 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 10:59:19.553 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-12-29 10:59:19.562 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2023-12-29 10:59:19.571 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:59:19.623 +06:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 10:59:19.636 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-29 10:59:19.644 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 10:59:19.651 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 22ms reading results.
2023-12-29 10:59:19.657 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:59:19.664 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2023-12-29 10:59:19.673 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 10:59:19.677 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 10:59:19.688 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 10:59:19.693 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 10:59:19.696 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 10:59:19.697 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 10:59:19.699 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 10:59:19.702 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-12-29 10:59:19.714 +06:00 [DBG] No endpoints found for address GetCity(cityId=[3],name=[Dhaka],description=[The capital city of Bangladersh with over 10M people.])
2023-12-29 10:59:19.718 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 1120.2558ms
2023-12-29 10:59:19.721 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 10:59:19.724 +06:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 10:59:19.735 +06:00 [DBG] Connection id "0HN085BKTGL63" completed keep alive response.
2023-12-29 10:59:19.739 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 10:59:19.743 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 10:59:19.746 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-29 10:59:19.748 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/ - 500 null text/plain; charset=utf-8 1212.7155ms
2023-12-29 11:00:21.963 +06:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7156/api/cities/2 - null null
2023-12-29 11:00:21.968 +06:00 [DBG] DELETE requests are not supported
2023-12-29 11:00:21.973 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2023-12-29 11:00:21.975 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/2'
2023-12-29 11:00:21.977 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 11:00:21.979 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 11:00:21.985 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 11:00:21.988 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 11:00:21.990 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 11:00:21.992 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 11:00:21.995 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 11:00:21.997 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 11:00:22.000 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 11:00:22.003 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 11:00:22.009 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 11:00:22.012 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 11:00:22.014 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 11:00:22.016 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 11:00:22.019 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 11:00:22.020 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 11:00:22.097 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 11:00:22.132 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-29 11:00:22.226 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 11:00:22.251 +06:00 [DBG] Creating DbConnection.
2023-12-29 11:00:22.261 +06:00 [DBG] Created DbConnection. (10ms).
2023-12-29 11:00:22.263 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:22.265 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:22.267 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 11:00:22.268 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 11:00:22.270 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-29 11:00:22.272 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 11:00:22.279 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 11:00:22.287 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:22.288 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2023-12-29 11:00:22.291 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:22.293 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 11:00:22.296 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 11:00:22.299 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 11:00:22.300 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 11:00:22.303 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 11:00:22.305 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-29 11:00:22.327 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 327.7664ms
2023-12-29 11:00:22.331 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 11:00:22.332 +06:00 [DBG] Connection id "0HN085BKTGL63" completed keep alive response.
2023-12-29 11:00:22.334 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 11:00:22.335 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:22.337 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 11:00:22.339 +06:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7156/api/cities/2 - 404 162 application/problem+json; charset=utf-8 376.507ms
2023-12-29 11:00:42.961 +06:00 [INF] Request starting HTTP/1.1 DELETE https://localhost:7156/api/cities/3 - null null
2023-12-29 11:00:42.966 +06:00 [DBG] DELETE requests are not supported
2023-12-29 11:00:42.967 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3'
2023-12-29 11:00:42.969 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/3'
2023-12-29 11:00:42.970 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 11:00:42.973 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 11:00:42.974 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 11:00:42.976 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 11:00:42.978 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 11:00:42.979 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 11:00:42.981 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 11:00:42.983 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 11:00:42.984 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 11:00:42.988 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 11:00:42.990 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 11:00:42.991 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 11:00:42.993 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 11:00:42.994 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 11:00:42.996 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 11:00:42.997 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 11:00:43.007 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 11:00:43.012 +06:00 [DBG] Creating DbConnection.
2023-12-29 11:00:43.013 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 11:00:43.014 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.016 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.018 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 11:00:43.019 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 11:00:43.021 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 11:00:43.023 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 11:00:43.028 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 11:00:43.033 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.035 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2023-12-29 11:00:43.037 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.038 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 11:00:43.043 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-29 11:00:43.063 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 11:00:43.070 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.072 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.074 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 11:00:43.076 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 11:00:43.078 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-29 11:00:43.080 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 11:00:43.084 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 11:00:43.094 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 11:00:43.097 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.098 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 6ms reading results.
2023-12-29 11:00:43.100 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.102 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 11:00:43.104 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 11:00:43.108 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 11:00:43.110 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 11:00:43.112 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 11:00:43.119 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.121 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.123 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 11:00:43.125 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 11:00:43.126 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 11:00:43.128 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2023-12-29 11:00:43.142 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2023-12-29 11:00:43.146 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.149 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2023-12-29 11:00:43.151 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.153 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 11:00:43.158 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 11:00:43.161 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 11:00:43.163 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-12-29 11:00:43.165 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 180.116ms
2023-12-29 11:00:43.167 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2023-12-29 11:00:43.169 +06:00 [DBG] Connection id "0HN085BKTGL63" completed keep alive response.
2023-12-29 11:00:43.170 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 11:00:43.174 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:00:43.178 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2023-12-29 11:00:43.181 +06:00 [INF] Request finished HTTP/1.1 DELETE https://localhost:7156/api/cities/3 - 204 null null 219.8023ms
2023-12-29 11:01:52.165 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 11:01:52.290 +06:00 [DBG] Hosting starting
2023-12-29 11:01:52.445 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 11:01:52.447 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 11:01:52.448 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 11:01:52.449 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 11:01:52.449 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 11:01:52.450 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 11:01:52.451 +06:00 [INF] Hosting environment: Development
2023-12-29 11:01:52.452 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 11:01:52.453 +06:00 [DBG] Hosting started
2023-12-29 11:02:01.731 +06:00 [DBG] Connection id "0HN085D5IGEM3" received FIN.
2023-12-29 11:02:01.735 +06:00 [DBG] Connection id "0HN085D5IGEM3" accepted.
2023-12-29 11:02:01.738 +06:00 [DBG] Connection id "0HN085D5IGEM3" started.
2023-12-29 11:02:01.739 +06:00 [DBG] Connection id "0HN085D5IGEM4" accepted.
2023-12-29 11:02:01.741 +06:00 [DBG] Connection id "0HN085D5IGEM4" started.
2023-12-29 11:02:01.749 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-12-29 11:02:01.771 +06:00 [DBG] Connection id "0HN085D5IGEM3" stopped.
2023-12-29 11:02:01.775 +06:00 [DBG] Connection id "0HN085D5IGEM3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 11:02:01.776 +06:00 [DBG] Connection 0HN085D5IGEM4 established using the following protocol: "Tls13"
2023-12-29 11:02:01.790 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/1 - null null
2023-12-29 11:02:01.796 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 11:02:01.806 +06:00 [DBG] The request path  does not match the path filter
2023-12-29 11:02:01.817 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-12-29 11:02:01.820 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/1'
2023-12-29 11:02:01.823 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 11:02:01.826 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 11:02:01.840 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 11:02:01.843 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 11:02:01.845 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 11:02:01.847 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 11:02:01.849 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 11:02:01.850 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 11:02:01.853 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 11:02:01.921 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 11:02:01.994 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 11:02:01.997 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-12-29 11:02:02.000 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-12-29 11:02:02.003 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 11:02:02.005 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-12-29 11:02:02.007 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-12-29 11:02:02.010 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-12-29 11:02:02.012 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 11:02:02.013 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-12-29 11:02:02.016 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 11:02:02.019 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 11:02:02.020 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 11:02:02.022 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-12-29 11:02:02.024 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-12-29 11:02:02.329 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 11:02:02.373 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-29 11:02:02.471 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 11:02:02.490 +06:00 [DBG] Creating DbConnection.
2023-12-29 11:02:02.500 +06:00 [DBG] Created DbConnection. (9ms).
2023-12-29 11:02:02.506 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:02:02.688 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:02:02.692 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 11:02:02.696 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-12-29 11:02:02.704 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2023-12-29 11:02:02.710 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 11:02:02.748 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 11:02:02.772 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 11:02:02.786 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 11:02:02.793 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 39ms reading results.
2023-12-29 11:02:02.797 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:02:02.801 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2023-12-29 11:02:02.810 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 11:02:02.815 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 11:02:02.816 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 11:02:02.817 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 11:02:02.819 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 11:02:02.822 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2023-12-29 11:02:02.865 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 1009.7159ms
2023-12-29 11:02:02.870 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2023-12-29 11:02:02.873 +06:00 [DBG] Connection id "0HN085D5IGEM4" completed keep alive response.
2023-12-29 11:02:02.876 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 11:02:02.879 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 11:02:02.881 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2023-12-29 11:02:02.884 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/1 - 200 93 application/json; charset=utf-8 1095.9157ms
2023-12-29 14:16:59.398 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-29 14:16:59.479 +06:00 [DBG] Hosting starting
2023-12-29 14:16:59.764 +06:00 [INF] Now listening on: https://localhost:7156
2023-12-29 14:16:59.766 +06:00 [INF] Now listening on: http://localhost:5062
2023-12-29 14:16:59.768 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2023-12-29 14:16:59.769 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-12-29 14:16:59.770 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-12-29 14:16:59.771 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-29 14:16:59.772 +06:00 [INF] Hosting environment: Development
2023-12-29 14:16:59.774 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2023-12-29 14:16:59.775 +06:00 [DBG] Hosting started
2023-12-29 14:33:37.277 +06:00 [DBG] Connection id "0HN0893D4LF0J" accepted.
2023-12-29 14:33:37.279 +06:00 [DBG] Connection id "0HN0893D4LF0J" started.
2023-12-29 14:33:37.324 +06:00 [DBG] Connection 0HN0893D4LF0J established using the following protocol: "Tls13"
2023-12-29 14:33:37.359 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2023-12-29 14:33:37.366 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-29 14:33:37.375 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 14:33:37.394 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 14:33:37.396 +06:00 [INF] CORS policy execution successful.
2023-12-29 14:33:37.399 +06:00 [DBG] The request is a preflight request.
2023-12-29 14:33:37.403 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 46.8836ms
2023-12-29 14:33:37.407 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 67
2023-12-29 14:33:37.413 +06:00 [DBG] POST requests are not supported
2023-12-29 14:33:37.415 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 14:33:37.416 +06:00 [INF] CORS policy execution successful.
2023-12-29 14:33:37.430 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-29 14:33:37.432 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-29 14:33:37.434 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 14:33:37.438 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 14:33:37.463 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 14:33:37.467 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 14:33:37.483 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 14:33:37.485 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 14:33:37.488 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 14:33:37.490 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 14:33:37.493 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 14:33:37.597 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-29 14:33:37.678 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 14:33:37.684 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 14:33:37.687 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 14:33:37.692 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 14:33:37.694 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 14:33:37.700 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000003": started reading request body.
2023-12-29 14:33:37.702 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000003": done reading request body.
2023-12-29 14:33:37.759 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 14:33:37.764 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 14:33:37.766 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 14:33:37.771 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 14:33:43.051 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 14:33:43.069 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 14:33:43.099 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 14:33:43.105 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 14:33:43.108 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 14:33:43.114 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 14:33:43.155 +06:00 [DBG] Creating DbConnection.
2023-12-29 14:33:43.187 +06:00 [DBG] Created DbConnection. (31ms).
2023-12-29 14:33:43.190 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:33:43.385 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:33:43.390 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 14:33:43.396 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-12-29 14:33:43.402 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2023-12-29 14:33:43.410 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 14:33:43.457 +06:00 [INF] Executed DbCommand (49ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 14:33:43.469 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-29 14:33:43.476 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 14:33:43.493 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 30ms reading results.
2023-12-29 14:33:43.497 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:33:43.501 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2023-12-29 14:33:43.508 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 14:33:43.511 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 14:33:43.516 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 14:33:43.521 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 14:33:43.522 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 14:33:43.522 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 14:33:43.524 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 14:33:43.525 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-12-29 14:33:43.533 +06:00 [DBG] No endpoints found for address GetCity(cityId=[4],name=[New York City],description=[The one with that big park])
2023-12-29 14:33:43.538 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 6044.2205ms
2023-12-29 14:33:43.541 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 14:33:43.544 +06:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 14:33:43.567 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 14:33:43.571 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:33:43.576 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2023-12-29 14:33:43.578 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 6170.8433ms
2023-12-29 14:44:10.605 +06:00 [DBG] Connection id "0HN0893D4LF0K" accepted.
2023-12-29 14:44:10.613 +06:00 [DBG] Connection id "0HN0893D4LF0K" started.
2023-12-29 14:44:10.620 +06:00 [DBG] Connection 0HN0893D4LF0K established using the following protocol: "Tls13"
2023-12-29 14:44:10.624 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2023-12-29 14:44:10.818 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-12-29 14:44:10.835 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-12-29 14:44:10.836 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 212.6937ms
2023-12-29 14:44:10.841 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2023-12-29 14:44:10.843 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2023-12-29 14:44:10.854 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 13.7508ms
2023-12-29 14:44:10.902 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 60.348ms
2023-12-29 14:44:10.987 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2023-12-29 14:44:11.078 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.305ms
2023-12-29 14:44:53.843 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2023-12-29 14:44:53.850 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 14:44:53.851 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 14:44:53.853 +06:00 [INF] CORS policy execution successful.
2023-12-29 14:44:53.854 +06:00 [DBG] The request is a preflight request.
2023-12-29 14:44:53.856 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 12.6091ms
2023-12-29 14:44:53.858 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 70
2023-12-29 14:44:53.865 +06:00 [DBG] POST requests are not supported
2023-12-29 14:44:53.867 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 14:44:53.868 +06:00 [INF] CORS policy execution successful.
2023-12-29 14:44:53.869 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-12-29 14:44:53.871 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2023-12-29 14:44:53.873 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 14:44:53.874 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 14:44:53.876 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2023-12-29 14:44:53.878 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 14:44:53.880 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 14:44:53.882 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 14:44:53.884 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 14:44:53.885 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 14:44:53.887 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 14:44:53.890 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2023-12-29 14:44:53.892 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 14:44:53.893 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2023-12-29 14:44:53.895 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 14:44:53.897 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 14:44:53.898 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000007": started reading request body.
2023-12-29 14:44:53.900 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000007": done reading request body.
2023-12-29 14:44:53.902 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 14:44:53.903 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 14:44:53.906 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2023-12-29 14:44:53.907 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2023-12-29 14:44:58.443 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 14:44:58.447 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 14:44:58.450 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 14:44:58.452 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 14:44:58.453 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 14:44:58.454 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 14:44:58.458 +06:00 [DBG] Creating DbConnection.
2023-12-29 14:44:58.459 +06:00 [DBG] Created DbConnection. (1ms).
2023-12-29 14:44:58.460 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:44:58.475 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:44:58.478 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 14:44:58.480 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 14:44:58.482 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 14:44:58.483 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 14:44:58.496 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1);
2023-12-29 14:44:58.500 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-29 14:44:58.502 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 14:44:58.504 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2023-12-29 14:44:58.506 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:44:58.508 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 14:44:58.510 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 14:44:58.512 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 14:44:58.514 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 14:44:58.517 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 14:44:58.518 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 14:44:58.519 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 14:44:58.520 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 14:44:58.521 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.CityDto'.
2023-12-29 14:44:58.523 +06:00 [DBG] No endpoints found for address GetCity(cityId=[5],name=[Paris],description=[The one with that big beautiful Tower])
2023-12-29 14:44:58.526 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 4638.7774ms
2023-12-29 14:44:58.527 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2023-12-29 14:44:58.529 +06:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtRouteResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-29 14:44:58.535 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 14:44:58.536 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 14:44:58.538 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 14:44:58.539 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 500 null text/plain; charset=utf-8 4681.233ms
2023-12-29 16:01:07.115 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - null null
2023-12-29 16:01:07.118 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 16:01:07.119 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:01:07.121 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:01:07.122 +06:00 [DBG] The request is a preflight request.
2023-12-29 16:01:07.123 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - 204 null null 11.1964ms
2023-12-29 16:01:07.124 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - application/json 90
2023-12-29 16:01:07.130 +06:00 [DBG] POST requests are not supported
2023-12-29 16:01:07.130 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:01:07.132 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:01:07.133 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:01:07.134 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:01:07.136 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:07.137 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:07.143 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 16:01:07.145 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 16:01:07.147 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 16:01:07.149 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 16:01:07.151 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 16:01:07.152 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 16:01:07.154 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:01:07.157 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:01:07.159 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:01:07.161 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 16:01:07.167 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:07.169 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:07.170 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:01:07.172 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:07.173 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:01:07.174 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-29 16:01:07.176 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 16:01:07.177 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 16:01:07.179 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000000B": started reading request body.
2023-12-29 16:01:07.181 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000000B": done reading request body.
2023-12-29 16:01:07.186 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:07.188 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:07.189 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:01:07.191 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:07.193 +06:00 [DBG] The request has model state errors, returning an error response.
2023-12-29 16:01:07.195 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-12-29 16:01:07.197 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 16:01:07.202 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 16:01:07.203 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 16:01:07.210 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 16:01:07.211 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-29 16:01:07.244 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 90.007ms
2023-12-29 16:01:07.246 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:07.248 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - 400 248 application/problem+json; charset=utf-8 124.2137ms
2023-12-29 16:01:15.136 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - null null
2023-12-29 16:01:15.141 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 16:01:15.144 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:01:15.145 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:01:15.146 +06:00 [DBG] The request is a preflight request.
2023-12-29 16:01:15.147 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - 204 null null 11.5948ms
2023-12-29 16:01:15.149 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - application/json 90
2023-12-29 16:01:15.155 +06:00 [DBG] POST requests are not supported
2023-12-29 16:01:15.156 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:01:15.158 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:01:15.159 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:01:15.160 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:01:15.162 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:15.163 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:15.165 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 16:01:15.167 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 16:01:15.169 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 16:01:15.170 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 16:01:15.173 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 16:01:15.174 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 16:01:15.176 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:01:15.178 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:01:15.180 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:01:15.181 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 16:01:15.183 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:15.185 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:15.186 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:01:15.188 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:15.189 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:01:15.191 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-29 16:01:15.194 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 16:01:15.195 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 16:01:15.197 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000000F": started reading request body.
2023-12-29 16:01:15.198 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000000F": done reading request body.
2023-12-29 16:01:15.200 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:15.202 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:15.203 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:01:15.205 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:15.207 +06:00 [DBG] The request has model state errors, returning an error response.
2023-12-29 16:01:15.208 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-12-29 16:01:15.210 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 16:01:15.213 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 16:01:15.213 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 16:01:15.216 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 16:01:15.218 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-29 16:01:15.219 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 42.9998ms
2023-12-29 16:01:15.221 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:15.222 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - 400 248 application/problem+json; charset=utf-8 73.3256ms
2023-12-29 16:01:22.857 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - null null
2023-12-29 16:01:22.865 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 16:01:22.867 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:01:22.868 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:01:22.870 +06:00 [DBG] The request is a preflight request.
2023-12-29 16:01:22.871 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - 204 null null 14.4902ms
2023-12-29 16:01:22.872 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - application/json 90
2023-12-29 16:01:22.877 +06:00 [DBG] POST requests are not supported
2023-12-29 16:01:22.878 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:01:22.879 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:01:22.880 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:01:22.882 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:01:22.883 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:22.885 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:22.886 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 16:01:22.888 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 16:01:22.890 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 16:01:22.891 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 16:01:22.893 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 16:01:22.895 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 16:01:22.896 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:01:22.898 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:01:22.900 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:01:22.902 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 16:01:22.904 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:22.906 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:22.907 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:01:22.909 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:01:22.910 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:01:22.912 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-29 16:01:22.913 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 16:01:22.915 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 16:01:22.916 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000013": started reading request body.
2023-12-29 16:01:22.918 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000013": done reading request body.
2023-12-29 16:01:22.920 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:22.921 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:22.923 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:01:22.924 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:01:22.926 +06:00 [DBG] The request has model state errors, returning an error response.
2023-12-29 16:01:22.927 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-12-29 16:01:22.928 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 16:01:22.931 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 16:01:22.932 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 16:01:22.935 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 16:01:22.936 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-29 16:01:22.938 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 41.4467ms
2023-12-29 16:01:22.940 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:01:22.941 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - 400 248 application/problem+json; charset=utf-8 68.6282ms
2023-12-29 16:07:17.546 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - null null
2023-12-29 16:07:17.556 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 16:07:17.557 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:07:17.558 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:07:17.559 +06:00 [DBG] The request is a preflight request.
2023-12-29 16:07:17.560 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/${id}/pointsofinterest/ - 204 null null 14.7399ms
2023-12-29 16:07:17.563 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - application/json 90
2023-12-29 16:07:17.571 +06:00 [DBG] POST requests are not supported
2023-12-29 16:07:17.572 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:07:17.574 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:07:17.575 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:07:17.576 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/${id}/pointsofinterest/'
2023-12-29 16:07:17.578 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:07:17.580 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:07:17.581 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 16:07:17.584 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 16:07:17.585 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 16:07:17.587 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 16:07:17.589 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 16:07:17.591 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 16:07:17.593 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:07:17.595 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:07:17.597 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:07:17.598 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 16:07:17.600 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:07:17.602 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:07:17.603 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:07:17.604 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:07:17.606 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:07:17.609 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-29 16:07:17.610 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 16:07:17.612 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 16:07:17.613 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000017": started reading request body.
2023-12-29 16:07:17.615 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:00000017": done reading request body.
2023-12-29 16:07:17.616 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:07:17.618 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:07:17.619 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:07:17.621 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:07:17.622 +06:00 [DBG] The request has model state errors, returning an error response.
2023-12-29 16:07:17.623 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-12-29 16:07:17.625 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 16:07:17.628 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 16:07:17.629 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 16:07:17.632 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 16:07:17.633 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-29 16:07:17.635 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 42.0111ms
2023-12-29 16:07:17.637 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:07:17.638 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/${id}/pointsofinterest/ - 400 248 application/problem+json; charset=utf-8 75.1367ms
2023-12-29 16:09:45.402 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/0/pointsofinterest/ - null null
2023-12-29 16:09:45.413 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 16:09:45.415 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:09:45.417 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:09:45.418 +06:00 [DBG] The request is a preflight request.
2023-12-29 16:09:45.419 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/0/pointsofinterest/ - 204 null null 17.5619ms
2023-12-29 16:09:45.427 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/0/pointsofinterest/ - application/json 90
2023-12-29 16:09:45.437 +06:00 [DBG] POST requests are not supported
2023-12-29 16:09:45.438 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:09:45.442 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:09:45.444 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest/'
2023-12-29 16:09:45.446 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest/'
2023-12-29 16:09:45.449 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:09:45.451 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:09:45.453 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 16:09:45.459 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 16:09:45.461 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 16:09:45.462 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 16:09:45.464 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 16:09:45.466 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 16:09:45.468 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:09:45.469 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:09:45.471 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:09:45.472 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 16:09:45.474 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:09:45.476 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:09:45.478 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:09:45.481 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:09:45.483 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:09:45.485 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-29 16:09:45.488 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 16:09:45.489 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 16:09:45.491 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000001B": started reading request body.
2023-12-29 16:09:45.493 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000001B": done reading request body.
2023-12-29 16:09:45.495 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:09:45.497 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:09:45.499 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:09:45.501 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:09:45.574 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 16:09:45.647 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-12-29 16:09:45.860 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 16:09:45.904 +06:00 [DBG] Creating DbConnection.
2023-12-29 16:09:45.906 +06:00 [DBG] Created DbConnection. (2ms).
2023-12-29 16:09:45.908 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:09:45.924 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:09:45.927 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 16:09:45.929 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 16:09:45.930 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 16:09:45.933 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 16:09:45.950 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 16:09:45.961 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 16:09:45.964 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 11ms reading results.
2023-12-29 16:09:45.966 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:09:45.968 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2023-12-29 16:09:45.971 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 16:09:45.974 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 16:09:45.975 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-29 16:09:45.979 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-29 16:09:45.981 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-12-29 16:09:45.987 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 519.5144ms
2023-12-29 16:09:45.990 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:09:45.991 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 16:09:45.993 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:09:45.994 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 16:09:45.995 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/0/pointsofinterest/ - 404 162 application/problem+json; charset=utf-8 570.3212ms
2023-12-29 16:10:08.859 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/1/pointsofinterest/ - null null
2023-12-29 16:10:08.874 +06:00 [DBG] OPTIONS requests are not supported
2023-12-29 16:10:08.877 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:10:08.879 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:10:08.880 +06:00 [DBG] The request is a preflight request.
2023-12-29 16:10:08.882 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/1/pointsofinterest/ - 204 null null 23.9466ms
2023-12-29 16:10:08.885 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/1/pointsofinterest/ - application/json 90
2023-12-29 16:10:08.893 +06:00 [DBG] POST requests are not supported
2023-12-29 16:10:08.895 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2023-12-29 16:10:08.898 +06:00 [INF] CORS policy execution successful.
2023-12-29 16:10:08.900 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/'
2023-12-29 16:10:08.902 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/1/pointsofinterest/'
2023-12-29 16:10:08.904 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:10:08.906 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:10:08.907 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2023-12-29 16:10:08.911 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-29 16:10:08.914 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-29 16:10:08.917 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-12-29 16:10:08.920 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-29 16:10:08.922 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-12-29 16:10:08.924 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:10:08.927 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2023-12-29 16:10:08.930 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:10:08.933 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-12-29 16:10:08.936 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:10:08.937 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:10:08.939 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-12-29 16:10:08.941 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-12-29 16:10:08.943 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:10:08.945 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-12-29 16:10:08.948 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-12-29 16:10:08.950 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-12-29 16:10:08.952 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000001F": started reading request body.
2023-12-29 16:10:08.954 +06:00 [DBG] Connection id "0HN0893D4LF0J", Request id "0HN0893D4LF0J:0000001F": done reading request body.
2023-12-29 16:10:08.955 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:10:08.956 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:10:08.959 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2023-12-29 16:10:08.961 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2023-12-29 16:10:08.964 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2023-12-29 16:10:08.976 +06:00 [DBG] Creating DbConnection.
2023-12-29 16:10:08.978 +06:00 [DBG] Created DbConnection. (2ms).
2023-12-29 16:10:08.980 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:08.982 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:08.983 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 16:10:08.983 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 16:10:08.984 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-29 16:10:08.985 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 16:10:08.991 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-12-29 16:10:08.994 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:08.996 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2023-12-29 16:10:08.999 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.000 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 16:10:09.009 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-12-29 16:10:09.054 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-29 16:10:09.064 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.067 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.068 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 16:10:09.070 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-29 16:10:09.072 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-29 16:10:09.074 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 16:10:09.082 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-12-29 16:10:09.089 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 16:10:09.092 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.095 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 10ms reading results.
2023-12-29 16:10:09.098 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.100 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2023-12-29 16:10:09.103 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-12-29 16:10:09.105 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-12-29 16:10:09.113 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 16:10:09.125 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 16:10:09.142 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 16:10:09.154 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 16:10:09.156 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-12-29 16:10:09.162 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.164 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.165 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-29 16:10:09.166 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-29 16:10:09.167 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-29 16:10:09.168 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-12-29 16:10:09.179 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2023-12-29 16:10:09.182 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-12-29 16:10:09.186 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.188 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2023-12-29 16:10:09.189 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.191 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2023-12-29 16:10:09.193 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-29 16:10:09.194 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-12-29 16:10:09.197 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-12-29 16:10:09.200 +06:00 [DBG] No information found on request to perform content negotiation.
2023-12-29 16:10:09.218 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-12-29 16:10:09.218 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-12-29 16:10:09.219 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-12-29 16:10:09.220 +06:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2023-12-29 16:10:09.224 +06:00 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address GetPointOfInterest(cityId=[1],pointOfInterestId=[1])
2023-12-29 16:10:09.233 +06:00 [DBG] Successfully processed template api/cities/{cityID}/pointsofinterest/{pointofinterestid} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/1/pointsofinterest/1 and 
2023-12-29 16:10:09.236 +06:00 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/1/pointsofinterest/1
2023-12-29 16:10:09.240 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 316.4527ms
2023-12-29 16:10:09.241 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2023-12-29 16:10:09.242 +06:00 [DBG] 'CityInfoContext' disposed.
2023-12-29 16:10:09.243 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2023-12-29 16:10:09.244 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2023-12-29 16:10:09.245 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/1/pointsofinterest/ - 201 90 application/json; charset=utf-8 359.7843ms
2023-12-29 16:16:13.063 +06:00 [DBG] Connection id "0HN0893D4LF0K" received FIN.
2023-12-29 16:25:15.592 +06:00 [DBG] Connection id "0HN0893D4LF0J" received FIN.
2023-12-29 16:25:15.597 +06:00 [DBG] Connection id "0HN0893D4LF0J" is closed. The last processed stream ID was 31.
2023-12-29 16:25:15.597 +06:00 [DBG] Connection id "0HN0893D4LF0K" is closed. The last processed stream ID was 7.
2023-12-29 16:25:15.616 +06:00 [DBG] Connection id "0HN0893D4LF0J" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 16:25:15.661 +06:00 [DBG] The connection queue processing loop for 0HN0893D4LF0K completed.
2023-12-29 16:25:15.664 +06:00 [DBG] Connection id "0HN0893D4LF0K" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-29 16:25:15.666 +06:00 [DBG] The connection queue processing loop for 0HN0893D4LF0J completed.
2023-12-29 16:25:15.692 +06:00 [DBG] Connection id "0HN0893D4LF0J" stopped.
2023-12-29 16:25:15.700 +06:00 [DBG] Connection id "0HN0893D4LF0K" stopped.
