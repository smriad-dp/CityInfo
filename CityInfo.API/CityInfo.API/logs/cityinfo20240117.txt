2024-01-17 14:42:21.478 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-17 14:42:21.564 +06:00 [DBG] Hosting starting
2024-01-17 14:42:21.738 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-17 14:42:21.739 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-17 14:42:21.741 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-17 14:42:21.742 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-17 14:42:21.743 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-17 14:42:21.745 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-17 14:42:21.746 +06:00 [INF] Hosting environment: Development
2024-01-17 14:42:21.747 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-17 14:42:21.748 +06:00 [DBG] Hosting started
2024-01-17 14:43:10.961 +06:00 [DBG] Connection id "0HN0N71B1AG3P" accepted.
2024-01-17 14:43:10.964 +06:00 [DBG] Connection id "0HN0N71B1AG3P" started.
2024-01-17 14:43:11.029 +06:00 [DBG] Connection 0HN0N71B1AG3P established using the following protocol: "Tls13"
2024-01-17 14:43:11.072 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-17 14:43:11.072 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:43:11.081 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-17 14:43:11.081 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-17 14:43:11.101 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:43:11.101 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:43:11.104 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:43:11.105 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:43:11.106 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:43:11.107 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:43:11.125 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:43:11.125 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-17 14:43:11.127 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:43:11.128 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:43:11.130 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:43:11.133 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:43:11.137 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:43:11.138 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:43:11.138 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:43:11.158 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:43:11.158 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:43:11.164 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:43:11.164 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:43:11.167 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:43:11.170 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:43:11.172 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:43:11.173 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:43:11.176 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:43:11.177 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:43:11.179 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:43:11.182 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:43:11.186 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:43:11.187 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:43:11.393 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-17 14:43:11.393 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-17 14:43:11.490 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:43:11.490 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:43:11.882 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:43:11.882 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:43:12.155 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-17 14:43:12.155 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-17 14:43:12.283 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-17 14:43:12.283 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-17 14:43:12.306 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:43:12.306 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:43:12.323 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-17 14:43:12.323 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-17 14:43:12.326 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.326 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.754 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.758 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.760 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:43:12.762 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:43:12.769 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-17 14:43:12.769 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-01-17 14:43:12.772 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-17 14:43:12.772 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-01-17 14:43:12.777 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:43:12.777 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:43:12.815 +06:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:43:12.815 +06:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:43:12.843 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.843 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.857 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.857 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.859 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.862 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.865 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.869 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.870 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.871 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:12.874 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.875 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 52ms reading results.
2024-01-17 14:43:12.875 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 56ms reading results.
2024-01-17 14:43:12.879 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.879 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.885 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2024-01-17 14:43:12.885 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-17 14:43:12.896 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:43:12.896 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:43:12.904 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:43:12.904 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:43:12.905 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:43:12.906 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:43:12.907 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:43:12.908 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:43:12.909 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:43:12.910 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:43:12.912 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:43:12.914 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:43:12.978 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1787.4762ms
2024-01-17 14:43:12.978 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 1789.5499ms
2024-01-17 14:43:12.981 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:43:12.982 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:43:12.987 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:43:12.987 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:43:12.990 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.990 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:12.992 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:43:12.993 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-17 14:43:12.996 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 1926.9537ms
2024-01-17 14:43:12.998 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 1929.752ms
2024-01-17 14:43:53.054 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-17 14:43:53.066 +06:00 [DBG] OPTIONS requests are not supported
2024-01-17 14:43:53.067 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:43:53.068 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:43:53.069 +06:00 [DBG] The request is a preflight request.
2024-01-17 14:43:53.075 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 20.9509ms
2024-01-17 14:43:53.079 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 101
2024-01-17 14:43:53.084 +06:00 [DBG] POST requests are not supported
2024-01-17 14:43:53.085 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:43:53.086 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:43:53.087 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-17 14:43:53.089 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-17 14:43:53.091 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-17 14:43:53.093 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-17 14:43:53.099 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-17 14:43:53.103 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:43:53.104 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:43:53.106 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:43:53.108 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:43:53.111 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:43:53.112 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-17 14:43:53.116 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-17 14:43:53.121 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-17 14:43:53.124 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-17 14:43:53.127 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-17 14:43:53.129 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-17 14:43:53.134 +06:00 [DBG] Connection id "0HN0N71B1AG3P", Request id "0HN0N71B1AG3P:00000007": started reading request body.
2024-01-17 14:43:53.137 +06:00 [DBG] Connection id "0HN0N71B1AG3P", Request id "0HN0N71B1AG3P:00000007": done reading request body.
2024-01-17 14:43:53.153 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-17 14:43:53.155 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-17 14:43:53.157 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-17 14:43:53.163 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-17 14:43:53.199 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:43:53.207 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-17 14:43:53.220 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-17 14:43:53.231 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:43:53.245 +06:00 [DBG] Created DbConnection. (13ms).
2024-01-17 14:43:53.246 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.250 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.253 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:43:53.256 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:43:53.263 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-17 14:43:53.266 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:43:53.300 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:43:53.303 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.306 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-17 14:43:53.308 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.310 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-17 14:43:53.326 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:53.340 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:53.345 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-17 14:43:53.348 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-17 14:43:53.354 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-17 14:43:53.391 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.394 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.397 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:43:53.398 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:43:53.399 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:43:53.401 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-17 14:43:53.406 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-17 14:43:53.415 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-17 14:43:53.420 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.421 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 12ms reading results.
2024-01-17 14:43:53.424 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.425 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:43:53.433 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:43:53.437 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-17 14:43:53.439 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:43:53.442 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:43:53.443 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:43:53.445 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:43:53.446 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:43:53.447 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2024-01-17 14:43:53.454 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 341.6697ms
2024-01-17 14:43:53.456 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-17 14:43:53.457 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:43:53.459 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:43:53.461 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:43:53.463 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 142 application/json; charset=utf-8 384.1476ms
2024-01-17 14:44:04.744 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-17 14:44:04.749 +06:00 [DBG] OPTIONS requests are not supported
2024-01-17 14:44:04.751 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:44:04.752 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:44:04.753 +06:00 [DBG] The request is a preflight request.
2024-01-17 14:44:04.754 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 10.2521ms
2024-01-17 14:44:04.756 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 39
2024-01-17 14:44:04.761 +06:00 [DBG] POST requests are not supported
2024-01-17 14:44:04.762 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:44:04.763 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:44:04.765 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-17 14:44:04.766 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-17 14:44:04.768 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-17 14:44:04.769 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-17 14:44:04.773 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-17 14:44:04.776 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:44:04.777 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:44:04.779 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:44:04.782 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:44:04.783 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:44:04.785 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-17 14:44:04.787 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-17 14:44:04.788 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-17 14:44:04.790 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-17 14:44:04.792 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-17 14:44:04.793 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-17 14:44:04.795 +06:00 [DBG] Connection id "0HN0N71B1AG3P", Request id "0HN0N71B1AG3P:0000000B": started reading request body.
2024-01-17 14:44:04.796 +06:00 [DBG] Connection id "0HN0N71B1AG3P", Request id "0HN0N71B1AG3P:0000000B": done reading request body.
2024-01-17 14:44:04.799 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-17 14:44:04.801 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-17 14:44:04.802 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-17 14:44:04.804 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-17 14:44:04.806 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:44:04.812 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:44:04.813 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-17 14:44:04.815 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.817 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.819 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:04.820 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:04.821 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:44:04.823 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:04.835 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:04.838 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.839 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-17 14:44:04.842 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.843 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:04.846 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-17 14:44:04.849 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-17 14:44:04.852 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.853 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.854 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:04.856 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:04.857 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:44:04.859 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:04.865 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:04.868 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.869 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-17 14:44:04.871 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.872 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:04.874 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:44:04.877 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:44:04.878 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:44:04.879 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:44:04.880 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:44:04.882 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-17 14:44:04.886 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 100.9882ms
2024-01-17 14:44:04.889 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-17 14:44:04.891 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:44:04.893 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:04.894 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:44:04.896 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 140.7386ms
2024-01-17 14:44:06.210 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:44:06.215 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:44:06.216 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:44:06.218 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:44:06.219 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:44:06.220 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:44:06.222 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:44:06.223 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:44:06.224 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:44:06.226 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:44:06.228 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:44:06.230 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:44:06.233 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:44:06.235 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:44:06.236 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:44:06.238 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:44:06.240 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:44:06.242 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:44:06.244 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-17 14:44:06.245 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:06.247 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:06.248 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:06.250 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:06.251 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:44:06.252 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:44:06.262 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:44:06.265 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:44:06.267 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:44:06.268 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:44:06.269 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:44:06.271 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:44:06.272 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:44:06.273 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:06.275 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 9ms reading results.
2024-01-17 14:44:06.276 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:06.277 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:06.280 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:44:06.283 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:44:06.284 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:44:06.284 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:44:06.285 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:44:06.286 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:44:06.288 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 51.2881ms
2024-01-17 14:44:06.290 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:44:06.291 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:44:06.292 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:06.293 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:44:06.295 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 86.1189ms
2024-01-17 14:44:26.874 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-17 14:44:26.879 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:44:26.882 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:44:26.883 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:44:26.884 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-17 14:44:26.886 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-17 14:44:26.888 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:26.889 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:26.893 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-17 14:44:26.896 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:44:26.897 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:44:26.899 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:44:26.901 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:44:26.903 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:44:26.904 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:26.905 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:26.906 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:26.908 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-17 14:44:26.912 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:26.914 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:26.915 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:26.917 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:26.920 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:44:26.923 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-17 14:44:26.926 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-17 14:44:26.928 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:44:26.929 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-17 14:44:26.930 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:26.932 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:26.934 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:26.935 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:26.937 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:44:26.938 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:26.945 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:26.948 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:26.949 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-17 14:44:26.950 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:26.951 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:26.953 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-17 14:44:26.955 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:44:26.959 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:44:26.960 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-17 14:44:26.963 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-17 14:44:26.965 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-17 14:44:26.973 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 69.0776ms
2024-01-17 14:44:26.975 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:26.976 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:44:26.977 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:26.979 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:44:26.980 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 105.7895ms
2024-01-17 14:44:32.543 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-17 14:44:32.546 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:44:32.548 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:44:32.549 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:44:32.550 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-17 14:44:32.552 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-17 14:44:32.553 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:32.555 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:32.557 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-17 14:44:32.559 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:44:32.561 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:44:32.563 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:44:32.565 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:44:32.567 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:44:32.568 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:32.570 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:32.573 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:32.575 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-17 14:44:32.577 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:32.578 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:32.580 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:32.582 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:32.584 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:44:32.586 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:44:32.587 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-17 14:44:32.588 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.590 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.592 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:32.593 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:32.594 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:44:32.596 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:32.599 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:32.602 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.603 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-17 14:44:32.605 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.606 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:32.609 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-01-17 14:44:32.613 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-17 14:44:32.615 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.617 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.618 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:32.619 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:32.621 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:44:32.623 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-17 14:44:32.628 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-17 14:44:32.631 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.633 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-17 14:44:32.635 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.636 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:32.640 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:44:32.643 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:44:32.644 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:44:32.645 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:44:32.646 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:44:32.647 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:44:32.650 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 81.2442ms
2024-01-17 14:44:32.651 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:32.652 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:44:32.653 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:32.655 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:44:32.657 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 2 application/json; charset=utf-8 113.9505ms
2024-01-17 14:44:33.068 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-17 14:44:33.072 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:44:33.073 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:44:33.075 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:44:33.075 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-17 14:44:33.077 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-17 14:44:33.079 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:33.080 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:33.081 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-17 14:44:33.083 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:44:33.085 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:44:33.087 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:44:33.089 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:44:33.091 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:44:33.092 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:33.094 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:33.096 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:33.097 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-17 14:44:33.099 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:33.101 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:33.102 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:33.104 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:33.107 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:44:33.110 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:44:33.111 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-17 14:44:33.112 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.114 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.115 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:33.117 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:33.118 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:44:33.120 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:33.126 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:33.132 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.133 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-17 14:44:33.135 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.137 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:33.140 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.142 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.144 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:33.146 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:33.147 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:44:33.149 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-17 14:44:33.152 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-17 14:44:33.153 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.155 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-17 14:44:33.158 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.160 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:33.162 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:44:33.165 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:44:33.166 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:44:33.167 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:44:33.168 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:44:33.170 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:44:33.173 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 80.1912ms
2024-01-17 14:44:33.174 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:33.176 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:44:33.177 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:33.178 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:44:33.180 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 2 application/json; charset=utf-8 112.1282ms
2024-01-17 14:44:35.774 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-17 14:44:35.777 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:44:35.778 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:44:35.779 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:44:35.780 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-17 14:44:35.782 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-17 14:44:35.783 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:35.785 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:35.788 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-17 14:44:35.790 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:44:35.792 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:44:35.794 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:44:35.796 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:44:35.798 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:44:35.800 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:35.804 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-17 14:44:35.806 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:35.807 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-17 14:44:35.810 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:35.811 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:35.813 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-17 14:44:35.814 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-17 14:44:35.817 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:44:35.821 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:44:35.822 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-17 14:44:35.823 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:35.825 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:35.826 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:44:35.828 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:44:35.830 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:44:35.831 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:35.836 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-17 14:44:35.839 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:35.840 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-17 14:44:35.842 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:35.844 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:44:35.846 +06:00 [INF] City with id 61 wasn't found when accessing points of interest.
2024-01-17 14:44:35.847 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:44:35.850 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:44:35.851 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-17 14:44:35.855 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-17 14:44:35.856 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-17 14:44:35.859 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 58.2867ms
2024-01-17 14:44:35.861 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:44:35.862 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:44:35.863 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:44:35.865 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:44:35.866 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 404 162 application/problem+json; charset=utf-8 91.9442ms
2024-01-17 14:46:46.398 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-17 14:46:46.461 +06:00 [DBG] Hosting starting
2024-01-17 14:46:46.587 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-17 14:46:46.589 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-17 14:46:46.590 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-17 14:46:46.591 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-17 14:46:46.592 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-17 14:46:46.594 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-17 14:46:46.595 +06:00 [INF] Hosting environment: Development
2024-01-17 14:46:46.596 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-17 14:46:46.597 +06:00 [DBG] Hosting started
2024-01-17 14:46:50.787 +06:00 [DBG] Connection id "0HN0N73CHO685" accepted.
2024-01-17 14:46:50.791 +06:00 [DBG] Connection id "0HN0N73CHO685" started.
2024-01-17 14:46:50.822 +06:00 [DBG] Connection 0HN0N73CHO685 established using the following protocol: "Tls13"
2024-01-17 14:46:50.850 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:46:50.857 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-17 14:46:50.868 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:46:50.871 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:46:50.873 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:46:50.888 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:46:50.891 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:46:50.894 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:46:50.898 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:46:50.910 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:46:50.915 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:46:50.918 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:46:50.920 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:46:50.922 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:46:50.924 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:46:50.927 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:46:51.005 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-17 14:46:51.083 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:46:51.424 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:46:51.462 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-17 14:46:51.570 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-17 14:46:51.593 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:46:51.611 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-17 14:46:51.615 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:46:51.818 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:46:51.822 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:46:51.827 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:46:51.830 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-17 14:46:51.836 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:46:51.878 +06:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:46:51.903 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:46:51.919 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:46:51.921 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:46:51.923 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:46:51.925 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:46:51.927 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:46:51.933 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:46:51.939 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 53ms reading results.
2024-01-17 14:46:51.943 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:46:51.948 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-17 14:46:51.959 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:46:51.966 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:46:51.968 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:46:51.969 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:46:51.971 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:46:51.974 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:46:52.023 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1094.1182ms
2024-01-17 14:46:52.026 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:46:52.030 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:46:52.034 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:46:52.037 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-17 14:46:52.040 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 1192.3389ms
2024-01-17 14:47:06.334 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:47:06.335 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-17 14:47:06.345 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:47:06.348 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:47:06.350 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:47:06.352 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:47:06.354 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:47:06.356 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:47:06.359 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:47:06.359 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:06.361 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:47:06.364 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:06.366 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:06.368 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:06.371 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:06.373 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:06.375 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:47:06.378 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:06.380 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:47:06.383 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:47:06.387 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:47:06.387 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:47:06.391 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:47:06.394 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:47:06.397 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:47:06.399 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:47:06.401 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:06.403 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:47:06.407 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:06.408 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:47:06.413 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:47:06.416 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:06.425 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:06.438 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:47:06.449 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:47:06.453 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-17 14:47:06.456 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.460 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:47:06.461 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.467 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:47:06.469 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:47:06.470 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-17 14:47:06.471 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-17 14:47:06.475 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:06.482 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:06.485 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-17 14:47:06.486 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.489 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:47:06.490 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.491 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-17 14:47:06.493 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.494 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.495 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.505 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.507 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.510 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.512 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.514 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:47:06.516 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 30ms reading results.
2024-01-17 14:47:06.518 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:47:06.520 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.522 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-17 14:47:06.523 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-17 14:47:06.525 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:47:06.530 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:47:06.538 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:47:06.539 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:47:06.540 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:47:06.540 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:47:06.542 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:47:06.547 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:47:06.550 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.551 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 150.3508ms
2024-01-17 14:47:06.557 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:06.559 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:47:06.560 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.563 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-17 14:47:06.566 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 233.0055ms
2024-01-17 14:47:06.566 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.573 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:06.575 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.576 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 31ms reading results.
2024-01-17 14:47:06.578 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.580 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:47:06.589 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:47:06.595 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:47:06.597 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:47:06.598 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:47:06.600 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:47:06.602 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:47:06.610 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 193.8052ms
2024-01-17 14:47:06.613 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:06.615 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:47:06.617 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:06.621 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-17 14:47:06.623 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 289.6419ms
2024-01-17 14:47:15.147 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-17 14:47:15.148 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:47:15.156 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:47:15.164 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:47:15.165 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:47:15.166 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:47:15.169 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:47:15.172 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:47:15.174 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:15.176 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:47:15.180 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:15.182 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:47:15.187 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:15.189 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:15.192 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:15.195 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:15.197 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:15.200 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:47:15.203 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:47:15.208 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:47:15.212 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:47:15.216 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:47:15.219 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:47:15.221 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:47:15.225 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:47:15.230 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:47:15.234 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:47:15.236 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:47:15.238 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:47:15.240 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:15.242 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:15.244 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:15.246 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:15.323 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:47:15.323 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:47:15.329 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:47:15.331 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:47:15.332 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-17 14:47:15.334 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-17 14:47:15.336 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.337 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.340 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.342 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.343 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:47:15.345 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:47:15.347 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:47:15.348 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:47:15.350 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-17 14:47:15.352 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-17 14:47:15.355 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:47:15.357 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:15.363 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:47:15.367 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:15.369 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.372 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.375 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.377 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.380 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.381 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.383 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.385 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.387 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 18ms reading results.
2024-01-17 14:47:15.389 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.393 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.395 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:15.397 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-17 14:47:15.399 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.402 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:47:15.404 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 31ms reading results.
2024-01-17 14:47:15.408 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:47:15.409 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.410 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:47:15.412 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-17 14:47:15.413 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:47:15.415 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:47:15.416 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:47:15.420 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:47:15.423 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:47:15.424 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:47:15.427 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 185.4498ms
2024-01-17 14:47:15.428 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:47:15.430 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:15.431 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:47:15.433 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:47:15.434 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:47:15.436 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.437 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 197.3288ms
2024-01-17 14:47:15.438 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-17 14:47:15.439 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:15.441 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 294.5041ms
2024-01-17 14:47:15.443 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:47:15.447 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:15.450 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-17 14:47:15.452 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 305.1884ms
2024-01-17 14:47:26.794 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:47:26.797 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:47:26.799 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:47:26.801 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:47:26.804 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:47:26.806 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:47:26.809 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:26.812 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:26.814 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:47:26.817 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:47:26.820 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:47:26.823 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:47:26.827 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:47:26.829 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:47:26.831 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:26.835 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:26.839 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:47:26.842 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:47:26.843 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-17 14:47:26.845 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:26.846 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:26.848 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:47:26.850 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:47:26.853 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-17 14:47:26.855 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:26.871 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:26.875 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:26.878 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:26.881 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:26.884 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:26.887 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:26.889 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:26.892 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:26.894 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 19ms reading results.
2024-01-17 14:47:26.896 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:26.899 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-17 14:47:26.903 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:47:26.906 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:47:26.908 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:47:26.909 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:47:26.910 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:47:26.911 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:47:26.914 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 82.81ms
2024-01-17 14:47:26.917 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:26.919 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:47:26.921 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:26.922 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-17 14:47:26.924 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 129.88ms
2024-01-17 14:47:43.544 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:47:43.544 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-17 14:47:43.553 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:47:43.560 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:47:43.562 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:47:43.564 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:47:43.565 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:47:43.567 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:47:43.569 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:47:43.572 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:43.577 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:47:43.579 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:43.583 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:43.587 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:47:43.592 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:43.596 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:43.599 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:47:43.601 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:43.604 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:47:43.606 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:47:43.608 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:47:43.610 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:47:43.612 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:47:43.614 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:47:43.616 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:47:43.619 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:47:43.621 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:47:43.624 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:47:43.626 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:43.629 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:47:43.631 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:43.634 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:43.637 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:47:43.640 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:47:43.644 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:47:43.646 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:47:43.647 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-17 14:47:43.651 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:47:43.652 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.653 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-17 14:47:43.656 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.657 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.658 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:47:43.660 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.661 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-17 14:47:43.663 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:47:43.665 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-17 14:47:43.666 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:47:43.668 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:43.671 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-17 14:47:43.676 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:47:43.677 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:47:43.679 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.685 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:47:43.685 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.688 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.690 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.692 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.694 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.696 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.698 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.699 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.701 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:47:43.703 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-17 14:47:43.704 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.706 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.708 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 29ms reading results.
2024-01-17 14:47:43.710 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-17 14:47:43.711 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.713 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:47:43.715 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-17 14:47:43.718 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:47:43.720 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:47:43.721 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:47:43.724 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:47:43.725 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:47:43.726 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:47:43.727 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:47:43.728 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:47:43.729 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:47:43.730 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:47:43.732 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 98.5833ms
2024-01-17 14:47:43.734 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:47:43.736 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:47:43.738 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 111.9945ms
2024-01-17 14:47:43.740 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:47:43.742 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:47:43.744 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.745 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:47:43.746 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-17 14:47:43.748 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:47:43.749 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 205.4338ms
2024-01-17 14:47:43.750 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-17 14:47:43.756 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 214.135ms
2024-01-17 14:55:59.837 +06:00 [DBG] Connection id "0HN0N73CHO685" received FIN.
2024-01-17 14:57:44.052 +06:00 [DBG] Connection id "0HN0N73CHO685" is closed. The last processed stream ID was 15.
2024-01-17 14:57:44.060 +06:00 [DBG] Connection id "0HN0N73CHO685" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-17 14:57:44.392 +06:00 [DBG] The connection queue processing loop for 0HN0N73CHO685 completed.
2024-01-17 14:57:44.399 +06:00 [DBG] Connection id "0HN0N73CHO685" stopped.
2024-01-17 14:58:12.077 +06:00 [DBG] Connection id "0HN0N73CHO686" accepted.
2024-01-17 14:58:12.085 +06:00 [DBG] Connection id "0HN0N73CHO686" started.
2024-01-17 14:58:12.095 +06:00 [DBG] Connection 0HN0N73CHO686 established using the following protocol: "Tls13"
2024-01-17 14:58:12.100 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-17 14:58:12.100 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-17 14:58:12.105 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:58:12.108 +06:00 [DBG] The request path  does not match the path filter
2024-01-17 14:58:12.112 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:58:12.110 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-17 14:58:12.114 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:58:12.116 +06:00 [INF] CORS policy execution successful.
2024-01-17 14:58:12.117 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-17 14:58:12.119 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-17 14:58:12.120 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-17 14:58:12.122 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:58:12.125 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:58:12.127 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-17 14:58:12.129 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:58:12.130 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:58:12.131 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:58:12.132 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:58:12.135 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:58:12.137 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-17 14:58:12.139 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:58:12.141 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-17 14:58:12.145 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:58:12.147 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-17 14:58:12.149 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:58:12.151 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-17 14:58:12.152 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:58:12.155 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-17 14:58:12.158 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:58:12.162 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-17 14:58:12.165 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:58:12.167 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:58:12.170 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:58:12.172 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-17 14:58:12.175 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:58:12.178 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-17 14:58:12.179 +06:00 [DBG] Created DbConnection. (4ms).
2024-01-17 14:58:12.182 +06:00 [DBG] Creating DbConnection.
2024-01-17 14:58:12.183 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.185 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-17 14:58:12.191 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.200 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.202 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:58:12.204 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-17 14:58:12.205 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.209 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-17 14:58:12.211 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-17 14:58:12.213 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:58:12.214 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-17 14:58:12.219 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-17 14:58:12.221 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:58:12.230 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-17 14:58:12.230 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-17 14:58:12.235 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.238 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.241 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.243 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.246 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.248 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.250 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.252 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.255 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 20ms reading results.
2024-01-17 14:58:12.257 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.259 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.261 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-17 14:58:12.262 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-17 14:58:12.264 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.266 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:58:12.268 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 29ms reading results.
2024-01-17 14:58:12.272 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:58:12.274 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.275 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:58:12.276 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-17 14:58:12.277 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:58:12.279 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-17 14:58:12.280 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:58:12.283 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-17 14:58:12.285 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:58:12.286 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-17 14:58:12.289 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-17 14:58:12.289 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 121.6756ms
2024-01-17 14:58:12.290 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-17 14:58:12.290 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-17 14:58:12.292 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-17 14:58:12.293 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:58:12.294 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 135.3649ms
2024-01-17 14:58:12.295 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.296 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-17 14:58:12.297 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-17 14:58:12.298 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-17 14:58:12.299 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 199.0126ms
2024-01-17 14:58:12.300 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-17 14:58:12.305 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-01-17 14:58:12.307 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 206.4965ms
2024-01-17 15:06:51.013 +06:00 [DBG] Connection id "0HN0N73CHO686" received FIN.
2024-01-17 15:06:51.015 +06:00 [DBG] Connection id "0HN0N73CHO686" is closed. The last processed stream ID was 3.
2024-01-17 15:06:51.016 +06:00 [DBG] The connection queue processing loop for 0HN0N73CHO686 completed.
2024-01-17 15:06:51.023 +06:00 [DBG] Connection id "0HN0N73CHO686" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-17 15:06:51.034 +06:00 [DBG] Connection id "0HN0N73CHO686" stopped.
