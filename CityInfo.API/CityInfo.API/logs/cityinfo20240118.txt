2024-01-18 12:30:08.817 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-18 12:30:08.913 +06:00 [DBG] Hosting starting
2024-01-18 12:30:09.088 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-18 12:30:09.091 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-18 12:30:09.093 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-18 12:30:09.096 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-18 12:30:09.098 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-18 12:30:09.099 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-18 12:30:09.101 +06:00 [INF] Hosting environment: Development
2024-01-18 12:30:09.103 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-18 12:30:09.105 +06:00 [DBG] Hosting started
2024-01-18 12:30:25.730 +06:00 [DBG] Connection id "0HN0NTRQDID4E" accepted.
2024-01-18 12:30:25.732 +06:00 [DBG] Connection id "0HN0NTRQDID4E" started.
2024-01-18 12:30:25.771 +06:00 [DBG] Connection 0HN0NTRQDID4E established using the following protocol: "Tls13"
2024-01-18 12:30:25.811 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:30:25.821 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-18 12:30:25.833 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:30:25.835 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:30:25.837 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:30:25.852 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:30:25.856 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:30:25.859 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:30:25.862 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:30:25.878 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:30:25.882 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:30:25.884 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:30:25.887 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:30:25.889 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:30:25.892 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:30:25.895 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:30:25.981 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 12:30:26.092 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:30:26.435 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:30:26.488 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-18 12:30:26.587 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-18 12:30:26.604 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:30:26.649 +06:00 [DBG] Created DbConnection. (44ms).
2024-01-18 12:30:26.652 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:26.859 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:26.862 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:30:26.867 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 12:30:26.870 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-18 12:30:26.875 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:30:26.923 +06:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:30:26.952 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:26.966 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:26.970 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:26.972 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:26.974 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:26.976 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:26.981 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:26.985 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 55ms reading results.
2024-01-18 12:30:26.989 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:26.994 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-18 12:30:27.004 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:30:27.009 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:30:27.010 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:30:27.011 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:30:27.012 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:30:27.015 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:30:27.067 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1171.6343ms
2024-01-18 12:30:27.070 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:30:27.074 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:30:27.079 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:27.082 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-18 12:30:27.086 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 1279.5571ms
2024-01-18 12:30:29.647 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:30:29.647 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 12:30:29.654 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:30:29.656 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:30:29.658 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:30:29.659 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:30:29.662 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:30:29.664 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:30:29.667 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:30:29.667 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 12:30:29.669 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:30:29.670 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:30:29.672 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:30:29.675 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:30:29.678 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:30:29.680 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:30:29.683 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:30:29.685 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:30:29.687 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:30:29.690 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:30:29.692 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:30:29.693 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:30:29.696 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:30:29.699 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:30:29.702 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:30:29.704 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:30:29.705 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:30:29.707 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:30:29.710 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:30:29.712 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:30:29.715 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:30:29.717 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:30:29.723 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:30:29.730 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:30:29.739 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:30:29.740 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 12:30:29.742 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.745 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.747 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:30:29.748 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:30:29.749 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 12:30:29.754 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-18 12:30:29.756 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:30:29.757 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-18 12:30:29.764 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:30:29.767 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.769 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.769 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-18 12:30:29.772 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.775 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:30:29.776 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.777 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 12:30:29.780 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.781 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.782 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.790 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.792 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 25ms reading results.
2024-01-18 12:30:29.795 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.795 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.834 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:30:29.837 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (41ms).
2024-01-18 12:30:29.839 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-18 12:30:29.844 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:30:29.845 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-01-18 12:30:29.849 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:30:29.851 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:30:29.852 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:30:29.856 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:30:29.857 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:30:29.859 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:30:29.859 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:30:29.865 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 159.7174ms
2024-01-18 12:30:29.868 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:30:29.868 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.870 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:30:29.876 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.878 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 12:30:29.880 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.880 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 232.8491ms
2024-01-18 12:30:29.884 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:30:29.892 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.894 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 31ms reading results.
2024-01-18 12:30:29.897 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.900 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 12:30:29.908 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:30:29.914 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:30:29.915 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:30:29.919 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:30:29.920 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:30:29.922 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:30:29.930 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 212.8417ms
2024-01-18 12:30:29.934 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:30:29.937 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:30:29.939 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:30:29.941 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 12:30:29.943 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 295.9697ms
2024-01-18 12:32:55.065 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:32:55.068 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 12:32:55.076 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:32:55.079 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:32:55.080 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:32:55.082 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:32:55.084 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:32:55.085 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:32:55.086 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:32:55.087 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 12:32:55.089 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:32:55.091 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:32:55.093 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:32:55.095 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:32:55.097 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:32:55.099 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:32:55.100 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:32:55.101 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:32:55.103 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:32:55.104 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:32:55.106 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:32:55.109 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:32:55.111 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:32:55.113 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:32:55.112 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:32:55.115 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:32:55.117 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:32:55.118 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:32:55.121 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:32:55.123 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:32:55.124 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:32:55.127 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:32:55.129 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:32:55.205 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:32:55.205 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:32:55.212 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:32:55.216 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:32:55.219 +06:00 [DBG] Created DbConnection. (6ms).
2024-01-18 12:32:55.222 +06:00 [DBG] Created DbConnection. (5ms).
2024-01-18 12:32:55.225 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.227 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.228 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.230 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.232 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:32:55.234 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:32:55.238 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-18 12:32:55.241 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-18 12:32:55.244 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-01-18 12:32:55.247 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-01-18 12:32:55.250 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:32:55.254 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:32:55.280 +06:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:32:55.280 +06:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:32:55.286 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.291 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.294 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.299 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.302 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.306 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.310 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.314 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.317 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.321 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 29ms reading results.
2024-01-18 12:32:55.326 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:32:55.331 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.334 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.338 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-18 12:32:55.342 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 56ms reading results.
2024-01-18 12:32:55.345 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:32:55.349 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.354 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:32:55.357 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-18 12:32:55.358 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:32:55.360 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:32:55.362 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:32:55.368 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:32:55.370 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:32:55.372 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:32:55.374 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:32:55.375 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:32:55.377 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 249.665ms
2024-01-18 12:32:55.377 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:32:55.380 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:32:55.382 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:32:55.384 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:32:55.387 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 269.0952ms
2024-01-18 12:32:55.388 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.391 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:32:55.392 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-18 12:32:55.393 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:32:55.394 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 326.27ms
2024-01-18 12:32:55.395 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:32:55.401 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-18 12:32:55.404 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 341.0911ms
2024-01-18 12:36:25.874 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:36:25.877 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 12:36:25.889 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:36:25.892 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:36:25.893 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:36:25.894 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:36:25.895 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:36:25.897 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:36:25.898 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:36:25.899 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 12:36:25.901 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:36:25.902 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:36:25.904 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:36:25.907 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:36:25.909 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:36:25.911 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:36:25.913 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:36:25.914 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:36:25.917 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:36:25.918 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:36:25.920 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:36:25.923 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:36:25.925 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:36:25.927 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:36:25.930 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:36:25.932 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:36:25.935 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:36:25.938 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:36:25.940 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:25.942 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:36:25.944 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:25.945 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:25.948 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:36:25.949 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:25.952 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:36:25.955 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:36:25.956 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-18 12:36:25.959 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:36:25.961 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:25.962 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 12:36:25.965 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:25.967 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:25.970 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:36:25.973 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:25.975 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-18 12:36:25.976 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:36:25.978 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-18 12:36:25.980 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 12:36:25.981 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:36:25.983 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-18 12:36:25.992 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:36:26.004 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:36:26.004 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:36:26.007 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.009 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.011 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.013 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.014 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.017 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.020 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:26.022 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.023 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 16ms reading results.
2024-01-18 12:36:26.025 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.026 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:26.028 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:26.029 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 12:36:26.032 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:26.035 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:36:26.036 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 26ms reading results.
2024-01-18 12:36:26.039 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:36:26.042 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:26.043 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:36:26.045 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 12:36:26.047 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:36:26.051 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:36:26.052 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:36:26.055 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:36:26.057 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:36:26.058 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:36:26.061 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 115.493ms
2024-01-18 12:36:26.062 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:36:26.076 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:36:26.078 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:36:26.079 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:36:26.081 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:36:26.082 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:26.084 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 144.3128ms
2024-01-18 12:36:26.086 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-18 12:36:26.087 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:36:26.089 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 212.1041ms
2024-01-18 12:36:26.090 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:36:26.095 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:26.096 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-18 12:36:26.098 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 225.3886ms
2024-01-18 12:36:41.131 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:36:41.132 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 12:36:41.137 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:36:41.141 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:36:41.142 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:36:41.143 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:36:41.143 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:36:41.145 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:36:41.146 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:36:41.147 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 12:36:41.149 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:36:41.150 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:36:41.152 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:36:41.153 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:36:41.154 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:36:41.156 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:36:41.157 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:36:41.158 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:36:41.159 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:36:41.160 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:36:41.162 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:36:41.164 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:36:41.165 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:36:41.167 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:36:41.172 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:36:41.173 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:36:41.175 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:36:41.177 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:36:41.180 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:41.181 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:36:41.183 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:41.185 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:41.187 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:36:41.188 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:36:41.190 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:36:41.192 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:36:41.192 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 12:36:41.195 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:36:41.197 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.197 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 12:36:41.200 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.201 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.204 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:36:41.208 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.210 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-18 12:36:41.212 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:36:41.214 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-18 12:36:41.215 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 12:36:41.217 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:36:41.218 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-18 12:36:41.222 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:36:41.223 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:36:41.226 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.232 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:36:41.233 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.235 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.237 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.239 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.241 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.243 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.245 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.247 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.249 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:36:41.251 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 15ms reading results.
2024-01-18 12:36:41.253 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.256 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.258 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 32ms reading results.
2024-01-18 12:36:41.259 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-18 12:36:41.262 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.265 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:36:41.267 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-18 12:36:41.270 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:36:41.273 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:36:41.274 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:36:41.279 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:36:41.280 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:36:41.282 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:36:41.283 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:36:41.284 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:36:41.286 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:36:41.288 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:36:41.290 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 104.9723ms
2024-01-18 12:36:41.291 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:36:41.293 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:36:41.295 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 115.4491ms
2024-01-18 12:36:41.296 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:36:41.298 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:36:41.299 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.300 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:36:41.301 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-18 12:36:41.302 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:36:41.305 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 172.6244ms
2024-01-18 12:36:41.307 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-18 12:36:41.312 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 181.2532ms
2024-01-18 12:37:24.847 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:37:24.853 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 12:37:24.858 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:37:24.861 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:37:24.862 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:37:24.865 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:37:24.866 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:37:24.868 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:37:24.869 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:37:24.870 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 12:37:24.872 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:37:24.873 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:37:24.876 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:37:24.877 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:37:24.879 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:37:24.881 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:37:24.883 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:37:24.884 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:37:24.886 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:37:24.887 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:37:24.888 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:37:24.892 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:37:24.890 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:37:24.893 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:37:24.894 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:37:24.897 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:37:24.899 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:37:24.900 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:24.901 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:37:24.904 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:24.905 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:37:24.907 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:37:24.908 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:24.912 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:37:24.913 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:24.914 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 12:37:24.916 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:37:24.916 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.919 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:37:24.921 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.921 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 12:37:24.923 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:37:24.924 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.926 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 12:37:24.927 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.928 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-18 12:37:24.930 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:37:24.931 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:37:24.932 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 12:37:24.937 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-18 12:37:24.940 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:37:24.947 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:37:24.947 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:37:24.950 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.954 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.956 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.958 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.960 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.963 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.965 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.966 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.969 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.971 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 17ms reading results.
2024-01-18 12:37:24.973 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:24.975 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.977 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.980 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-18 12:37:24.982 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 32ms reading results.
2024-01-18 12:37:24.983 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:37:24.985 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:24.989 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:37:24.992 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-18 12:37:24.993 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:37:24.998 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:37:25.000 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:37:25.003 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:37:25.004 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:37:25.006 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:37:25.007 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:37:25.008 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:37:25.012 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 103.492ms
2024-01-18 12:37:25.021 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:37:25.030 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:37:25.032 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:37:25.034 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:37:25.036 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 136.2999ms
2024-01-18 12:37:25.037 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:25.038 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:37:25.040 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-18 12:37:25.041 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:37:25.044 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 190.8522ms
2024-01-18 12:37:25.045 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:25.050 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-18 12:37:25.052 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 205.1041ms
2024-01-18 12:37:39.900 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:37:39.903 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 12:37:39.909 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:37:39.916 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:37:39.918 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:37:39.920 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:37:39.922 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:37:39.923 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:37:39.924 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:37:39.925 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 12:37:39.926 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:37:39.928 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:37:39.931 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:37:39.936 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:37:39.938 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:37:39.940 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:37:39.942 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:37:39.943 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:37:39.946 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:37:39.947 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:37:39.948 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:37:39.950 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:37:39.952 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:37:39.953 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:37:39.955 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:37:39.957 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:37:39.959 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:37:39.961 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:37:39.962 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:39.964 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:37:39.966 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:39.968 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:39.970 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:37:39.971 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:37:39.974 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:37:39.976 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 12:37:39.976 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:37:39.977 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:39.980 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:37:39.982 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:39.984 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-18 12:37:39.986 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:37:39.987 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:39.989 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 12:37:39.991 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:39.993 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-18 12:37:39.995 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:37:39.997 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:37:39.999 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 12:37:40.003 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:37:40.004 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-18 12:37:40.008 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.010 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:37:40.012 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.018 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:37:40.019 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.022 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.024 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.026 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.028 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.030 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.032 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:37:40.035 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:40.037 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:40.040 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 18ms reading results.
2024-01-18 12:37:40.043 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 34ms reading results.
2024-01-18 12:37:40.046 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:40.051 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:40.055 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-18 12:37:40.053 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2024-01-18 12:37:40.057 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:37:40.061 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:37:40.067 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:37:40.075 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:37:40.077 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:37:40.077 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:37:40.079 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:37:40.081 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:37:40.082 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:37:40.085 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:37:40.087 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:37:40.090 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:37:40.094 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 132.0865ms
2024-01-18 12:37:40.098 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 130.6545ms
2024-01-18 12:37:40.102 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:37:40.105 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:37:40.107 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:37:40.109 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:37:40.112 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:40.116 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:37:40.120 +06:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-01-18 12:37:40.123 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-18 12:37:40.126 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 226.6576ms
2024-01-18 12:37:40.128 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 226.4096ms
2024-01-18 12:38:08.421 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 12:38:08.423 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 12:38:08.440 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:38:08.444 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 12:38:08.445 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:38:08.447 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 12:38:08.448 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:38:08.450 +06:00 [INF] CORS policy execution successful.
2024-01-18 12:38:08.451 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 12:38:08.453 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 12:38:08.454 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 12:38:08.456 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:38:08.458 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:38:08.460 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 12:38:08.461 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:38:08.463 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:38:08.465 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:38:08.466 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:38:08.468 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:38:08.469 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 12:38:08.470 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:38:08.472 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 12:38:08.474 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:38:08.476 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 12:38:08.478 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:38:08.479 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 12:38:08.481 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:38:08.483 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 12:38:08.485 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:38:08.487 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 12:38:08.489 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:38:08.492 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:38:08.495 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:38:08.495 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 12:38:08.498 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:38:08.501 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 12:38:08.501 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 12:38:08.503 +06:00 [DBG] Creating DbConnection.
2024-01-18 12:38:08.504 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.506 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 12:38:08.508 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.508 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.510 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:38:08.512 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.513 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 12:38:08.515 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 12:38:08.516 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-18 12:38:08.517 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 12:38:08.519 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:38:08.521 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-18 12:38:08.526 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 12:38:08.529 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:38:08.538 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.543 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 12:38:08.543 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.547 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.549 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.551 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.553 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.555 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.557 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.558 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.560 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 12:38:08.562 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-18 12:38:08.564 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.566 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.568 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 30ms reading results.
2024-01-18 12:38:08.570 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-18 12:38:08.571 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.573 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:38:08.574 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-18 12:38:08.578 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:38:08.580 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 12:38:08.581 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:38:08.585 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 12:38:08.586 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:38:08.587 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 12:38:08.588 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:38:08.589 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 12:38:08.591 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:38:08.592 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 12:38:08.594 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 102.4666ms
2024-01-18 12:38:08.596 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 12:38:08.597 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 12:38:08.599 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 113.9012ms
2024-01-18 12:38:08.605 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 12:38:08.600 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:38:08.615 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 12:38:08.618 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.620 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 12:38:08.624 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-18 12:38:08.627 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-18 12:38:08.631 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 254 application/json; charset=utf-8 208.8713ms
2024-01-18 12:38:08.633 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 211.9585ms
2024-01-18 13:21:18.111 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-18 13:21:18.208 +06:00 [DBG] Hosting starting
2024-01-18 13:21:18.367 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-18 13:21:18.369 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-18 13:21:18.370 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-18 13:21:18.371 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-18 13:21:18.372 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-18 13:21:18.373 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-18 13:21:18.375 +06:00 [INF] Hosting environment: Development
2024-01-18 13:21:18.376 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-18 13:21:18.377 +06:00 [DBG] Hosting started
2024-01-18 13:22:05.753 +06:00 [DBG] Connection id "0HN0NUOM9M4TE" accepted.
2024-01-18 13:22:05.758 +06:00 [DBG] Connection id "0HN0NUOM9M4TE" started.
2024-01-18 13:22:05.834 +06:00 [DBG] Connection 0HN0NUOM9M4TE established using the following protocol: "Tls13"
2024-01-18 13:22:05.891 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 13:22:05.900 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-18 13:22:05.915 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 13:22:05.916 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 13:22:05.918 +06:00 [INF] CORS policy execution successful.
2024-01-18 13:22:05.919 +06:00 [DBG] The request is a preflight request.
2024-01-18 13:22:05.924 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 39.6474ms
2024-01-18 13:22:05.934 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 108
2024-01-18 13:22:05.939 +06:00 [DBG] POST requests are not supported
2024-01-18 13:22:05.941 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 13:22:05.943 +06:00 [INF] CORS policy execution successful.
2024-01-18 13:22:05.969 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 13:22:05.974 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 13:22:05.976 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 13:22:05.982 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 13:22:06.013 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 13:22:06.025 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 13:22:06.028 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 13:22:06.032 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 13:22:06.036 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 13:22:06.038 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 13:22:06.041 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 13:22:06.184 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 13:22:06.382 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 13:22:06.393 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 13:22:06.429 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 13:22:06.436 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 13:22:06.442 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 13:22:06.450 +06:00 [DBG] Connection id "0HN0NUOM9M4TE", Request id "0HN0NUOM9M4TE:00000003": started reading request body.
2024-01-18 13:22:06.454 +06:00 [DBG] Connection id "0HN0NUOM9M4TE", Request id "0HN0NUOM9M4TE:00000003": done reading request body.
2024-01-18 13:22:06.558 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 13:22:06.559 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 13:22:06.561 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 13:22:06.571 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 13:22:07.317 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 13:22:07.412 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-18 13:22:07.612 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 13:22:07.677 +06:00 [DBG] Creating DbConnection.
2024-01-18 13:22:07.709 +06:00 [DBG] Created DbConnection. (30ms).
2024-01-18 13:22:07.715 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.053 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.060 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 13:22:08.072 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-01-18 13:22:08.093 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2024-01-18 13:22:08.107 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 13:22:08.230 +06:00 [INF] Executed DbCommand (122ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 13:22:08.266 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.279 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 36ms reading results.
2024-01-18 13:22:08.287 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.297 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (10ms).
2024-01-18 13:22:08.365 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:22:08.453 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:22:08.460 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-18 13:22:08.466 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-18 13:22:08.481 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-18 13:22:08.571 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.576 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.581 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 13:22:08.583 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 13:22:08.586 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-18 13:22:08.588 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-18 13:22:08.602 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-01-18 13:22:08.620 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-18 13:22:08.628 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.630 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 24ms reading results.
2024-01-18 13:22:08.634 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.636 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 13:22:08.651 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:22:08.656 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-18 13:22:08.665 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 13:22:08.673 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 13:22:08.675 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 13:22:08.677 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 13:22:08.680 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 13:22:08.683 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2024-01-18 13:22:08.751 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 2708.101ms
2024-01-18 13:22:08.755 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 13:22:08.763 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 13:22:08.769 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:08.772 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-18 13:22:08.775 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 189 application/json; charset=utf-8 2840.7296ms
2024-01-18 13:22:33.894 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-18 13:22:33.915 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 13:22:33.918 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 13:22:33.920 +06:00 [INF] CORS policy execution successful.
2024-01-18 13:22:33.922 +06:00 [DBG] The request is a preflight request.
2024-01-18 13:22:33.924 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 30.2927ms
2024-01-18 13:22:33.927 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 44
2024-01-18 13:22:33.936 +06:00 [DBG] POST requests are not supported
2024-01-18 13:22:33.938 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 13:22:33.940 +06:00 [INF] CORS policy execution successful.
2024-01-18 13:22:33.944 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-18 13:22:33.947 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-18 13:22:33.950 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-18 13:22:33.953 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-18 13:22:33.964 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 13:22:33.967 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 13:22:33.971 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 13:22:33.974 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 13:22:33.977 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 13:22:33.979 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 13:22:33.982 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 13:22:33.985 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 13:22:33.988 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-18 13:22:33.991 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-18 13:22:33.995 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 13:22:33.997 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 13:22:33.999 +06:00 [DBG] Connection id "0HN0NUOM9M4TE", Request id "0HN0NUOM9M4TE:00000007": started reading request body.
2024-01-18 13:22:34.000 +06:00 [DBG] Connection id "0HN0NUOM9M4TE", Request id "0HN0NUOM9M4TE:00000007": done reading request body.
2024-01-18 13:22:34.004 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-18 13:22:34.007 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-18 13:22:34.009 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-18 13:22:34.011 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-18 13:22:34.033 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 13:22:34.043 +06:00 [DBG] Creating DbConnection.
2024-01-18 13:22:34.045 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 13:22:34.046 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.049 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.051 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 13:22:34.053 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 13:22:34.055 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-18 13:22:34.057 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 13:22:34.073 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 13:22:34.076 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.078 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 13:22:34.080 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.082 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 13:22:34.086 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-18 13:22:34.091 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 13:22:34.095 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.098 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.100 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 13:22:34.102 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 13:22:34.104 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 13:22:34.105 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 13:22:34.112 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 13:22:34.114 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.116 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 13:22:34.117 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.118 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 13:22:34.121 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 13:22:34.124 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 13:22:34.125 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 13:22:34.126 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 13:22:34.128 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 13:22:34.129 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-18 13:22:34.132 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 150.8032ms
2024-01-18 13:22:34.134 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-18 13:22:34.135 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 13:22:34.136 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:22:34.138 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 13:22:34.139 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 213.2265ms
2024-01-18 13:24:22.965 +06:00 [DBG] Connection id "0HN0NUOM9M4TE" received FIN.
2024-01-18 13:34:10.519 +06:00 [DBG] Connection id "0HN0NUOM9M4TE" is closed. The last processed stream ID was 7.
2024-01-18 13:34:10.523 +06:00 [DBG] The connection queue processing loop for 0HN0NUOM9M4TE completed.
2024-01-18 13:34:10.525 +06:00 [DBG] Connection id "0HN0NUOM9M4TE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-18 13:34:10.582 +06:00 [DBG] Connection id "0HN0NUOM9M4TE" stopped.
2024-01-18 13:54:47.321 +06:00 [DBG] Connection id "0HN0NUOM9M4TF" accepted.
2024-01-18 13:54:47.335 +06:00 [DBG] Connection id "0HN0NUOM9M4TF" started.
2024-01-18 13:54:47.346 +06:00 [DBG] Connection 0HN0NUOM9M4TF established using the following protocol: "Tls13"
2024-01-18 13:54:47.353 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 13:54:47.403 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 13:54:47.406 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 13:54:47.409 +06:00 [INF] CORS policy execution successful.
2024-01-18 13:54:47.411 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 13:54:47.414 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 13:54:47.418 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 13:54:47.421 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 13:54:47.431 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 13:54:47.436 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 13:54:47.439 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 13:54:47.441 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 13:54:47.445 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 13:54:47.449 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 13:54:47.453 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 13:54:47.461 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 13:54:47.555 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 13:54:47.567 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-18 13:54:47.617 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-18 13:54:47.626 +06:00 [DBG] Creating DbConnection.
2024-01-18 13:54:47.630 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-18 13:54:47.631 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:54:47.647 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:54:47.650 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 13:54:47.652 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 13:54:47.654 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-18 13:54:47.656 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 13:54:47.670 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 13:54:47.684 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:54:47.693 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:54:47.695 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:54:47.697 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:54:47.700 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:54:47.702 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 13:54:47.704 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 13:54:47.706 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 33ms reading results.
2024-01-18 13:54:47.709 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:54:47.710 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 13:54:47.722 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 13:54:47.725 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 13:54:47.726 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 13:54:47.727 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 13:54:47.728 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 13:54:47.730 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 13:54:47.737 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 283.9841ms
2024-01-18 13:54:47.738 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 13:54:47.740 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 13:54:47.742 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 13:54:47.744 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 13:54:47.745 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 392.4321ms
2024-01-18 14:26:28.543 +06:00 [DBG] Connection id "0HN0NUOM9M4TF" received FIN.
2024-01-18 14:26:29.038 +06:00 [DBG] Connection id "0HN0NUOM9M4TF" is closed. The last processed stream ID was 1.
2024-01-18 14:26:29.044 +06:00 [DBG] The connection queue processing loop for 0HN0NUOM9M4TF completed.
2024-01-18 14:26:29.098 +06:00 [DBG] Connection id "0HN0NUOM9M4TF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-18 14:26:29.221 +06:00 [DBG] Connection id "0HN0NUOM9M4TF" stopped.
2024-01-18 14:26:30.523 +06:00 [DBG] Connection id "0HN0NUOM9M4TG" accepted.
2024-01-18 14:26:30.525 +06:00 [DBG] Connection id "0HN0NUOM9M4TG" started.
2024-01-18 14:26:30.533 +06:00 [DBG] Connection 0HN0NUOM9M4TG established using the following protocol: "Tls13"
2024-01-18 14:26:30.536 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 14:26:30.546 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 14:26:30.548 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 14:26:30.549 +06:00 [INF] CORS policy execution successful.
2024-01-18 14:26:30.550 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 14:26:30.552 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 14:26:30.553 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:26:30.555 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:26:30.556 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 14:26:30.558 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 14:26:30.560 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 14:26:30.562 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 14:26:30.566 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 14:26:30.568 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 14:26:30.569 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:26:30.571 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:26:30.574 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:26:30.576 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:26:30.577 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 14:26:30.579 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:26:30.580 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:26:30.582 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:26:30.583 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 14:26:30.585 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-18 14:26:30.586 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 14:26:30.596 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 14:26:30.599 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 14:26:30.600 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 14:26:30.602 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 14:26:30.603 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 14:26:30.605 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 14:26:30.606 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 14:26:30.608 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:26:30.610 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 11ms reading results.
2024-01-18 14:26:30.612 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:26:30.614 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 14:26:30.616 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 14:26:30.619 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 14:26:30.620 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 14:26:30.620 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 14:26:30.621 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 14:26:30.623 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-18 14:26:30.625 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 55.2459ms
2024-01-18 14:26:30.626 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:26:30.628 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:26:30.630 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:26:30.632 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 14:26:30.634 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 479 application/json; charset=utf-8 97.9008ms
2024-01-18 14:35:41.211 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:35:41.508 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:35:41.841 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:36:50.172 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:36:50.433 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:36:50.441 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:36:50.459 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-18 14:36:50.461 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.464 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.583 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.586 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:36:50.589 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-18 14:36:50.590 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-18 14:36:50.593 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:36:50.605 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:36:50.606 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.609 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 14:36:50.611 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:36:50.611 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:36:50.611 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:36:50.611 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.611 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.612 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:36:50.627 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:36:50.627 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.628 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:36:50.628 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.628 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.628 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:36:50.628 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:50.628 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:50.628 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:36:50.629 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:36:50.630 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.630 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:36:50.630 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:36:50.630 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:36:50.630 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:36:50.630 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.630 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.630 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:36:50.631 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:36:50.631 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.631 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:36:50.637 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.637 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.637 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:36:50.637 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:36:50.637 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:36:50.637 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:36:50.663 +06:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:36:50.665 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.665 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 14:36:50.665 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.665 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:36:50.670 +06:00 [INF] Applying migration '20240118083541_token_user_added'.
2024-01-18 14:36:50.683 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.683 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:50.684 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-18 14:36:50.687 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-18 14:36:50.688 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:36:50.688 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:50.688 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:50.688 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [token] nvarchar(max) NOT NULL DEFAULT N'';
2024-01-18 14:36:50.713 +06:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Users] ADD [token] nvarchar(max) NOT NULL DEFAULT N'';
2024-01-18 14:36:50.713 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:36:50.713 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:50.713 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:50.713 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:36:51.131 +06:00 [INF] Executed DbCommand (418ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:36:51.131 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:36:51.131 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:51.131 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:36:51.131 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240118083541_token_user_added', N'8.0.0');
2024-01-18 14:36:51.135 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240118083541_token_user_added', N'8.0.0');
2024-01-18 14:36:51.136 +06:00 [DBG] Committing transaction.
2024-01-18 14:36:51.139 +06:00 [DBG] Committed transaction.
2024-01-18 14:36:51.140 +06:00 [DBG] Disposing transaction.
2024-01-18 14:36:51.140 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:51.140 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:36:51.142 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:36:51.143 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:36:51.143 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-18 14:38:08.657 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:38:08.927 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:38:09.167 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:39:10.575 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:39:10.844 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:39:10.851 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:39:10.869 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-18 14:39:10.871 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:10.874 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:10.977 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:10.979 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:39:10.982 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-18 14:39:10.983 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-18 14:39:10.986 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:39:10.998 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:39:10.999 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.002 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 14:39:11.004 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:39:11.004 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:39:11.004 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:39:11.004 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.004 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.004 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:39:11.019 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:39:11.019 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.019 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:39:11.019 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.019 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.020 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:39:11.020 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:39:11.020 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:39:11.020 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:39:11.021 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:39:11.021 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.021 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:39:11.021 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:39:11.021 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:39:11.021 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:39:11.021 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.021 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.021 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:39:11.022 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:39:11.022 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.022 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:39:11.028 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.028 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.028 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:39:11.028 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:39:11.028 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:39:11.029 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:39:11.035 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:39:11.036 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.036 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 14:39:11.036 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.037 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:39:11.041 +06:00 [INF] Applying migration '20240118083809_email_cs_added'.
2024-01-18 14:39:11.051 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.051 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.052 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-18 14:39:11.157 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-18 14:39:11.157 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:39:11.157 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:39:11.158 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:39:11.158 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:39:11.170 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:39:11.170 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:39:11.170 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:39:11.170 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:39:11.170 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:39:11.178 +06:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:39:11.178 +06:00 [DBG] Disposing transaction.
2024-01-18 14:39:11.178 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.179 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:39:11.179 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:39:11.180 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:39:11.180 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-18 14:46:38.361 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:46:38.623 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:46:38.630 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:46:38.646 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-18 14:46:38.648 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.651 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.765 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.767 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:46:38.770 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-18 14:46:38.771 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-18 14:46:38.774 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:46:38.786 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:46:38.787 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.791 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 14:46:38.792 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:46:38.792 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:46:38.792 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:46:38.792 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.793 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.793 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:46:38.800 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:46:38.801 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.801 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:46:38.801 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.801 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.801 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:46:38.801 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:46:38.801 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:46:38.801 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:46:38.802 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:46:38.803 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.803 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:46:38.803 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:46:38.803 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:46:38.803 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:46:38.803 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.803 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.803 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:46:38.803 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:46:38.803 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.803 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:46:38.810 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.810 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.810 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:46:38.810 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:46:38.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:46:38.810 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:46:38.813 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:46:38.814 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.815 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 14:46:38.815 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.815 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:46:38.819 +06:00 [INF] Applying migration '20240118083809_email_cs_added'.
2024-01-18 14:46:38.832 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.832 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:38.833 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-18 14:46:38.836 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-18 14:46:38.836 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:46:38.836 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:46:38.837 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:46:38.837 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:46:39.132 +06:00 [INF] Executed DbCommand (295ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:46:39.132 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:46:39.132 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:46:39.132 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:46:39.132 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:46:39.136 +06:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:46:39.137 +06:00 [DBG] Disposing transaction.
2024-01-18 14:46:39.137 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:39.137 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:46:39.138 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:46:39.139 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:46:39.139 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-18 14:51:39.127 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:51:39.394 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:51:39.401 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:51:39.419 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-18 14:51:39.421 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.425 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.524 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.527 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:51:39.530 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-18 14:51:39.531 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-18 14:51:39.534 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:51:39.547 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:51:39.548 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.552 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 14:51:39.553 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:51:39.553 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:51:39.553 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:51:39.553 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.553 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.554 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:51:39.566 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:51:39.566 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.566 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:51:39.567 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.567 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.567 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:51:39.567 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:51:39.567 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:51:39.567 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:51:39.569 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-18 14:51:39.569 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.569 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:51:39.569 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-18 14:51:39.569 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:51:39.569 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-18 14:51:39.569 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.569 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.569 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:51:39.570 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-18 14:51:39.570 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.570 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:51:39.577 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.577 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.577 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:51:39.577 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:51:39.577 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-18 14:51:39.577 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:51:39.586 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-18 14:51:39.587 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.588 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 14:51:39.588 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.588 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:51:39.592 +06:00 [INF] Applying migration '20240118083809_email_cs_added'.
2024-01-18 14:51:39.603 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.604 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.604 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-18 14:51:39.607 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-18 14:51:39.608 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:51:39.608 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:51:39.734 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (125ms).
2024-01-18 14:51:39.734 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:51:39.745 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  email VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:51:39.746 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:51:39.746 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:51:39.746 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:51:39.746 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:51:39.750 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  token VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-18 14:51:39.750 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-18 14:51:39.750 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:51:39.750 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-18 14:51:39.750 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240118083809_email_cs_added', N'8.0.0');
2024-01-18 14:51:39.753 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240118083809_email_cs_added', N'8.0.0');
2024-01-18 14:51:39.753 +06:00 [DBG] Committing transaction.
2024-01-18 14:51:39.756 +06:00 [DBG] Committed transaction.
2024-01-18 14:51:39.756 +06:00 [DBG] Disposing transaction.
2024-01-18 14:51:39.756 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.756 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 14:51:39.757 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:51:39.758 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:51:39.758 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-18 14:53:11.435 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-18 14:53:11.502 +06:00 [DBG] Hosting starting
2024-01-18 14:53:11.622 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-18 14:53:11.623 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-18 14:53:11.624 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-18 14:53:11.625 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-18 14:53:11.626 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-18 14:53:11.628 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-18 14:53:11.629 +06:00 [INF] Hosting environment: Development
2024-01-18 14:53:11.630 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-18 14:53:11.631 +06:00 [DBG] Hosting started
2024-01-18 14:53:16.027 +06:00 [DBG] Connection id "0HN0O0BKI9GCI" accepted.
2024-01-18 14:53:16.029 +06:00 [DBG] Connection id "0HN0O0BKI9GCI" started.
2024-01-18 14:53:16.070 +06:00 [DBG] Connection 0HN0O0BKI9GCI established using the following protocol: "Tls13"
2024-01-18 14:53:16.124 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-18 14:53:16.124 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 14:53:16.140 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-18 14:53:16.141 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-18 14:53:16.158 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 14:53:16.158 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 14:53:16.163 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 14:53:16.164 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 14:53:16.166 +06:00 [INF] CORS policy execution successful.
2024-01-18 14:53:16.170 +06:00 [INF] CORS policy execution successful.
2024-01-18 14:53:16.197 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-18 14:53:16.197 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 14:53:16.202 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 14:53:16.204 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 14:53:16.207 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-18 14:53:16.210 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:53:16.212 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 14:53:16.221 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:53:16.221 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 14:53:16.244 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 14:53:16.244 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 14:53:16.251 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 14:53:16.251 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 14:53:16.253 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 14:53:16.255 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 14:53:16.257 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 14:53:16.259 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 14:53:16.260 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 14:53:16.262 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 14:53:16.264 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 14:53:16.266 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 14:53:16.270 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:53:16.270 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:53:16.375 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:53:16.375 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 14:53:16.490 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:53:16.490 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:53:16.890 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:53:16.890 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:53:16.934 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-18 14:53:16.934 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-18 14:53:17.052 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-18 14:53:17.052 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-18 14:53:17.073 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:53:17.073 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:53:17.088 +06:00 [DBG] Created DbConnection. (13ms).
2024-01-18 14:53:17.088 +06:00 [DBG] Created DbConnection. (13ms).
2024-01-18 14:53:17.091 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.091 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.292 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.297 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.302 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:53:17.302 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:53:17.306 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 14:53:17.306 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 14:53:17.308 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-18 14:53:17.309 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-18 14:53:17.316 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 14:53:17.316 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 14:53:17.354 +06:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-18 14:53:17.354 +06:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 14:53:17.366 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.366 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.370 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 12ms reading results.
2024-01-18 14:53:17.370 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 9ms reading results.
2024-01-18 14:53:17.373 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.375 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.381 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-18 14:53:17.381 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-18 14:53:17.387 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 14:53:17.387 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 14:53:17.390 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 14:53:17.392 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 14:53:17.394 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-18 14:53:17.395 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-18 14:53:17.399 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-18 14:53:17.401 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-18 14:53:17.403 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-18 14:53:17.404 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-18 14:53:17.464 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 1189.5037ms
2024-01-18 14:53:17.464 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1191.1748ms
2024-01-18 14:53:17.469 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-18 14:53:17.469 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:53:17.476 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:53:17.476 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:53:17.481 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.481 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.484 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-18 14:53:17.485 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-18 14:53:17.487 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 1372.4939ms
2024-01-18 14:53:17.489 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 1375.133ms
2024-01-18 14:53:17.727 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-18 14:53:17.733 +06:00 [DBG] The request path  does not match the path filter
2024-01-18 14:53:17.735 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 14:53:17.736 +06:00 [INF] CORS policy execution successful.
2024-01-18 14:53:17.739 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-18 14:53:17.742 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-18 14:53:17.746 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:53:17.751 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:53:17.753 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-18 14:53:17.758 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 14:53:17.763 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 14:53:17.768 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 14:53:17.773 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 14:53:17.777 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 14:53:17.781 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:53:17.788 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-18 14:53:17.907 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 14:53:17.917 +06:00 [DBG] Creating DbConnection.
2024-01-18 14:53:17.919 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 14:53:17.921 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.924 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.926 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 14:53:17.929 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 14:53:17.931 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 14:53:17.933 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 14:53:17.944 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-18 14:53:17.948 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.951 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-18 14:53:17.955 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.958 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-18 14:53:17.963 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 14:53:17.968 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 14:53:17.971 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-18 14:53:17.975 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-18 14:53:17.979 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-18 14:53:17.985 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 204.632ms
2024-01-18 14:53:17.989 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-18 14:53:17.993 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 14:53:17.996 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 14:53:17.999 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-18 14:53:18.001 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 404 162 application/problem+json; charset=utf-8 273.6627ms
2024-01-18 16:29:19.683 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-18 16:29:19.751 +06:00 [DBG] Hosting starting
2024-01-18 16:29:19.878 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-18 16:29:19.879 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-18 16:29:19.881 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-18 16:29:19.882 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-18 16:29:19.884 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-18 16:29:19.885 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-18 16:29:19.886 +06:00 [INF] Hosting environment: Development
2024-01-18 16:29:19.887 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-18 16:29:19.888 +06:00 [DBG] Hosting started
2024-01-18 16:29:49.142 +06:00 [DBG] Connection id "0HN0O21J1NQH4" accepted.
2024-01-18 16:29:49.148 +06:00 [DBG] Connection id "0HN0O21J1NQH4" started.
2024-01-18 16:29:49.250 +06:00 [DBG] Connection 0HN0O21J1NQH4 established using the following protocol: "Tls13"
2024-01-18 16:29:49.315 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:29:49.324 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-18 16:29:49.339 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:29:49.342 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:29:49.344 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:29:49.346 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:29:49.351 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 40.8604ms
2024-01-18 16:29:49.357 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 113
2024-01-18 16:29:49.364 +06:00 [DBG] POST requests are not supported
2024-01-18 16:29:49.366 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:29:49.368 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:29:49.399 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:29:49.405 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:29:49.409 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:29:49.416 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:29:49.451 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:29:49.458 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:29:49.460 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:29:49.463 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:29:49.467 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:29:49.469 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:29:49.475 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:29:49.604 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 16:29:49.809 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:29:49.817 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:29:49.823 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:29:49.827 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:29:49.830 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:29:49.839 +06:00 [DBG] Connection id "0HN0O21J1NQH4", Request id "0HN0O21J1NQH4:00000003": started reading request body.
2024-01-18 16:29:49.842 +06:00 [DBG] Connection id "0HN0O21J1NQH4", Request id "0HN0O21J1NQH4:00000003": done reading request body.
2024-01-18 16:29:49.935 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:29:49.939 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:29:49.941 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:29:49.951 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:29:50.729 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:29:50.835 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-18 16:29:51.033 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 16:29:51.088 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:29:51.113 +06:00 [DBG] Created DbConnection. (20ms).
2024-01-18 16:29:51.120 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.473 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.481 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:29:51.488 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:29:51.497 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-01-18 16:29:51.508 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:29:51.602 +06:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:29:51.628 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.641 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 28ms reading results.
2024-01-18 16:29:51.650 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.659 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (8ms).
2024-01-18 16:29:51.665 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.email == __email_0)'
2024-01-18 16:29:51.672 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 16:29:51.676 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.679 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.682 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:29:51.684 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:29:51.686 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:29:51.688 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:29:51.697 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:29:51.702 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.703 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 16:29:51.705 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.706 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 16:29:51.767 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:29:51.841 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:29:51.847 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-18 16:29:51.851 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-18 16:29:51.865 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-18 16:29:51.945 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.947 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.950 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:29:51.952 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:29:51.953 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:29:51.954 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-01-18 16:29:51.961 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-01-18 16:29:51.978 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-18 16:29:51.987 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.988 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 25ms reading results.
2024-01-18 16:29:51.992 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:51.994 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 16:29:52.013 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:29:52.022 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-18 16:29:52.030 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:29:52.038 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:29:52.039 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:29:52.041 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:29:52.044 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:29:52.047 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2024-01-18 16:29:52.115 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 2638.1396ms
2024-01-18 16:29:52.118 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:29:52.125 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:29:52.130 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:29:52.133 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-18 16:29:52.137 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 211 application/json; charset=utf-8 2779.4711ms
2024-01-18 16:33:18.274 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:33:18.282 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:33:18.285 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:33:18.287 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:33:18.289 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:33:18.290 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 17.962ms
2024-01-18 16:33:18.293 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 113
2024-01-18 16:33:18.300 +06:00 [DBG] POST requests are not supported
2024-01-18 16:33:18.302 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:33:18.304 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:33:18.306 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:33:18.308 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:33:18.310 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:33:18.312 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:33:18.315 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:33:18.318 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:33:18.320 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:33:18.322 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:33:18.325 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:33:18.327 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:33:18.330 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:33:18.335 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:33:18.342 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:33:18.345 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:33:18.348 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:33:18.350 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:33:18.353 +06:00 [DBG] Connection id "0HN0O21J1NQH4", Request id "0HN0O21J1NQH4:00000007": started reading request body.
2024-01-18 16:33:18.355 +06:00 [DBG] Connection id "0HN0O21J1NQH4", Request id "0HN0O21J1NQH4:00000007": done reading request body.
2024-01-18 16:33:18.358 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:33:18.360 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:33:18.363 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:33:18.366 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:33:18.396 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:33:18.404 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:33:18.407 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-18 16:33:18.409 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.411 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.414 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:33:18.416 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:33:18.418 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:33:18.420 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:18.434 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:18.437 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.439 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 16:33:18.441 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.444 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:33:18.448 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.451 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.452 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:33:18.452 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-18 16:33:18.453 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:33:18.455 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:18.471 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:18.478 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.482 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-18 16:33:18.485 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:18.487 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 16:33:36.043 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:33:36.048 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:33:36.049 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:33:36.050 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:33:36.052 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:33:36.054 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-18 16:33:36.060 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 17730.569ms
2024-01-18 16:33:36.064 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:33:36.065 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:33:36.066 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:36.067 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 16:33:36.069 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 33 application/json; charset=utf-8 17776.8269ms
2024-01-18 16:33:45.953 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:33:45.960 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:33:45.962 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:33:45.965 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:33:45.967 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:33:45.968 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 15.8247ms
2024-01-18 16:33:45.972 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 110
2024-01-18 16:33:45.980 +06:00 [DBG] POST requests are not supported
2024-01-18 16:33:45.981 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:33:45.984 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:33:45.986 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:33:45.988 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:33:45.992 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:33:45.994 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:33:45.995 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:33:45.997 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:33:46.000 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:33:46.002 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:33:46.005 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:33:46.007 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:33:46.009 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:33:46.014 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:33:46.017 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:33:46.019 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:33:46.021 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:33:46.024 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:33:46.025 +06:00 [DBG] Connection id "0HN0O21J1NQH4", Request id "0HN0O21J1NQH4:0000000B": started reading request body.
2024-01-18 16:33:46.026 +06:00 [DBG] Connection id "0HN0O21J1NQH4", Request id "0HN0O21J1NQH4:0000000B": done reading request body.
2024-01-18 16:33:46.027 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:33:46.030 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:33:46.031 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:33:46.033 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:33:46.109 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:33:46.116 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:33:46.117 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 16:33:46.119 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.121 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.124 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:33:46.126 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:33:46.128 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:33:46.131 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:46.148 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:46.155 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.157 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:33:46.160 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.163 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:33:46.167 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.170 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.173 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:33:46.175 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:33:46.177 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:33:46.180 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:46.188 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:33:46.192 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.194 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:33:46.197 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:33:46.200 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-18 16:35:12.116 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-18 16:35:12.218 +06:00 [DBG] Hosting starting
2024-01-18 16:35:12.359 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-18 16:35:12.360 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-18 16:35:12.361 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-18 16:35:12.362 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-18 16:35:12.363 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-18 16:35:12.364 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-18 16:35:12.365 +06:00 [INF] Hosting environment: Development
2024-01-18 16:35:12.366 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-18 16:35:12.367 +06:00 [DBG] Hosting started
2024-01-18 16:35:20.691 +06:00 [DBG] Connection id "0HN0O24LRK801" accepted.
2024-01-18 16:35:20.697 +06:00 [DBG] Connection id "0HN0O24LRK801" started.
2024-01-18 16:35:20.789 +06:00 [DBG] Connection 0HN0O24LRK801 established using the following protocol: "Tls13"
2024-01-18 16:35:20.862 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:35:20.878 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-18 16:35:20.899 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:35:20.903 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:35:20.906 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:35:20.909 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:35:20.914 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 58.8079ms
2024-01-18 16:35:20.921 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 110
2024-01-18 16:35:20.929 +06:00 [DBG] POST requests are not supported
2024-01-18 16:35:20.931 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:35:20.933 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:35:20.966 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:35:20.973 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:35:20.978 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:35:20.985 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:35:21.016 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:35:21.024 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:35:21.027 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:35:21.030 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:35:21.032 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:35:21.034 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:35:21.039 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:35:21.192 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 16:35:21.408 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:35:21.413 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:35:21.416 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:35:21.418 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:35:21.437 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:35:21.445 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:00000003": started reading request body.
2024-01-18 16:35:21.447 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:00000003": done reading request body.
2024-01-18 16:35:21.539 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:35:21.543 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:35:21.545 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:35:21.555 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:35:22.344 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:35:22.455 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-18 16:35:22.644 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 16:35:22.711 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:35:22.744 +06:00 [DBG] Created DbConnection. (28ms).
2024-01-18 16:35:22.752 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.093 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.098 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:35:23.108 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-18 16:35:23.121 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-01-18 16:35:23.134 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:35:23.215 +06:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:35:23.239 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.282 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 54ms reading results.
2024-01-18 16:35:23.288 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.300 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (12ms).
2024-01-18 16:35:23.310 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.email == __email_0)'
2024-01-18 16:35:23.316 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 16:35:23.320 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.323 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.325 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:35:23.327 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:35:23.334 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-18 16:35:23.337 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:35:23.346 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:35:23.351 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.353 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:35:23.355 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:35:23.356 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 16:37:00.176 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:37:00.254 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:37:00.263 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-18 16:37:00.269 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-18 16:37:00.301 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-18 16:37:00.395 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:37:00.398 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:37:00.404 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:37:00.406 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:37:00.408 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:37:00.411 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-01-18 16:37:00.429 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-01-18 16:37:00.447 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-18 16:37:00.459 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:37:00.461 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 29ms reading results.
2024-01-18 16:37:00.465 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:37:00.468 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:37:00.488 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:37:00.496 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-18 16:37:01.856 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:37:01.862 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:37:01.863 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:37:01.865 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:37:01.867 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:37:01.869 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2024-01-18 16:37:01.929 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 100889.1666ms
2024-01-18 16:37:01.937 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:37:01.943 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:37:01.947 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:37:01.950 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-18 16:37:01.953 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 208 application/json; charset=utf-8 101032.2913ms
2024-01-18 16:38:34.649 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:38:34.660 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:38:34.663 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:38:34.666 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:38:34.668 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:38:34.670 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 26.1797ms
2024-01-18 16:38:34.676 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 108
2024-01-18 16:38:34.690 +06:00 [DBG] POST requests are not supported
2024-01-18 16:38:34.692 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:38:34.694 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:38:34.699 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:38:34.702 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:38:34.705 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:38:34.709 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:38:34.711 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:38:34.713 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:38:34.716 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:38:34.718 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:38:34.721 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:38:34.723 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:38:34.725 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:38:34.728 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:38:34.732 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:38:34.735 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:38:34.739 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:38:34.742 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:38:34.744 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:00000007": started reading request body.
2024-01-18 16:38:34.747 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:00000007": done reading request body.
2024-01-18 16:38:34.750 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:38:34.753 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:38:34.755 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:38:34.758 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:38:34.791 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:38:34.798 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:38:34.802 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-18 16:38:34.803 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:34.805 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:34.807 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:38:34.808 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:38:34.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-18 16:38:34.813 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:38:34.833 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:38:34.837 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:34.839 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 16:38:34.841 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:34.843 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:38:34.847 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:38:34.849 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:38:34.850 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:38:34.851 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:38:34.853 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:38:34.855 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-18 16:38:34.861 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 136.1307ms
2024-01-18 16:38:34.863 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:38:34.865 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:38:34.867 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:34.869 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 16:38:34.870 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 37 application/json; charset=utf-8 195.7769ms
2024-01-18 16:38:52.230 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:38:52.233 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:38:52.234 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:38:52.236 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:38:52.236 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:38:52.237 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 8.4132ms
2024-01-18 16:38:52.239 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 109
2024-01-18 16:38:52.250 +06:00 [DBG] POST requests are not supported
2024-01-18 16:38:52.251 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:38:52.252 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:38:52.253 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:38:52.254 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:38:52.257 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:38:52.259 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:38:52.260 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:38:52.263 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:38:52.265 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:38:52.267 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:38:52.270 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:38:52.273 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:38:52.275 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:38:52.282 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:38:52.284 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:38:52.287 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:38:52.289 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:38:52.291 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:38:52.293 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:0000000B": started reading request body.
2024-01-18 16:38:52.295 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:0000000B": done reading request body.
2024-01-18 16:38:52.298 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:38:52.300 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:38:52.302 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:38:52.303 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:38:52.385 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:38:52.391 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:38:52.393 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 16:38:52.394 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.397 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.399 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:38:52.400 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:38:52.402 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-18 16:38:52.404 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:38:52.421 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:38:52.426 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.428 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:38:52.429 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.432 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:38:52.434 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.437 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.439 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:38:52.441 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:38:52.443 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:38:52.445 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:38:52.452 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:38:52.455 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.457 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 16:38:52.459 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:52.460 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-18 16:38:57.503 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:38:57.506 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:38:57.506 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:38:57.507 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:38:57.507 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:38:57.508 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-18 16:38:57.509 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 5234.1654ms
2024-01-18 16:38:57.510 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:38:57.511 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:38:57.512 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:38:57.513 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-18 16:38:57.516 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 33 application/json; charset=utf-8 5276.8859ms
2024-01-18 16:39:12.125 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:39:12.128 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:39:12.130 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:39:12.132 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:39:12.134 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:39:12.135 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 10.6862ms
2024-01-18 16:39:12.137 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 110
2024-01-18 16:39:12.141 +06:00 [DBG] POST requests are not supported
2024-01-18 16:39:12.142 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:39:12.143 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:39:12.144 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:39:12.147 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:39:12.149 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:39:12.151 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:39:12.153 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:39:12.155 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:39:12.157 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:39:12.163 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:39:12.170 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:39:12.172 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:39:12.175 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:39:12.177 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:39:12.180 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:39:12.181 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:39:12.183 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:39:12.185 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:39:12.187 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:0000000F": started reading request body.
2024-01-18 16:39:12.189 +06:00 [DBG] Connection id "0HN0O24LRK801", Request id "0HN0O24LRK801:0000000F": done reading request body.
2024-01-18 16:39:12.191 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:39:12.193 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:39:12.194 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:39:12.196 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:39:12.204 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:39:12.208 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:39:12.209 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 16:39:12.211 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.214 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.216 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:39:12.219 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:39:12.222 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-18 16:39:12.225 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:39:12.230 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:39:12.235 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.238 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:39:12.241 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.243 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:39:12.246 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.248 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.250 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:39:12.252 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:39:12.254 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:39:12.257 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:39:12.262 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:39:12.267 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.270 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:39:12.273 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:39:12.276 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:45:57.304 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-18 16:45:57.372 +06:00 [DBG] Hosting starting
2024-01-18 16:45:57.486 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-18 16:45:57.488 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-18 16:45:57.489 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-18 16:45:57.490 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-18 16:45:57.491 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-18 16:45:57.493 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-18 16:45:57.494 +06:00 [INF] Hosting environment: Development
2024-01-18 16:45:57.496 +06:00 [INF] Content root path: C:\Users\smriad\Documents\GitHub\CityInfo\CityInfo.API\CityInfo.API
2024-01-18 16:45:57.497 +06:00 [DBG] Hosting started
2024-01-18 16:46:03.098 +06:00 [DBG] Connection id "0HN0O2ALA36U6" accepted.
2024-01-18 16:46:03.101 +06:00 [DBG] Connection id "0HN0O2ALA36U6" started.
2024-01-18 16:46:03.175 +06:00 [DBG] Connection 0HN0O2ALA36U6 established using the following protocol: "Tls13"
2024-01-18 16:46:03.248 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:46:03.261 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-18 16:46:03.276 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:46:03.281 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:46:03.283 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:46:03.285 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:46:03.290 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 49.0877ms
2024-01-18 16:46:03.296 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 110
2024-01-18 16:46:03.302 +06:00 [DBG] POST requests are not supported
2024-01-18 16:46:03.303 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:46:03.305 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:46:03.336 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:46:03.344 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:46:03.347 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:46:03.355 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:46:03.389 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:46:03.397 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:46:03.399 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:46:03.402 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:46:03.406 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:46:03.407 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:46:03.410 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:46:03.570 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-18 16:46:03.778 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:46:03.783 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:46:03.787 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:46:03.790 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:46:03.791 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:46:03.805 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:00000003": started reading request body.
2024-01-18 16:46:03.806 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:00000003": done reading request body.
2024-01-18 16:46:03.899 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:46:03.903 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:46:03.905 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:46:03.914 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:46:04.698 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:46:04.778 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-18 16:46:04.982 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 16:46:05.049 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:46:05.079 +06:00 [DBG] Created DbConnection. (26ms).
2024-01-18 16:46:05.086 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.452 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.461 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:46:05.472 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-01-18 16:46:05.484 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (24ms).
2024-01-18 16:46:05.500 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:05.607 +06:00 [INF] Executed DbCommand (109ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:05.633 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.647 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 27ms reading results.
2024-01-18 16:46:05.655 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.665 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-18 16:46:05.671 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.email == __email_0)'
2024-01-18 16:46:05.678 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.email == @__email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-18 16:46:05.682 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.686 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.688 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:46:05.691 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:46:05.693 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:46:05.695 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:05.706 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:05.710 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.713 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-18 16:46:05.716 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:05.718 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:46:23.059 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:46:23.065 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:46:23.067 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:46:23.069 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:46:23.071 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:46:23.073 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-18 16:46:23.126 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 19713.6874ms
2024-01-18 16:46:23.130 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:46:23.139 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:46:23.148 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:23.155 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-18 16:46:23.158 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 130 application/json; charset=utf-8 19862.7499ms
2024-01-18 16:46:52.218 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:46:52.234 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:46:52.237 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:46:52.239 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:46:52.241 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:46:52.242 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 25.4734ms
2024-01-18 16:46:52.244 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 115
2024-01-18 16:46:52.250 +06:00 [DBG] POST requests are not supported
2024-01-18 16:46:52.252 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:46:52.254 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:46:52.257 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:46:52.259 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:46:52.262 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:46:52.264 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:46:52.267 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:46:52.271 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:46:52.274 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:46:52.276 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:46:52.278 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:46:52.280 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:46:52.284 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:46:52.288 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:46:52.292 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:46:52.293 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:46:52.296 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:46:52.299 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:46:52.302 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:00000007": started reading request body.
2024-01-18 16:46:52.305 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:00000007": done reading request body.
2024-01-18 16:46:52.309 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:46:52.311 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:46:52.313 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:46:52.315 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:46:52.335 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:46:52.347 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:46:52.350 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-18 16:46:52.352 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.355 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.358 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:46:52.360 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:46:52.362 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:46:52.365 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:52.387 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:52.394 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.397 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-18 16:46:52.400 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.404 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-18 16:46:52.408 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.411 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.415 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:46:52.418 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 16:46:52.421 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-18 16:46:52.423 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:52.433 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:46:52.438 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.441 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:46:52.444 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:46:52.447 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:47:00.044 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:47:00.048 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:47:00.050 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:47:00.051 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:47:00.053 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:47:00.055 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-18 16:47:00.058 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 7773.7001ms
2024-01-18 16:47:00.060 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:47:00.062 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:47:00.063 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:00.065 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-18 16:47:00.067 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 91 application/json; charset=utf-8 7824.005ms
2024-01-18 16:47:40.651 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:47:40.662 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:47:40.663 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:47:40.664 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:47:40.666 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:47:40.667 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 17.4536ms
2024-01-18 16:47:40.709 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 118
2024-01-18 16:47:40.727 +06:00 [DBG] POST requests are not supported
2024-01-18 16:47:40.729 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:47:40.731 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:47:40.732 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:47:40.734 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:47:40.737 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:47:40.741 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:47:40.742 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:47:40.744 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:47:40.747 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:47:40.748 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:47:40.750 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:47:40.753 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:47:40.755 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:47:40.762 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:47:40.764 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:47:40.767 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:47:40.770 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:47:40.773 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:47:40.776 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:0000000B": started reading request body.
2024-01-18 16:47:40.778 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:0000000B": done reading request body.
2024-01-18 16:47:40.780 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:47:40.781 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:47:40.782 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:47:40.784 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:47:40.867 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:47:40.874 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:47:40.876 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-18 16:47:40.878 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.880 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.883 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:47:40.885 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:47:40.887 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:47:40.889 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:40.904 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:40.909 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.912 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:47:40.914 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.916 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 16:47:40.919 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.922 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.925 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:47:40.927 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:47:40.929 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:47:40.932 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:40.938 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:40.942 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.945 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-18 16:47:40.949 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:40.951 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 16:47:45.739 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:47:45.741 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:47:45.741 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:47:45.742 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:47:45.743 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:47:45.744 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-18 16:47:45.745 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 4989.233ms
2024-01-18 16:47:45.746 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:47:45.752 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:47:45.754 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:45.757 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-18 16:47:45.760 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 56 application/json; charset=utf-8 5052.7141ms
2024-01-18 16:47:54.744 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-18 16:47:54.751 +06:00 [DBG] OPTIONS requests are not supported
2024-01-18 16:47:54.753 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:47:54.754 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:47:54.756 +06:00 [DBG] The request is a preflight request.
2024-01-18 16:47:54.757 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 13.6099ms
2024-01-18 16:47:54.760 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 119
2024-01-18 16:47:54.770 +06:00 [DBG] POST requests are not supported
2024-01-18 16:47:54.771 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-18 16:47:54.772 +06:00 [INF] CORS policy execution successful.
2024-01-18 16:47:54.773 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-18 16:47:54.777 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-18 16:47:54.781 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:47:54.784 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:47:54.786 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-18 16:47:54.789 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-18 16:47:54.791 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-18 16:47:54.795 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-18 16:47:54.799 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-18 16:47:54.801 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-18 16:47:54.804 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:47:54.807 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-18 16:47:54.809 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:47:54.811 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-18 16:47:54.812 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-18 16:47:54.814 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-18 16:47:54.817 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:0000000F": started reading request body.
2024-01-18 16:47:54.819 +06:00 [DBG] Connection id "0HN0O2ALA36U6", Request id "0HN0O2ALA36U6:0000000F": done reading request body.
2024-01-18 16:47:54.822 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:47:54.824 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:47:54.827 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-18 16:47:54.828 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-18 16:47:54.831 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-18 16:47:54.834 +06:00 [DBG] Creating DbConnection.
2024-01-18 16:47:54.835 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-18 16:47:54.837 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.839 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.842 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:47:54.844 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:47:54.846 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-18 16:47:54.849 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:54.856 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:54.859 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.861 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-18 16:47:54.863 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.866 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-18 16:47:54.868 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.870 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.872 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:47:54.873 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-18 16:47:54.875 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-18 16:47:54.877 +06:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:54.881 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-18 16:47:54.883 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.885 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-18 16:47:54.888 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:47:54.889 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-18 16:48:03.059 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'User.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:48:03.143 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:48:03.151 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-18 16:48:03.157 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-18 16:48:03.175 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-18 16:48:03.274 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:48:03.279 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:48:03.286 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-18 16:48:03.290 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-18 16:48:03.293 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-18 16:48:03.296 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-01-18 16:48:03.305 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 4000), @p3='?' (Size = 50), @p4='?' (Size = 4000), @p5='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([email], [firstName], [lastName], [password], [token], [userName])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2024-01-18 16:48:03.331 +06:00 [DBG] The foreign key property 'User.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-18 16:48:03.346 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-18 16:48:03.349 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 39ms reading results.
2024-01-18 16:48:03.354 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:48:03.358 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-18 16:48:03.377 +06:00 [DBG] An entity of type 'User' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-18 16:48:03.383 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-18 16:48:04.514 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-18 16:48:04.517 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-18 16:48:04.518 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-18 16:48:04.518 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-18 16:48:04.518 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-18 16:48:04.520 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Entities.User'.
2024-01-18 16:48:04.537 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 9732.8788ms
2024-01-18 16:48:04.541 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-18 16:48:04.543 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-18 16:48:04.545 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-18 16:48:04.546 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-18 16:48:04.548 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 200 208 application/json; charset=utf-8 9789.0327ms
