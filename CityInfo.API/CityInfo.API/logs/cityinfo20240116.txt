2024-01-16 09:50:22.868 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 09:50:22.948 +06:00 [DBG] Hosting starting
2024-01-16 09:50:23.111 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 09:50:23.114 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 09:50:23.115 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 09:50:23.116 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 09:50:23.117 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 09:50:23.118 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 09:50:23.120 +06:00 [INF] Hosting environment: Development
2024-01-16 09:50:23.121 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 09:50:23.122 +06:00 [DBG] Hosting started
2024-01-16 09:50:23.254 +06:00 [DBG] Connection id "0HN0M8P28074E" accepted.
2024-01-16 09:50:23.256 +06:00 [DBG] Connection id "0HN0M8P28074E" started.
2024-01-16 09:50:23.309 +06:00 [DBG] Connection 0HN0M8P28074E established using the following protocol: "Tls13"
2024-01-16 09:50:23.352 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-16 09:50:23.483 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 09:50:23.536 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-16 09:50:23.553 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-16 09:50:23.557 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 208.1419ms
2024-01-16 09:50:23.579 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-16 09:50:23.579 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-16 09:50:23.602 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 23.512ms
2024-01-16 09:50:25.645 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 2066.507ms
2024-01-16 09:50:25.669 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-16 09:50:25.767 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.5815ms
2024-01-16 09:50:35.903 +06:00 [DBG] Connection id "0HN0M8P28074E" received FIN.
2024-01-16 09:50:35.943 +06:00 [DBG] The connection queue processing loop for 0HN0M8P28074E completed.
2024-01-16 09:50:35.945 +06:00 [DBG] Connection id "0HN0M8P28074E" is closed. The last processed stream ID was 7.
2024-01-16 09:50:35.981 +06:00 [DBG] Connection id "0HN0M8P28074E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 09:50:36.003 +06:00 [DBG] Connection id "0HN0M8P28074E" stopped.
2024-01-16 09:51:04.784 +06:00 [DBG] Connection id "0HN0M8P28074F" accepted.
2024-01-16 09:51:04.793 +06:00 [DBG] Connection id "0HN0M8P28074F" started.
2024-01-16 09:51:04.797 +06:00 [DBG] Connection 0HN0M8P28074F established using the following protocol: "Tls13"
2024-01-16 09:51:04.804 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/{cityID}/pointsofinterest/userId?userId=1 - application/json-patch+json 54
2024-01-16 09:51:04.809 +06:00 [DBG] POST requests are not supported
2024-01-16 09:51:04.811 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-16 09:51:04.813 +06:00 [INF] CORS policy execution successful.
2024-01-16 09:51:04.830 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/{cityID}/pointsofinterest/userId'
2024-01-16 09:51:04.833 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/userId' is valid for the request path '/api/cities/{cityID}/pointsofinterest/userId'
2024-01-16 09:51:04.836 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:51:04.840 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:51:04.863 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 09:51:04.867 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 09:51:04.869 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 09:51:04.870 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 09:51:04.873 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 09:51:04.876 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 09:51:04.879 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:51:04.985 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 09:51:05.068 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:51:05.077 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:51:05.079 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 09:51:05.087 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:51:05.089 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:51:05.092 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:51:05.095 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:51:05.097 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:51:05.099 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 09:51:05.102 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:51:05.103 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:51:05.106 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:51:05.109 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 09:51:05.111 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:51:05.113 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 09:51:05.115 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-16 09:51:05.117 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-16 09:51:05.124 +06:00 [DBG] Connection id "0HN0M8P28074F", Request id "0HN0M8P28074F:00000001": started reading request body.
2024-01-16 09:51:05.126 +06:00 [DBG] Connection id "0HN0M8P28074F", Request id "0HN0M8P28074F:00000001": done reading request body.
2024-01-16 09:51:05.175 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:51:05.177 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:51:05.179 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:51:05.183 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:51:05.185 +06:00 [DBG] The request has model state errors, returning an error response.
2024-01-16 09:51:05.187 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-16 09:51:05.190 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 09:51:05.196 +06:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-01-16 09:51:05.199 +06:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-16 09:51:05.201 +06:00 [WRN] No output formatter was found for content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]' to write the response.
2024-01-16 09:51:05.205 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 324.7558ms
2024-01-16 09:51:05.207 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:51:05.210 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/{cityID}/pointsofinterest/userId?userId=1 - 406 0 null 406.9928ms
2024-01-16 09:51:22.542 +06:00 [DBG] Connection id "0HN0M8P28074F" received FIN.
2024-01-16 09:51:22.559 +06:00 [DBG] Connection id "0HN0M8P28074F" is closed. The last processed stream ID was 1.
2024-01-16 09:51:22.559 +06:00 [DBG] The connection queue processing loop for 0HN0M8P28074F completed.
2024-01-16 09:51:22.564 +06:00 [DBG] Connection id "0HN0M8P28074F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 09:51:22.576 +06:00 [DBG] Connection id "0HN0M8P28074F" stopped.
2024-01-16 09:53:58.409 +06:00 [DBG] Connection id "0HN0M8P28074G" accepted.
2024-01-16 09:53:58.411 +06:00 [DBG] Connection id "0HN0M8P28074G" started.
2024-01-16 09:53:58.416 +06:00 [DBG] Connection 0HN0M8P28074G established using the following protocol: "Tls13"
2024-01-16 09:53:58.422 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/index.html - null null
2024-01-16 09:53:58.433 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-01-16 09:53:58.444 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-01-16 09:53:58.446 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/index.html - 200 null text/html;charset=utf-8 24.1743ms
2024-01-16 09:53:58.455 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - null null
2024-01-16 09:53:58.456 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/_vs/browserLink - null null
2024-01-16 09:53:58.459 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript; charset=utf-8 4.4995ms
2024-01-16 09:53:58.480 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/_vs/browserLink - 200 null text/javascript; charset=UTF-8 24.2125ms
2024-01-16 09:53:58.550 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - null null
2024-01-16 09:53:58.564 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.9313ms
2024-01-16 09:54:25.838 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/{cityID}/pointsofinterest/userId?userId=1 - application/json-patch+json 54
2024-01-16 09:54:25.842 +06:00 [DBG] POST requests are not supported
2024-01-16 09:54:25.843 +06:00 [DBG] The request has an origin header: 'https://localhost:7156'.
2024-01-16 09:54:25.845 +06:00 [INF] CORS policy execution successful.
2024-01-16 09:54:25.847 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/{cityID}/pointsofinterest/userId'
2024-01-16 09:54:25.848 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/userId' is valid for the request path '/api/cities/{cityID}/pointsofinterest/userId'
2024-01-16 09:54:25.850 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:54:25.852 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:54:25.853 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 09:54:25.855 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 09:54:25.857 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 09:54:25.859 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 09:54:25.862 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 09:54:25.864 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 09:54:25.865 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:54:25.876 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:54:25.879 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:54:25.880 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 09:54:25.882 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:54:25.884 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:54:25.885 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:54:25.886 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:54:25.888 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:54:25.889 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 09:54:25.892 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:54:25.893 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:54:25.895 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:54:25.896 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 09:54:25.898 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:54:25.900 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 09:54:25.902 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2024-01-16 09:54:25.904 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2024-01-16 09:54:25.905 +06:00 [DBG] Connection id "0HN0M8P28074G", Request id "0HN0M8P28074G:00000009": started reading request body.
2024-01-16 09:54:25.906 +06:00 [DBG] Connection id "0HN0M8P28074G", Request id "0HN0M8P28074G:00000009": done reading request body.
2024-01-16 09:54:25.909 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:54:25.910 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:54:25.912 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:54:25.913 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:54:25.915 +06:00 [DBG] The request has model state errors, returning an error response.
2024-01-16 09:54:25.916 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-01-16 09:54:25.917 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 09:54:25.920 +06:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2024-01-16 09:54:25.924 +06:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2024-01-16 09:54:25.926 +06:00 [WRN] No output formatter was found for content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]' to write the response.
2024-01-16 09:54:25.929 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 63.2891ms
2024-01-16 09:54:25.931 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:54:25.932 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/{cityID}/pointsofinterest/userId?userId=1 - 406 0 null 94.679ms
2024-01-16 09:55:12.213 +06:00 [DBG] Connection id "0HN0M8P28074H" accepted.
2024-01-16 09:55:12.213 +06:00 [DBG] Connection id "0HN0M8P28074H" received FIN.
2024-01-16 09:55:12.223 +06:00 [DBG] Connection id "0HN0M8P28074I" accepted.
2024-01-16 09:55:12.220 +06:00 [DBG] Connection id "0HN0M8P28074H" started.
2024-01-16 09:55:12.226 +06:00 [DBG] Connection id "0HN0M8P28074I" started.
2024-01-16 09:55:12.231 +06:00 [DBG] Connection 0HN0M8P28074I established using the following protocol: "Tls13"
2024-01-16 09:55:12.235 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 09:55:12.235 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - application/json 90
2024-01-16 09:55:12.257 +06:00 [DBG] Connection id "0HN0M8P28074H" stopped.
2024-01-16 09:55:12.260 +06:00 [DBG] POST requests are not supported
2024-01-16 09:55:12.261 +06:00 [DBG] Connection id "0HN0M8P28074H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 09:55:12.262 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest/1'
2024-01-16 09:55:12.265 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-01-16 09:55:12.267 +06:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-01-16 09:55:12.269 +06:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-01-16 09:55:12.271 +06:00 [DBG] Connection id "0HN0M8P28074I" completed keep alive response.
2024-01-16 09:55:12.272 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - 405 0 null 37.1555ms
2024-01-16 09:55:12.276 +06:00 [DBG] Connection id "0HN0M8P28074I", Request id "0HN0M8P28074I:00000001": started reading request body.
2024-01-16 09:55:12.277 +06:00 [DBG] Connection id "0HN0M8P28074I", Request id "0HN0M8P28074I:00000001": done reading request body.
2024-01-16 09:55:47.737 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 09:55:47.805 +06:00 [DBG] Hosting starting
2024-01-16 09:55:47.959 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 09:55:47.960 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 09:55:47.961 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 09:55:47.962 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 09:55:47.963 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 09:55:47.965 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 09:55:47.966 +06:00 [INF] Hosting environment: Development
2024-01-16 09:55:47.968 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 09:55:47.969 +06:00 [DBG] Hosting started
2024-01-16 09:55:52.759 +06:00 [DBG] Connection id "0HN0M8S4ED8TC" received FIN.
2024-01-16 09:55:52.764 +06:00 [DBG] Connection id "0HN0M8S4ED8TC" accepted.
2024-01-16 09:55:52.767 +06:00 [DBG] Connection id "0HN0M8S4ED8TC" started.
2024-01-16 09:55:52.768 +06:00 [DBG] Connection id "0HN0M8S4ED8TD" accepted.
2024-01-16 09:55:52.769 +06:00 [DBG] Connection id "0HN0M8S4ED8TD" started.
2024-01-16 09:55:52.777 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 09:55:52.799 +06:00 [DBG] Connection id "0HN0M8S4ED8TC" stopped.
2024-01-16 09:55:52.802 +06:00 [DBG] Connection id "0HN0M8S4ED8TC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 09:55:52.804 +06:00 [DBG] Connection 0HN0M8S4ED8TD established using the following protocol: "Tls13"
2024-01-16 09:55:52.817 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - application/json 90
2024-01-16 09:55:52.823 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 09:55:52.830 +06:00 [DBG] POST requests are not supported
2024-01-16 09:55:52.842 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest/1'
2024-01-16 09:55:52.844 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-01-16 09:55:52.848 +06:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-01-16 09:55:52.850 +06:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-01-16 09:55:52.852 +06:00 [DBG] Connection id "0HN0M8S4ED8TD" completed keep alive response.
2024-01-16 09:55:52.854 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - 405 0 null 38.8147ms
2024-01-16 09:55:52.859 +06:00 [DBG] Connection id "0HN0M8S4ED8TD", Request id "0HN0M8S4ED8TD:00000001": started reading request body.
2024-01-16 09:55:52.860 +06:00 [DBG] Connection id "0HN0M8S4ED8TD", Request id "0HN0M8S4ED8TD:00000001": done reading request body.
2024-01-16 09:57:14.155 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 09:57:14.214 +06:00 [DBG] Hosting starting
2024-01-16 09:57:14.330 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 09:57:14.331 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 09:57:14.332 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 09:57:14.334 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 09:57:14.335 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 09:57:14.336 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 09:57:14.337 +06:00 [INF] Hosting environment: Development
2024-01-16 09:57:14.338 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 09:57:14.339 +06:00 [DBG] Hosting started
2024-01-16 09:57:16.571 +06:00 [DBG] Connection id "0HN0M8STDMQAP" received FIN.
2024-01-16 09:57:16.576 +06:00 [DBG] Connection id "0HN0M8STDMQAP" accepted.
2024-01-16 09:57:16.579 +06:00 [DBG] Connection id "0HN0M8STDMQAP" started.
2024-01-16 09:57:16.580 +06:00 [DBG] Connection id "0HN0M8STDMQAQ" accepted.
2024-01-16 09:57:16.582 +06:00 [DBG] Connection id "0HN0M8STDMQAQ" started.
2024-01-16 09:57:16.591 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 09:57:16.617 +06:00 [DBG] Connection id "0HN0M8STDMQAP" stopped.
2024-01-16 09:57:16.621 +06:00 [DBG] Connection 0HN0M8STDMQAQ established using the following protocol: "Tls13"
2024-01-16 09:57:16.621 +06:00 [DBG] Connection id "0HN0M8STDMQAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 09:57:16.635 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - application/json 90
2024-01-16 09:57:16.644 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 09:57:16.652 +06:00 [DBG] POST requests are not supported
2024-01-16 09:57:16.667 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest/1'
2024-01-16 09:57:16.671 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/65/pointsofinterest/1'
2024-01-16 09:57:16.674 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:57:16.677 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:57:16.694 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 09:57:16.698 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 09:57:16.700 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 09:57:16.702 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 09:57:16.705 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 09:57:16.707 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 09:57:16.710 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:57:16.793 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 09:57:16.891 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:57:16.894 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:57:16.897 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 09:57:16.901 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:57:16.903 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:57:16.904 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:57:16.907 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:57:16.909 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:57:16.911 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 09:57:16.913 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:57:16.915 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:57:16.918 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:57:16.919 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 09:57:16.921 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:57:16.923 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 09:57:16.925 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 09:57:16.927 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 09:57:16.931 +06:00 [DBG] Connection id "0HN0M8STDMQAQ", Request id "0HN0M8STDMQAQ:00000001": started reading request body.
2024-01-16 09:57:16.937 +06:00 [DBG] Connection id "0HN0M8STDMQAQ", Request id "0HN0M8STDMQAQ:00000001": done reading request body.
2024-01-16 09:57:16.996 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:57:16.998 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:57:17.001 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:57:17.006 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:57:22.636 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 09:57:22.750 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-16 09:57:22.995 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 09:57:23.079 +06:00 [DBG] Creating DbConnection.
2024-01-16 09:57:23.124 +06:00 [DBG] Created DbConnection. (44ms).
2024-01-16 09:57:23.131 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:23.585 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:23.592 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:57:23.602 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-16 09:57:23.614 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-01-16 09:57:23.627 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:57:23.722 +06:00 [INF] Executed DbCommand (98ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:57:23.747 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:23.759 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 24ms reading results.
2024-01-16 09:57:23.765 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:23.772 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-16 09:57:26.730 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.Id == __userId_0)'
2024-01-16 09:57:26.737 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Id == @__userId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 09:57:26.742 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:26.745 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:26.747 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:57:26.750 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 09:57:26.752 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 09:57:26.753 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:57:26.764 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:57:26.767 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:26.770 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 09:57:26.773 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:26.775 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 09:57:36.240 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-16 09:57:36.302 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 09:57:36.313 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:36.317 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:36.319 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:57:36.321 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 09:57:36.323 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 09:57:36.325 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 09:57:36.342 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 09:57:36.385 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:36.412 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:36.415 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 69ms reading results.
2024-01-16 09:57:36.418 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:36.420 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 09:57:41.105 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Id == __userId_0)
    .FirstOrDefault()'
2024-01-16 09:57:41.113 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.email (string) Required MaxLength(50), 1], [Property: User.firstName (string) Required MaxLength(50), 2], [Property: User.lastName (string) Required, 3], [Property: User.password (string) Required MaxLength(50), 4], [Property: User.userName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.email, u.firstName, u.lastName, u.password, u.userName
            FROM Users AS u
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 09:57:41.117 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:41.119 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:41.122 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:57:41.124 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 09:57:41.126 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 09:57:41.128 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 09:57:41.148 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 09:57:41.174 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:41.188 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:41.208 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:41.210 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 56ms reading results.
2024-01-16 09:57:41.213 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:41.216 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 09:57:50.044 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 09:57:50.049 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 09:57:50.070 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:50.116 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:50.150 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:50.159 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:50.172 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:50.183 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 09:57:50.191 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:50.198 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 09:57:50.306 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:50.310 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:50.317 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:57:50.320 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 09:57:50.323 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-16 09:57:50.326 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 09:57:50.349 +06:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 09:57:50.366 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 09:57:50.374 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:50.379 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 25ms reading results.
2024-01-16 09:57:50.384 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:50.387 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 09:57:50.400 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:57:50.406 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 09:57:52.790 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-16 09:57:52.797 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 36084.6678ms
2024-01-16 09:57:52.802 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:57:52.811 +06:00 [DBG] Connection id "0HN0M8STDMQAQ" completed keep alive response.
2024-01-16 09:57:52.818 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 09:57:52.825 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:57:52.830 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-16 09:57:52.833 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - 200 0 null 36199.6976ms
2024-01-16 09:59:07.846 +06:00 [INF] Request starting HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - application/json 90
2024-01-16 09:59:07.851 +06:00 [DBG] POST requests are not supported
2024-01-16 09:59:07.859 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest/1'
2024-01-16 09:59:07.860 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/65/pointsofinterest/1'
2024-01-16 09:59:07.863 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:59:07.865 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:59:07.866 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 09:59:07.869 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 09:59:07.872 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 09:59:07.874 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 09:59:07.876 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 09:59:07.880 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 09:59:07.882 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:59:07.885 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 09:59:07.895 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:59:07.897 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 09:59:07.899 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:59:07.901 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:59:07.903 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 09:59:07.904 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 09:59:07.907 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:59:07.909 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 09:59:07.911 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:59:07.913 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 09:59:07.915 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 09:59:07.918 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 09:59:07.920 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:59:07.922 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 09:59:07.924 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 09:59:07.926 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 09:59:07.928 +06:00 [DBG] Connection id "0HN0M8STDMQAQ", Request id "0HN0M8STDMQAQ:00000002": started reading request body.
2024-01-16 09:59:07.930 +06:00 [DBG] Connection id "0HN0M8STDMQAQ", Request id "0HN0M8STDMQAQ:00000002": done reading request body.
2024-01-16 09:59:07.932 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:59:07.934 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:59:07.936 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 09:59:07.939 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 09:59:11.515 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 09:59:11.533 +06:00 [DBG] Creating DbConnection.
2024-01-16 09:59:11.535 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 09:59:11.537 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.540 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.542 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:59:11.544 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 09:59:11.547 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 09:59:11.550 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:59:11.575 +06:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:59:11.584 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.589 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 09:59:11.594 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.598 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 09:59:11.732 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.734 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.736 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:59:11.737 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 09:59:11.741 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 09:59:11.744 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:59:11.754 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 09:59:11.760 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.763 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 09:59:11.767 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:11.772 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 09:59:12.896 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:12.898 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:12.900 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:59:12.902 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 09:59:12.904 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 09:59:12.907 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 09:59:12.912 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 09:59:12.915 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:12.917 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:12.919 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 09:59:12.921 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:12.923 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 09:59:13.396 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:13.398 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:13.399 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:59:13.400 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 09:59:13.402 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 09:59:13.404 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 09:59:13.410 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 09:59:13.413 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:13.415 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:13.418 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:13.421 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 8ms reading results.
2024-01-16 09:59:13.424 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:13.427 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 09:59:14.916 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 09:59:14.918 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 09:59:14.919 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:14.922 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:14.924 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:14.926 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:14.928 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:14.931 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 09:59:14.932 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:14.934 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 09:59:14.937 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:14.940 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:14.942 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 09:59:14.943 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 09:59:14.946 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 09:59:14.948 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 09:59:14.966 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 09:59:14.970 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 09:59:14.972 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:14.975 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 09:59:14.977 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:14.979 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 09:59:14.982 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 09:59:14.985 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 09:59:15.806 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-16 09:59:15.808 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 7925.7765ms
2024-01-16 09:59:15.809 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 09:59:15.810 +06:00 [DBG] Connection id "0HN0M8STDMQAQ" completed keep alive response.
2024-01-16 09:59:15.811 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 09:59:15.811 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 09:59:15.812 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 09:59:15.813 +06:00 [INF] Request finished HTTP/1.1 POST https://localhost:7156/api/cities/65/pointsofinterest/1 - 200 0 null 7967.7826ms
2024-01-16 10:00:58.496 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 10:00:58.574 +06:00 [DBG] Hosting starting
2024-01-16 10:00:58.704 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 10:00:58.706 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 10:00:58.707 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 10:00:58.708 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 10:00:58.709 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 10:00:58.712 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 10:00:58.713 +06:00 [INF] Hosting environment: Development
2024-01-16 10:00:58.714 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 10:00:58.715 +06:00 [DBG] Hosting started
2024-01-16 10:01:09.143 +06:00 [DBG] Connection id "0HN0M8V2NLU5O" accepted.
2024-01-16 10:01:09.145 +06:00 [DBG] Connection id "0HN0M8V2NLU5O" started.
2024-01-16 10:01:09.227 +06:00 [DBG] Connection 0HN0M8V2NLU5O established using the following protocol: "Tls13"
2024-01-16 10:01:09.301 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:01:09.318 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 10:01:09.342 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:01:09.345 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:01:09.347 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:01:09.373 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:01:09.380 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:01:09.384 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:01:09.389 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:01:09.419 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:01:09.427 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:01:09.430 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:01:09.433 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:01:09.436 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:01:09.440 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:01:09.445 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:01:09.596 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 10:01:09.832 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:01:10.624 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:01:10.700 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-16 10:01:10.951 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:01:10.992 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:01:11.017 +06:00 [DBG] Created DbConnection. (22ms).
2024-01-16 10:01:11.023 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:11.366 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:11.371 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:01:11.380 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:01:11.390 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-01-16 10:01:11.399 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:01:11.472 +06:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:01:11.527 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:11.556 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:11.559 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:11.561 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:11.563 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:11.565 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:11.575 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:11.583 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 101ms reading results.
2024-01-16 10:01:11.591 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:11.600 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-16 10:01:11.623 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:01:11.634 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:01:11.636 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:01:11.637 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:01:11.639 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:01:11.642 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:01:11.756 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2308.8557ms
2024-01-16 10:01:11.758 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:01:11.764 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:01:11.770 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:11.774 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-16 10:01:11.776 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 2482.9411ms
2024-01-16 10:01:17.387 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:01:17.394 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:01:17.398 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:01:17.401 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:01:17.406 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:01:17.411 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:01:17.416 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:01:17.418 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:01:17.434 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:01:17.439 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:01:17.442 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:01:17.444 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:01:17.446 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:01:17.450 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:01:17.454 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:01:17.461 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:01:17.471 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:01:17.477 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:01:17.482 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:17.485 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:17.489 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:01:17.496 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:17.531 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:01:17.545 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-16 10:01:17.579 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:01:17.610 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:01:17.615 +06:00 [DBG] Created DbConnection. (4ms).
2024-01-16 10:01:17.617 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:17.623 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:17.627 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:01:17.629 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:01:17.636 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-16 10:01:17.643 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:01:17.677 +06:00 [INF] Executed DbCommand (38ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:01:17.685 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:17.690 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-16 10:01:17.693 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:17.697 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 10:01:17.700 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:01:17.709 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:01:17.716 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:01:17.718 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:01:17.723 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:01:17.725 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:01:17.747 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 293.86ms
2024-01-16 10:01:17.750 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:01:17.752 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:01:17.753 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:17.755 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:01:17.757 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 370.651ms
2024-01-16 10:01:22.919 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:01:22.928 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:01:22.930 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:01:22.933 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:01:22.934 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:01:22.937 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:01:22.941 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:01:22.945 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:01:22.947 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:01:22.951 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:01:22.954 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:01:22.957 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:01:22.960 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:01:22.962 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:01:22.967 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:01:22.975 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:01:22.978 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:01:22.981 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:01:22.984 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:22.987 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:22.989 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:01:22.991 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:23.076 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:01:23.083 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:01:23.085 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:01:23.086 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.088 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.090 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:01:23.092 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:01:23.094 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:01:23.097 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:01:23.103 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:01:23.106 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.108 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:01:23.109 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.111 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:01:23.116 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-01-16 10:01:23.124 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:01:23.128 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.131 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.132 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:01:23.133 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:01:23.135 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:01:23.137 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:01:23.147 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:01:23.154 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:23.165 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:23.167 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.169 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 18ms reading results.
2024-01-16 10:01:23.171 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.173 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:01:23.180 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:01:23.184 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:01:23.185 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:01:23.186 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:01:23.187 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:01:23.188 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:01:23.194 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 226.9573ms
2024-01-16 10:01:23.195 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:01:23.197 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:01:23.199 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:23.201 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:01:23.202 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 219 application/json; charset=utf-8 283.1823ms
2024-01-16 10:01:26.002 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/65/pointsofinterest/18 - null null
2024-01-16 10:01:26.009 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:01:26.011 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:01:26.013 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:01:26.015 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:01:26.017 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/65/pointsofinterest/18 - 204 null null 14.9742ms
2024-01-16 10:01:26.021 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/65/pointsofinterest/18 - null null
2024-01-16 10:01:26.029 +06:00 [DBG] DELETE requests are not supported
2024-01-16 10:01:26.031 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:01:26.033 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:01:26.035 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest/18'
2024-01-16 10:01:26.037 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/65/pointsofinterest/18'
2024-01-16 10:01:26.039 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:01:26.041 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:01:26.050 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:01:26.054 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:01:26.058 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:01:26.061 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:01:26.064 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:01:26.067 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:01:26.070 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:01:26.072 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:01:26.075 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:01:26.077 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:01:26.080 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:26.082 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:26.085 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:01:26.087 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:01:26.089 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:01:26.092 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 10:01:26.095 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:01:26.098 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:01:26.100 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:01:26.103 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:01:26.108 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:01:26.113 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:01:26.115 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:01:26.116 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.118 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.121 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:01:26.122 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:01:26.123 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:01:26.125 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:01:26.128 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:01:26.132 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.134 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:01:26.136 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.137 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:01:26.143 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-01-16 10:01:26.153 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name, p.userId
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:01:26.162 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.165 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.168 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:01:26.169 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:01:26.171 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:01:26.174 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:01:26.180 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:01:26.184 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:01:26.186 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.189 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:01:26.189 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:01:26.190 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 10:01:26.205 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:16.854 +06:00 [DBG] Connection id "0HN0M8V2NLU5O" received FIN.
2024-01-16 10:02:16.885 +06:00 [DBG] Connection id "0HN0M8V2NLU5P" accepted.
2024-01-16 10:02:16.943 +06:00 [DBG] Connection id "0HN0M8V2NLU5O" is closed. The last processed stream ID was 13.
2024-01-16 10:02:16.889 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:02:16.957 +06:00 [DBG] Connection id "0HN0M8V2NLU5Q" accepted.
2024-01-16 10:02:16.951 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:02:16.968 +06:00 [DBG] Connection id "0HN0M8V2NLU5O" sending RST because: "The client closed the connection."
2024-01-16 10:02:16.943 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:02:16.937 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/65/pointsofinterest/19 - null null
2024-01-16 10:02:16.959 +06:00 [DBG] Connection id "0HN0M8V2NLU5P" started.
2024-01-16 10:02:16.957 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:02:16.986 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:02:16.999 +06:00 [DBG] Connection 0HN0M8V2NLU5P established using the following protocol: "Tls13"
2024-01-16 10:02:16.978 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:02:16.990 +06:00 [DBG] Connection id "0HN0M8V2NLU5Q" received FIN.
2024-01-16 10:02:16.979 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:16.983 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:17.001 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.005 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:02:16.995 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:16.971 +06:00 [DBG] Connection id "0HN0M8V2NLU5Q" started.
2024-01-16 10:02:16.976 +06:00 [DBG] Connection id "0HN0M8V2NLU5R" accepted.
2024-01-16 10:02:16.989 +06:00 [DBG] Connection id "0HN0M8V2NLU5R" received FIN.
2024-01-16 10:02:17.006 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:02:17.009 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:02:17.028 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:17.011 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.013 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.014 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.017 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:17.019 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.023 +06:00 [DBG] Connection id "0HN0M8V2NLU5S" received FIN.
2024-01-16 10:02:17.024 +06:00 [DBG] Connection id "0HN0M8V2NLU5R" started.
2024-01-16 10:02:17.033 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.031 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:02:17.031 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:17.044 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.046 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.034 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.036 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.037 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:02:17.053 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/65/pointsofinterest/19 - 499 null null 115.9544ms
2024-01-16 10:02:17.040 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.047 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.049 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.050 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:17.052 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.039 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.029 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 10:02:17.059 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.061 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.062 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:17.064 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.065 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.057 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.042 +06:00 [DBG] Connection id "0HN0M8V2NLU5S" accepted.
2024-01-16 10:02:17.047 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 10:02:17.091 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.092 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.094 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.096 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.101 +06:00 [DBG] Connection id "0HN0M8V2NLU5S" started.
2024-01-16 10:02:17.098 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:17.100 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.106 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.108 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.109 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.110 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.113 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:17.091 +06:00 [DBG] Connection id "0HN0M8V2NLU5Q" stopped.
2024-01-16 10:02:17.102 +06:00 [DBG] Connection id "0HN0M8V2NLU5T" received FIN.
2024-01-16 10:02:17.117 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:17.119 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.120 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:17.121 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:17.116 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 10:02:17.123 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.116 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.106 +06:00 [DBG] Connection id "0HN0M8V2NLU5R" stopped.
2024-01-16 10:02:17.006 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:02:17.128 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:17.130 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.129 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:17.132 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:17.135 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:17.138 +06:00 [DBG] Connection id "0HN0M8V2NLU5S" stopped.
2024-01-16 10:02:17.139 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.148 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:17.151 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.153 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:17.156 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:17.158 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:17.140 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.127 +06:00 [DBG] Connection id "0HN0M8V2NLU5Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 10:02:17.126 +06:00 [DBG] Connection id "0HN0M8V2NLU5T" accepted.
2024-01-16 10:02:17.142 +06:00 [DBG] Connection id "0HN0M8V2NLU5R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 10:02:17.165 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:17.182 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:17.168 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:17.171 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:17.173 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:17.160 +06:00 [DBG] Connection id "0HN0M8V2NLU5S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 10:02:17.162 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:17.175 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:17.146 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:17.203 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.178 +06:00 [DBG] Connection id "0HN0M8V2NLU5T" started.
2024-01-16 10:02:17.169 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.184 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:17.207 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.191 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:17.208 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.206 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (36ms).
2024-01-16 10:02:17.187 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:17.194 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:17.218 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:17.201 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:17.204 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.006 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/65/pointsofinterest/19 - null null
2024-01-16 10:02:17.210 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 10:02:17.210 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:17.212 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.214 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (44ms).
2024-01-16 10:02:17.216 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:17.199 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:17.220 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.221 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:17.222 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.225 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:02:17.228 +06:00 [DBG] Connection id "0HN0M8V2NLU5T" stopped.
2024-01-16 10:02:17.230 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.244 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.233 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:02:17.235 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:17.231 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:17.253 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.251 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.254 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.256 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.258 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.246 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.238 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.237 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:17.239 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:17.243 +06:00 [DBG] Connection id "0HN0M8V2NLU5T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 10:02:17.240 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:02:17.241 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:17.255 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.260 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:17.261 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:17.276 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.277 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.277 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.278 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.280 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:17.265 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:17.284 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:17.272 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.273 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:17.274 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.274 +06:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:02:17.276 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:17.263 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.282 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:17.295 +06:00 [DBG] Created DbConnection. (13ms).
2024-01-16 10:02:17.296 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.287 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.294 +06:00 [DBG] Created DbConnection. (18ms).
2024-01-16 10:02:17.296 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.289 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:17.295 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:17.285 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:17.309 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.307 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.308 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 16ms reading results.
2024-01-16 10:02:17.316 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.310 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.314 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.326 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.329 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.324 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.326 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.329 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.268 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:17.312 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.303 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:17.288 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:02:17.332 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2024-01-16 10:02:17.334 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.336 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.338 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.339 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.340 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:17.342 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.344 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:17.346 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/65/pointsofinterest/19 - 204 null null 341.0503ms
2024-01-16 10:02:17.348 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2024-01-16 10:02:17.350 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:17.351 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.352 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:17.353 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:17.355 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.356 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2024-01-16 10:02:17.357 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:17.362 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-01-16 10:02:17.366 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:17.368 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:17.372 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.373 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:02:17.373 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.374 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2024-01-16 10:02:17.376 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:17.378 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.379 +06:00 [DBG] Created DbConnection. (13ms).
2024-01-16 10:02:17.382 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:17.384 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.386 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.387 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-16 10:02:17.388 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.391 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:17.395 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.396 +06:00 [DBG] Created DbConnection. (14ms).
2024-01-16 10:02:17.398 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.400 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.401 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:17.402 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 51332.2003ms
2024-01-16 10:02:17.419 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:02:17.408 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:17.411 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.412 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.414 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.421 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.425 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.418 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.438 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.436 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.437 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-01-16 10:02:17.435 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:17.439 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.448 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.423 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.417 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.441 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.442 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-16 10:02:17.444 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-01-16 10:02:17.448 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:17.406 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.450 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:02:17.452 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:17.453 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 36ms reading results.
2024-01-16 10:02:17.455 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.456 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/65/pointsofinterest/18 - 499 null null 51436.1092ms
2024-01-16 10:02:17.458 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.459 +06:00 [DBG] Created DbConnection. (10ms).
2024-01-16 10:02:17.470 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:17.479 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:17.462 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.465 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.467 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.478 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.478 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.464 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-01-16 10:02:17.480 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:02:17.481 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 19ms reading results.
2024-01-16 10:02:17.483 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:17.485 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (17ms).
2024-01-16 10:02:17.487 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.488 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.499 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.491 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.493 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.501 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:02:17.509 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.497 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 10ms reading results.
2024-01-16 10:02:17.490 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.505 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (12ms).
2024-01-16 10:02:17.495 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.496 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.512 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-01-16 10:02:17.513 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.519 +06:00 [INF] Executed DbCommand (30ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.516 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.529 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-01-16 10:02:17.528 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.533 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.538 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-01-16 10:02:17.542 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.537 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (21ms).
2024-01-16 10:02:17.521 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:02:17.522 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.534 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.542 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 9ms reading results.
2024-01-16 10:02:17.544 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.547 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.550 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.551 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:17.553 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:17.555 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.557 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.561 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.562 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-16 10:02:17.564 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.567 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:17.569 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:17.570 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-01-16 10:02:17.572 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (14ms).
2024-01-16 10:02:17.574 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.575 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.577 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.578 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:02:17.581 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:17.582 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-01-16 10:02:17.585 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.587 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 13ms reading results.
2024-01-16 10:02:17.588 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (12ms).
2024-01-16 10:02:17.589 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-01-16 10:02:17.591 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:02:17.594 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:17.595 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.597 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.599 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.602 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:02:17.603 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-01-16 10:02:17.604 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:02:17.605 +06:00 [DBG] Created DbConnection. (11ms).
2024-01-16 10:02:17.609 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.611 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.611 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (12ms).
2024-01-16 10:02:17.613 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:17.615 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.618 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 388.2513ms
2024-01-16 10:02:17.624 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.628 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:17.622 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:17.620 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-01-16 10:02:17.618 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.633 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.634 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.635 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.636 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:02:17.637 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.638 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-01-16 10:02:17.640 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.642 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:17.643 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.645 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.649 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:02:17.650 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 28ms reading results.
2024-01-16 10:02:17.652 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.653 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.657 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-01-16 10:02:17.659 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:02:17.661 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.655 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.656 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.665 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.666 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-01-16 10:02:17.667 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-01-16 10:02:17.669 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 357.2151ms
2024-01-16 10:02:17.670 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (8ms).
2024-01-16 10:02:17.670 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 28ms reading results.
2024-01-16 10:02:17.672 +06:00 [DBG] Disposed connection to database '' on server '' (16ms).
2024-01-16 10:02:17.675 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:17.676 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-01-16 10:02:17.678 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.680 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.689 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.683 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:17.684 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.687 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 737.3013ms
2024-01-16 10:02:17.691 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.695 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.696 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.697 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 22ms reading results.
2024-01-16 10:02:17.699 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:17.701 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (16ms).
2024-01-16 10:02:17.709 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:17.720 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.713 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.714 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.724 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-16 10:02:17.717 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:17.727 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:17.727 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:02:17.728 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:02:17.728 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:02:17.725 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:17.712 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:17.721 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:02:17.722 +06:00 [DBG] Disposed connection to database '' on server '' (9ms).
2024-01-16 10:02:17.715 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:02:17.730 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:02:17.734 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:17.736 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.743 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 31ms reading results.
2024-01-16 10:02:17.740 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 735.2806ms
2024-01-16 10:02:17.740 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:02:17.742 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 491.1781ms
2024-01-16 10:02:17.742 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:02:17.738 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.745 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.750 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:02:17.752 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.753 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:02:17.754 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (16ms).
2024-01-16 10:02:17.760 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.761 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.757 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:02:17.759 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.759 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:02:17.756 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (10ms).
2024-01-16 10:02:17.763 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:17.765 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 557.866ms
2024-01-16 10:02:17.766 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.774 +06:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-01-16 10:02:17.769 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:17.771 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-01-16 10:02:17.773 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.768 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:02:17.777 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 110 application/json; charset=utf-8 767.864ms
2024-01-16 10:02:17.780 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:17.782 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-01-16 10:02:17.789 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.784 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 564.919ms
2024-01-16 10:02:17.796 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.788 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:02:17.795 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:02:17.802 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:17.798 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.799 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:02:17.805 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:02:17.804 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.805 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.783 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.807 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:02:17.809 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 6ms reading results.
2024-01-16 10:02:17.810 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-01-16 10:02:17.811 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.814 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 459.1241ms
2024-01-16 10:02:17.816 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.818 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 110 application/json; charset=utf-8 874.5074ms
2024-01-16 10:02:17.819 +06:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-01-16 10:02:17.820 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.822 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2024-01-16 10:02:17.827 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 110 application/json; charset=utf-8 820.3664ms
2024-01-16 10:02:17.828 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.830 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:17.835 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.839 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 10:02:17.840 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:17.841 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 110 application/json; charset=utf-8 885.5882ms
2024-01-16 10:02:17.841 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:02:17.845 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:02:17.845 +06:00 [DBG] The connection queue processing loop for 0HN0M8V2NLU5O completed.
2024-01-16 10:02:17.846 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:02:17.849 +06:00 [DBG] Connection id "0HN0M8V2NLU5O" stopped.
2024-01-16 10:02:17.849 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:02:17.852 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 429.6022ms
2024-01-16 10:02:17.854 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:17.856 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:17.857 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:17.858 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:02:17.859 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 110 application/json; charset=utf-8 854.647ms
2024-01-16 10:02:21.441 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/65/pointsofinterest/19 - null null
2024-01-16 10:02:21.449 +06:00 [DBG] DELETE requests are not supported
2024-01-16 10:02:21.451 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:21.453 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:21.456 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest/19'
2024-01-16 10:02:21.459 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/65/pointsofinterest/19'
2024-01-16 10:02:21.462 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:02:21.465 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:02:21.467 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:21.471 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:21.473 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:21.475 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:21.477 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:21.480 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:21.484 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:21.486 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:21.488 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:21.491 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:21.493 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:21.494 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:21.497 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:21.501 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:21.503 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:02:21.506 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 10:02:21.507 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:02:21.509 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:02:21.512 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:02:21.514 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:02:21.517 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:21.522 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:21.523 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:02:21.525 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.528 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.531 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:21.533 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:02:21.535 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:02:21.537 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:21.542 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:21.549 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.552 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:02:21.553 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.556 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:02:21.560 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.563 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.566 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:21.568 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:02:21.571 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:02:21.573 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:02:21.580 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:02:21.584 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:21.585 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.587 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:02:21.590 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:21.592 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:02:21.595 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.791 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:02:24.792 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:02:24.793 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:02:24.795 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.797 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.798 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:24.801 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:02:24.803 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:02:24.805 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:02:24.811 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:02:24.814 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.816 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:02:24.818 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.820 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:02:24.823 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.826 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:02:24.828 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-16 10:02:24.830 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 3345.9332ms
2024-01-16 10:02:24.832 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:02:24.834 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:24.835 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.836 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:02:24.838 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/65/pointsofinterest/19 - 204 null null 3399.0037ms
2024-01-16 10:02:24.848 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:02:24.849 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-16 10:02:24.853 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:24.857 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:24.858 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:24.860 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:24.859 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:24.861 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:02:24.863 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:24.863 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:02:24.864 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-16 10:02:24.865 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:02:24.866 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:02:24.868 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:02:24.871 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:02:24.873 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:02:24.876 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:24.879 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:24.880 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:24.883 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:24.886 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:24.888 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:02:24.889 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:24.891 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:24.893 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:24.896 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:24.899 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:02:24.900 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:24.902 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:02:24.904 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:24.907 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:24.908 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:24.911 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:24.914 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:02:24.916 +06:00 [DBG] Created DbConnection. (4ms).
2024-01-16 10:02:24.917 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:02:24.919 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.923 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.923 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:24.924 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:24.927 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-16 10:02:24.927 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:02:24.933 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-01-16 10:02:24.935 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:02:24.936 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:02:24.944 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:02:24.946 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:24.949 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.950 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-16 10:02:24.952 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.954 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.957 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.960 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.962 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.965 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:24.967 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.969 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:02:24.970 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:02:24.973 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-16 10:02:24.975 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.977 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:02:24.981 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 31ms reading results.
2024-01-16 10:02:24.985 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:02:24.985 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.988 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:24.990 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:02:24.992 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:02:24.995 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:24.997 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:25.000 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:25.001 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 10:02:25.002 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:02:25.005 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:25.006 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:02:25.008 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:25.009 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:02:25.010 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:02:25.011 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:02:25.013 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:02:25.015 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 116.3615ms
2024-01-16 10:02:25.016 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:02:25.019 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:02:25.020 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 106.0598ms
2024-01-16 10:02:25.021 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:25.023 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:25.024 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:25.026 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:25.027 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 10:02:25.028 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:25.031 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 182.5859ms
2024-01-16 10:02:25.033 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-16 10:02:25.037 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 188.3379ms
2024-01-16 10:02:45.302 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:02:45.306 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:45.308 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:45.309 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:45.312 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:45.314 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:45.316 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:45.318 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:45.320 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:45.323 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:45.326 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:45.328 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:45.330 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:45.333 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:45.336 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:45.338 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:45.340 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:45.343 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:45.345 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:45.347 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:45.349 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:45.351 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:45.354 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:45.357 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:45.359 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:02:45.360 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:45.362 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:45.364 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:45.366 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:02:45.369 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:02:45.370 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:45.375 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:45.379 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:45.380 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:02:45.382 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:45.385 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:02:45.386 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:02:45.387 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:45.390 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:45.392 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:02:45.396 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:02:45.397 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:02:45.400 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 64.2639ms
2024-01-16 10:02:45.401 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:45.403 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:45.404 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:45.405 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:02:45.406 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 104.4492ms
2024-01-16 10:02:49.074 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:02:49.082 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:02:49.086 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:02:49.088 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:02:49.092 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:49.094 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:02:49.100 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:49.102 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:49.105 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:02:49.109 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:02:49.112 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:02:49.116 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:02:49.120 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:02:49.124 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:02:49.127 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:49.131 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:02:49.134 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:49.137 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:02:49.142 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:49.145 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:49.148 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:02:49.151 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:02:49.154 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:02:49.160 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:02:49.162 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:02:49.165 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:49.168 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:49.171 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:02:49.174 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:02:49.176 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:02:49.179 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:49.186 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:02:49.190 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:49.192 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:02:49.194 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:49.195 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:02:49.198 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:02:49.199 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:02:49.204 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:02:49.204 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:02:49.207 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:02:49.208 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:02:49.210 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 82.6534ms
2024-01-16 10:02:49.211 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:02:49.213 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:02:49.214 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:02:49.215 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:02:49.216 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 143.5159ms
2024-01-16 10:06:06.106 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:06:06.120 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:06:06.121 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:06:06.122 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:06:06.125 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:06:06.126 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:06:06.128 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:06:06.130 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:06:06.132 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:06:06.135 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:06:06.138 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:06:06.143 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:06:06.146 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:06:06.148 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:06:06.151 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:06:06.154 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:06:06.156 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:06:06.159 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:06:06.161 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:06:06.163 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:06.165 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:06.167 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:06:06.169 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:06:06.171 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:06:06.173 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:06:06.186 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:06:06.190 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:06:06.192 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:06:06.194 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:06:06.196 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:06:06.199 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:06:06.201 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:06:06.203 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:06.206 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 16ms reading results.
2024-01-16 10:06:06.209 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:06.210 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:06:06.213 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:06:06.217 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:06:06.219 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:06:06.220 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:06:06.222 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:06:06.225 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:06:06.227 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 76.5719ms
2024-01-16 10:06:06.236 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:06:06.238 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:06:06.240 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:06.241 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:06:06.243 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 137.7527ms
2024-01-16 10:06:09.990 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:06:09.995 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:06:09.997 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:06:09.999 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:06:10.001 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:06:10.003 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:06:10.005 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:06:10.006 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:06:10.007 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:06:10.011 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:06:10.014 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:06:10.015 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:06:10.017 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:06:10.019 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:06:10.021 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:06:10.023 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:06:10.025 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:06:10.028 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:06:10.029 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:06:10.032 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:06:10.034 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:06:10.036 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:06:10.038 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:06:10.041 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:06:10.042 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:06:10.044 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:10.046 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:10.048 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:06:10.050 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:06:10.052 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:06:10.053 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:06:10.060 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:06:10.064 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:10.066 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:06:10.069 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:10.070 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 10:06:10.072 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:06:10.074 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:06:10.079 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:06:10.080 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:06:10.084 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:06:10.086 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:06:10.088 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 66.687ms
2024-01-16 10:06:10.090 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:06:10.091 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:06:10.106 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:06:10.106 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:06:10.107 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 117.0289ms
2024-01-16 10:06:47.154 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/ - null null
2024-01-16 10:06:47.166 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:06:47.168 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:06:47.170 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:06:47.172 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:06:47.174 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/ - 204 null null 20.0418ms
2024-01-16 10:06:47.177 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/ - application/json 75
2024-01-16 10:06:47.185 +06:00 [DBG] POST requests are not supported
2024-01-16 10:06:47.187 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:06:47.189 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:06:47.191 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/'
2024-01-16 10:06:47.193 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-01-16 10:06:47.196 +06:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-01-16 10:06:47.197 +06:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-01-16 10:06:47.199 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/ - 405 0 null 21.6872ms
2024-01-16 10:06:47.205 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:0000001B": started reading request body.
2024-01-16 10:06:47.207 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:0000001B": done reading request body.
2024-01-16 10:06:51.988 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/ - application/json 75
2024-01-16 10:06:51.993 +06:00 [DBG] POST requests are not supported
2024-01-16 10:06:51.995 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:06:51.998 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:06:51.999 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/'
2024-01-16 10:06:52.001 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-01-16 10:06:52.003 +06:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-01-16 10:06:52.004 +06:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-01-16 10:06:52.005 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/ - 405 0 null 17.489ms
2024-01-16 10:06:52.008 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:0000001D": started reading request body.
2024-01-16 10:06:52.010 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:0000001D": done reading request body.
2024-01-16 10:09:45.439 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - null null
2024-01-16 10:09:45.445 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:09:45.446 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:09:45.447 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:09:45.448 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:09:45.450 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 10.826ms
2024-01-16 10:09:45.456 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - application/json 75
2024-01-16 10:09:45.461 +06:00 [DBG] POST requests are not supported
2024-01-16 10:09:45.462 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:09:45.463 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:09:45.464 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:09:45.466 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:09:45.468 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:09:45.469 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:09:45.476 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:09:45.479 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:09:45.481 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:09:45.483 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:09:45.486 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:09:45.488 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:09:45.490 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:09:45.492 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:09:45.494 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:09:45.496 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:09:45.498 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:09:45.500 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:09:45.502 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:09:45.504 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:09:45.506 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:09:45.507 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 10:09:45.509 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:09:45.511 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:09:45.512 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:09:45.515 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 10:09:45.517 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:09:45.521 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 10:09:45.525 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:09:45.529 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:09:45.536 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:00000021": started reading request body.
2024-01-16 10:09:45.538 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:00000021": done reading request body.
2024-01-16 10:09:45.573 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:09:45.576 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:09:45.579 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:09:45.589 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:09:49.875 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:09:49.882 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:09:49.884 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:09:49.885 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.886 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.887 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:09:49.888 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:09:49.890 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:09:49.892 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:09:49.905 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:09:49.908 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.910 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:09:49.912 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.915 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:09:49.920 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.Id == __userId_0)'
2024-01-16 10:09:49.924 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Id == @__userId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:09:49.928 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.930 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.932 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:09:49.933 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:09:49.936 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:09:49.938 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:09:49.945 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:09:49.949 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.952 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:09:49.954 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:49.956 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:09:51.862 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-16 10:09:51.871 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:09:51.874 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:51.877 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:51.879 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:09:51.881 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:09:51.883 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:09:51.885 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:09:51.910 +06:00 [INF] Executed DbCommand (25ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:09:51.914 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:51.915 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:51.917 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:09:51.919 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:51.922 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:09:52.282 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Id == __userId_0)
    .FirstOrDefault()'
2024-01-16 10:09:52.289 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.email (string) Required MaxLength(50), 1], [Property: User.firstName (string) Required MaxLength(50), 2], [Property: User.lastName (string) Required, 3], [Property: User.password (string) Required MaxLength(50), 4], [Property: User.userName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.email, u.firstName, u.lastName, u.password, u.userName
            FROM Users AS u
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:09:52.292 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:52.295 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:52.297 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:09:52.299 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:09:52.301 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:09:52.303 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:09:52.315 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:09:52.337 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:52.351 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:52.368 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:52.372 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 54ms reading results.
2024-01-16 10:09:52.375 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:52.377 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:09:54.189 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:09:54.191 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:09:54.201 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:54.228 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:54.240 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:54.248 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:54.257 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:54.269 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:09:54.276 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:54.282 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:09:54.304 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:54.309 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:54.311 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:09:54.314 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:09:54.317 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:09:54.320 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:09:54.335 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:09:54.350 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:09:54.354 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:54.356 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 17ms reading results.
2024-01-16 10:09:54.358 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:54.359 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:09:54.362 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:09:54.365 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:09:56.158 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:09:56.161 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:09:56.162 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:09:56.163 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:09:56.165 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-01-16 10:09:56.167 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2024-01-16 10:09:56.174 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 10683.9521ms
2024-01-16 10:09:56.178 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:09:56.179 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:09:56.181 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:56.183 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:09:56.184 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 10728.1264ms
2024-01-16 10:09:56.193 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:09:56.196 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:09:56.198 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:09:56.200 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:09:56.201 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:09:56.203 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:09:56.205 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:09:56.207 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:09:56.209 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:09:56.211 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:09:56.213 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:09:56.216 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:09:56.217 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:09:56.219 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:09:56.221 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:09:56.224 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:09:56.226 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:09:56.228 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:09:56.230 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:09:56.232 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:09:56.234 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:09:56.236 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:09:56.238 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:09:56.241 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:09:56.243 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:09:56.244 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:56.254 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:56.256 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:09:56.258 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:09:56.260 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:09:56.263 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:09:56.270 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:09:56.275 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:56.278 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:09:56.281 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:56.283 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:09:56.287 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:09:56.288 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:09:56.294 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:09:56.296 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:09:56.301 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:09:56.303 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:09:56.305 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 84.054ms
2024-01-16 10:09:56.309 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:09:56.311 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:09:56.314 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:09:56.316 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:09:56.318 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 125.6273ms
2024-01-16 10:10:01.084 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:10:01.090 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:10:01.093 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:10:01.096 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:10:01.098 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:10:01.100 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:10:01.103 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:01.105 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:01.109 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:10:01.111 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:10:01.113 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:10:01.116 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:10:01.119 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:10:01.123 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:10:01.125 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:01.126 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:01.129 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:01.132 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:10:01.135 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:01.137 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:01.139 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:01.140 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:01.143 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:10:01.145 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:10:01.146 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:10:01.147 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.148 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.150 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:01.151 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:01.154 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:01.155 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:01.160 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:01.163 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.165 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:10:01.168 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.170 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:10:01.172 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.174 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.175 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:01.177 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:01.179 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:01.181 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:10:01.186 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:10:01.190 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:10:01.191 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.193 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:10:01.195 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.197 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:10:01.200 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:10:01.202 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:10:01.203 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:10:01.204 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:10:01.205 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:10:01.207 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:10:01.209 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 84.3541ms
2024-01-16 10:10:01.210 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:01.211 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:10:01.213 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:01.214 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:10:01.215 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 87 application/json; charset=utf-8 132.1638ms
2024-01-16 10:10:09.398 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest/20 - null null
2024-01-16 10:10:09.406 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:10:09.407 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:10:09.408 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:10:09.409 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/20'
2024-01-16 10:10:09.410 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/61/pointsofinterest/20'
2024-01-16 10:10:09.412 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:10:09.414 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:10:09.424 +06:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:10:09.427 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:10:09.430 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:10:09.434 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:10:09.436 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:10:09.438 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:10:09.440 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:09.442 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:09.445 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:09.448 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:10:09.451 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:09.453 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:09.456 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:09.458 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:09.460 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2024-01-16 10:10:09.463 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2024-01-16 10:10:09.467 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:10:09.469 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:10:09.472 +06:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2024-01-16 10:10:09.475 +06:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:10:09.480 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:10:09.485 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:10:09.487 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:10:09.489 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.492 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.495 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:09.497 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:10:09.500 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:10:09.503 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:09.507 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:09.513 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.516 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:10:09.518 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.520 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:10:09.522 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.525 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.527 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:09.529 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:09.531 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:10:09.533 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:10:09.538 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:10:09.542 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:10:09.544 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.547 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:10:09.549 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.551 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:10:09.554 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:10:09.558 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:10:09.559 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:10:09.560 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:10:09.561 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:10:09.563 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-01-16 10:10:09.565 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 125.2378ms
2024-01-16 10:10:09.567 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:10:09.568 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:10:09.569 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:09.570 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:10:09.571 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest/20 - 200 85 application/json; charset=utf-8 173.4885ms
2024-01-16 10:10:20.095 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/20 - null null
2024-01-16 10:10:20.100 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:10:20.102 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:10:20.105 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:10:20.106 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:10:20.108 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/20 - 204 null null 13.5543ms
2024-01-16 10:10:20.112 +06:00 [INF] Request starting HTTP/2 PUT https://localhost:7156/api/cities/61/pointsofinterest/20 - application/json 76
2024-01-16 10:10:20.118 +06:00 [DBG] PUT requests are not supported
2024-01-16 10:10:20.119 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:10:20.120 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:10:20.120 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/20'
2024-01-16 10:10:20.122 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/61/pointsofinterest/20'
2024-01-16 10:10:20.123 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-01-16 10:10:20.125 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-01-16 10:10:20.130 +06:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:10:20.132 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:10:20.134 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:10:20.136 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:10:20.139 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:10:20.140 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:10:20.142 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:20.143 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:20.145 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:20.146 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:10:20.149 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:20.151 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:20.152 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:20.154 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:20.156 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:10:20.159 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 10:10:20.161 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:10:20.162 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:10:20.164 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:10:20.166 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:10:20.167 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-01-16 10:10:20.169 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-01-16 10:10:20.172 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:10:20.174 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:10:20.175 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:0000002B": started reading request body.
2024-01-16 10:10:20.177 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:0000002B": done reading request body.
2024-01-16 10:10:20.181 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-01-16 10:10:20.183 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-01-16 10:10:20.185 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-01-16 10:10:20.188 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-01-16 10:10:20.192 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:10:20.194 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:10:20.196 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:10:20.197 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.200 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.202 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:20.204 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:20.206 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:20.207 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:20.212 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:20.221 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.222 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:10:20.223 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.225 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:10:20.228 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.230 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.232 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:20.233 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:20.235 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:20.236 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:10:20.239 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:10:20.242 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:10:20.244 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.246 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:10:20.248 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.250 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:10:20.253 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:10:20.254 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:10:20.257 +06:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:10:20.260 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:10:20.262 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:10:20.266 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.269 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.271 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:20.272 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:20.274 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:20.277 +06:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-01-16 10:10:20.287 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-01-16 10:10:20.289 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.290 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2024-01-16 10:10:20.291 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.291 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 10:10:20.292 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:10:20.293 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:10:20.295 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-16 10:10:20.295 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 153.5352ms
2024-01-16 10:10:20.296 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-01-16 10:10:20.297 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:10:20.301 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.307 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-16 10:10:20.308 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:10:20.310 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:10:20.311 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:10:20.312 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:10:20.312 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:10:20.313 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:10:20.314 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:20.315 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:20.316 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:10:20.317 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:10:20.309 +06:00 [INF] Request finished HTTP/2 PUT https://localhost:7156/api/cities/61/pointsofinterest/20 - 204 null null 197.0584ms
2024-01-16 10:10:20.320 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:10:20.325 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:10:20.329 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:10:20.332 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:10:20.334 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:20.336 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:20.338 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:20.340 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:10:20.342 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:20.343 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:20.345 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:20.347 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:20.349 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:10:20.353 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:10:20.355 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:10:20.357 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.358 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.360 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:20.362 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:20.364 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:20.366 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:20.371 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:20.375 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.376 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:10:20.379 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.381 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:10:20.384 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:10:20.385 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:10:20.390 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:10:20.391 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:10:20.395 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:10:20.396 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:10:20.398 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 64.6216ms
2024-01-16 10:10:20.401 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:20.403 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:10:20.404 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:20.406 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:10:20.408 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 100.1984ms
2024-01-16 10:10:26.036 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:10:26.041 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:10:26.043 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:10:26.044 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:10:26.047 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:10:26.049 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:10:26.053 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:26.055 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:26.057 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:10:26.061 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:10:26.064 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:10:26.067 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:10:26.070 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:10:26.073 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:10:26.075 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:26.078 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:10:26.080 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:26.083 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:10:26.086 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:26.088 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:26.089 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:10:26.091 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:10:26.094 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:10:26.099 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:10:26.100 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:10:26.102 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.104 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.105 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:26.107 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:26.109 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:26.111 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:26.115 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:10:26.119 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.120 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:10:26.122 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.123 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:10:26.125 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.127 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.130 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:10:26.131 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:10:26.134 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:10:26.135 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:10:26.138 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:10:26.141 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:10:26.144 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.146 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:10:26.147 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.149 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:10:26.152 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:10:26.153 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:10:26.156 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:10:26.157 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:10:26.157 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:10:26.159 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:10:26.160 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 84.9823ms
2024-01-16 10:10:26.162 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:10:26.163 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:10:26.164 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:10:26.165 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:10:26.166 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 78 application/json; charset=utf-8 130.3168ms
2024-01-16 10:11:45.217 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - null null
2024-01-16 10:11:45.231 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:11:45.234 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:11:45.236 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:11:45.237 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:11:45.239 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 21.9174ms
2024-01-16 10:11:45.251 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - application/json 89
2024-01-16 10:11:45.268 +06:00 [DBG] POST requests are not supported
2024-01-16 10:11:45.270 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:11:45.271 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:11:45.272 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:11:45.273 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:11:45.276 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:11:45.279 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:11:45.281 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:11:45.285 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:11:45.287 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:11:45.289 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:11:45.293 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:11:45.296 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:11:45.298 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:11:45.300 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:11:45.301 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:11:45.304 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:11:45.307 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:45.310 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:45.312 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:11:45.315 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:45.317 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:11:45.319 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 10:11:45.321 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:11:45.323 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:11:45.326 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:11:45.327 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 10:11:45.329 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:11:45.331 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 10:11:45.334 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:11:45.336 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:11:45.338 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:00000033": started reading request body.
2024-01-16 10:11:45.340 +06:00 [DBG] Connection id "0HN0M8V2NLU5P", Request id "0HN0M8V2NLU5P:00000033": done reading request body.
2024-01-16 10:11:45.342 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:11:45.343 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:11:45.345 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:11:45.347 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:11:49.688 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:11:49.692 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:11:49.694 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:11:49.695 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.697 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.700 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:49.703 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:11:49.705 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:11:49.706 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:49.724 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:49.729 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.730 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:11:49.733 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.737 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 10:11:49.740 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.741 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.742 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:49.744 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:11:49.745 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:11:49.747 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:49.757 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:49.761 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.764 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:11:49.767 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:49.769 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:11:50.631 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:50.633 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:50.635 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:50.636 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:11:50.638 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:11:50.640 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:11:50.646 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:11:50.649 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:50.651 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:50.652 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:11:50.655 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:50.658 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:11:51.119 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.121 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.122 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:51.123 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:11:51.124 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:11:51.125 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:11:51.133 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:11:51.138 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.140 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.142 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.144 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 6ms reading results.
2024-01-16 10:11:51.146 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.147 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:11:51.917 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:11:51.919 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:11:51.921 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.926 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.928 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.931 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.933 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.935 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:11:51.938 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.941 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:11:51.943 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.945 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.948 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:51.949 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:11:51.952 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:11:51.955 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:11:51.965 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:11:51.969 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:11:51.971 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.974 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 10:11:51.977 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:51.981 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 10:11:51.984 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:51.988 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:11:52.824 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:11:52.827 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:11:52.828 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:11:52.829 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:11:52.830 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-01-16 10:11:52.831 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2024-01-16 10:11:52.833 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 7535.4395ms
2024-01-16 10:11:52.835 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:11:52.837 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:11:52.839 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:52.840 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:11:52.842 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 7590.8016ms
2024-01-16 10:11:52.849 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:11:52.858 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:11:52.862 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:11:52.864 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:11:52.866 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:11:52.868 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:11:52.869 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:11:52.871 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:11:52.872 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:11:52.876 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:11:52.879 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:11:52.881 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:11:52.886 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:11:52.888 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:11:52.891 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:11:52.894 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:11:52.895 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:11:52.897 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:11:52.900 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:52.902 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:52.904 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:11:52.906 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:52.908 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:11:52.912 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:11:52.914 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:11:52.916 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:52.918 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:52.920 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:52.921 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:11:52.923 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:11:52.925 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:52.931 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:52.935 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:52.938 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:11:52.941 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:52.943 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:11:52.947 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:11:52.948 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:11:52.952 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:11:52.954 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:11:52.960 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:11:52.961 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:11:52.964 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 73.3754ms
2024-01-16 10:11:52.966 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:11:52.967 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:11:52.969 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:52.970 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:11:52.972 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 123.9612ms
2024-01-16 10:11:58.383 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:11:58.387 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:11:58.390 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:11:58.391 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:11:58.393 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:11:58.394 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:11:58.397 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:11:58.399 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:11:58.401 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:11:58.406 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:11:58.409 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:11:58.412 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:11:58.416 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:11:58.419 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:11:58.421 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:11:58.423 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:11:58.425 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:11:58.427 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:11:58.430 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:58.431 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:58.434 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:11:58.436 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:11:58.438 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:11:58.441 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:11:58.442 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:11:58.443 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.445 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.447 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:58.448 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:11:58.451 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:11:58.452 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:58.465 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:11:58.469 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.471 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:11:58.473 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.474 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:11:58.477 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.479 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.482 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:11:58.483 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:11:58.485 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:11:58.486 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:11:58.492 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:11:58.494 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:58.496 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:11:58.498 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.499 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:11:58.500 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.502 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:11:58.504 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:11:58.507 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:11:58.508 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:11:58.509 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:11:58.511 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:11:58.513 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:11:58.515 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 93.7951ms
2024-01-16 10:11:58.516 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:11:58.518 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:11:58.519 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:11:58.520 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:11:58.522 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 178 application/json; charset=utf-8 138.9194ms
2024-01-16 10:13:33.989 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/20 - null null
2024-01-16 10:13:34.000 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:13:34.001 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:13:34.003 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:13:34.005 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:13:34.006 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/20 - 204 null null 17.4271ms
2024-01-16 10:13:34.013 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/20 - null null
2024-01-16 10:13:34.022 +06:00 [DBG] DELETE requests are not supported
2024-01-16 10:13:34.023 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:13:34.024 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:13:34.025 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/20'
2024-01-16 10:13:34.026 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/20'
2024-01-16 10:13:34.029 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:13:34.031 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:13:34.033 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:13:34.036 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:13:34.040 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:13:34.043 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:13:34.045 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:13:34.048 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:13:34.050 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:13:34.053 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:13:34.055 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:13:34.057 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:13:34.059 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:34.063 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:34.065 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:13:34.068 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:34.073 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:13:34.076 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 10:13:34.078 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:13:34.079 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:13:34.081 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:13:34.083 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:13:34.085 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:13:34.089 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:13:34.090 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:13:34.091 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.092 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.093 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:34.096 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:13:34.099 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:13:34.102 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:13:34.121 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:13:34.125 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.126 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:13:34.130 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.132 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:13:34.136 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.138 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.140 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:34.142 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:13:34.145 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:13:34.147 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:13:34.153 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:13:34.157 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.160 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.161 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:13:34.163 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.164 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:13:34.166 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.169 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:13:34.171 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:13:34.172 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:13:34.174 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.175 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.176 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:34.177 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:13:34.179 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:13:34.181 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:13:34.189 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:13:34.192 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.195 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:13:34.197 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.198 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:13:34.200 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.203 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:13:34.206 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-16 10:13:34.207 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 156.618ms
2024-01-16 10:13:34.209 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:13:34.210 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:13:34.211 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.212 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:13:34.212 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/20 - 204 null null 199.5791ms
2024-01-16 10:13:34.222 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-16 10:13:34.222 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:13:34.228 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:13:34.230 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:13:34.232 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:13:34.233 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:13:34.234 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:13:34.235 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:13:34.236 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-16 10:13:34.237 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:13:34.240 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:13:34.240 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:13:34.242 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:13:34.243 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:13:34.245 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:34.246 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:13:34.247 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:34.248 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:13:34.250 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:13:34.253 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:13:34.255 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:13:34.257 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:13:34.259 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:13:34.261 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:13:34.262 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:13:34.264 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:13:34.266 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:13:34.268 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:13:34.270 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:13:34.272 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:13:34.275 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:13:34.278 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:13:34.279 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:13:34.281 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:13:34.282 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:13:34.285 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:13:34.288 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:13:34.290 +06:00 [DBG] Created DbConnection. (4ms).
2024-01-16 10:13:34.291 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-16 10:13:34.293 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.295 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.298 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.308 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:34.310 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:13:34.313 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:13:34.316 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:13:34.322 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.335 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:13:34.348 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:34.355 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.358 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-01-16 10:13:34.362 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.365 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-01-16 10:13:34.367 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.370 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:13:34.373 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.379 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:13:34.381 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.385 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.387 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:34.389 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.390 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.393 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-16 10:13:34.395 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 40ms reading results.
2024-01-16 10:13:34.398 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.402 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.405 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-16 10:13:34.407 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:13:34.411 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:13:34.416 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:13:34.416 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:13:34.417 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:13:34.421 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:13:34.422 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:13:34.423 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:13:34.424 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:13:34.425 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:13:34.427 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:13:34.428 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:13:34.434 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:13:34.431 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 159.1856ms
2024-01-16 10:13:34.439 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:13:34.442 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 166.8283ms
2024-01-16 10:13:34.443 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:13:34.445 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:34.447 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.450 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:13:34.452 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-01-16 10:13:34.455 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:34.458 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 236.3556ms
2024-01-16 10:13:34.462 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-16 10:13:34.474 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 90 application/json; charset=utf-8 251.7074ms
2024-01-16 10:13:37.048 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:13:37.055 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:13:37.057 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:13:37.059 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:13:37.062 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:13:37.065 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:13:37.069 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:37.073 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:37.076 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:13:37.079 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:13:37.082 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:13:37.086 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:13:37.091 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:13:37.094 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:13:37.097 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:13:37.100 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:13:37.103 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:13:37.105 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:13:37.109 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:37.111 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:37.114 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:13:37.117 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:37.123 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:13:37.129 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:13:37.131 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:13:37.133 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:37.136 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:37.138 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:37.140 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:13:37.142 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:13:37.145 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:13:37.152 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:13:37.155 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:37.157 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:13:37.160 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:37.162 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:13:37.164 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:13:37.166 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:13:37.170 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:13:37.170 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:13:37.173 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:13:37.176 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:13:37.178 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 81.5373ms
2024-01-16 10:13:37.181 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:37.183 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:13:37.185 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:37.186 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:13:37.188 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 141.0036ms
2024-01-16 10:13:41.153 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:13:41.159 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:13:41.162 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:13:41.165 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:13:41.167 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:13:41.170 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:13:41.174 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:41.176 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:41.178 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:13:41.183 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:13:41.185 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:13:41.188 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:13:41.192 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:13:41.195 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:13:41.198 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:13:41.200 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:13:41.202 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:13:41.204 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:13:41.207 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:41.210 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:41.212 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:13:41.215 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:13:41.218 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:13:41.221 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:13:41.222 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:13:41.224 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.226 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.228 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:41.230 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:13:41.232 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:13:41.233 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:13:41.236 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:13:41.240 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.243 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:13:41.245 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.247 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:13:41.249 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.251 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.253 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:13:41.255 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:13:41.257 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:13:41.258 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:13:41.263 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:13:41.266 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:13:41.268 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.270 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:13:41.272 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.274 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:13:41.277 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:13:41.281 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:13:41.283 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:13:41.286 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:13:41.288 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:13:41.290 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:13:41.292 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 93.7265ms
2024-01-16 10:13:41.293 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:13:41.295 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:13:41.296 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:13:41.297 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:13:41.299 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 101 application/json; charset=utf-8 146.0352ms
2024-01-16 10:22:36.765 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 10:22:36.843 +06:00 [DBG] Hosting starting
2024-01-16 10:22:36.973 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 10:22:36.974 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 10:22:36.975 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 10:22:36.976 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 10:22:36.978 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 10:22:36.979 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 10:22:36.981 +06:00 [INF] Hosting environment: Development
2024-01-16 10:22:36.982 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 10:22:36.983 +06:00 [DBG] Hosting started
2024-01-16 10:22:44.822 +06:00 [DBG] Connection id "0HN0M9B4S7RP1" received FIN.
2024-01-16 10:22:44.831 +06:00 [DBG] Connection id "0HN0M9B4S7RP1" accepted.
2024-01-16 10:22:44.836 +06:00 [DBG] Connection id "0HN0M9B4S7RP1" started.
2024-01-16 10:22:44.836 +06:00 [DBG] Connection id "0HN0M9B4S7RP2" accepted.
2024-01-16 10:22:44.842 +06:00 [DBG] Connection id "0HN0M9B4S7RP2" started.
2024-01-16 10:22:44.865 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-01-16 10:22:44.915 +06:00 [DBG] Connection id "0HN0M9B4S7RP1" stopped.
2024-01-16 10:22:44.920 +06:00 [DBG] Connection id "0HN0M9B4S7RP1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 10:22:44.920 +06:00 [DBG] Connection 0HN0M9B4S7RP2 established using the following protocol: "Tls13"
2024-01-16 10:22:44.961 +06:00 [INF] Request starting HTTP/1.1 GET https://localhost:7156/api/cities/61/pointsofinterest/21 - null null
2024-01-16 10:22:44.976 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 10:22:45.006 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:22:45.044 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 10:22:45.053 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 10:22:45.057 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:22:45.065 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:22:45.104 +06:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:22:45.112 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:22:45.115 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:22:45.119 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:22:45.122 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:22:45.124 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:22:45.130 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:22:45.335 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 10:22:45.553 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:22:45.559 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:22:45.566 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:22:45.569 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:22:45.571 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:22:45.572 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:22:45.576 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:22:45.580 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2024-01-16 10:22:45.582 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2024-01-16 10:22:45.586 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:22:45.588 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:22:45.590 +06:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2024-01-16 10:22:45.593 +06:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:22:46.516 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:22:46.627 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-16 10:22:46.847 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:22:46.909 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:22:46.957 +06:00 [DBG] Created DbConnection. (43ms).
2024-01-16 10:22:46.967 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.466 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.475 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:22:47.490 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-01-16 10:22:47.507 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (32ms).
2024-01-16 10:22:47.524 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:22:47.619 +06:00 [INF] Executed DbCommand (97ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:22:47.653 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.670 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 34ms reading results.
2024-01-16 10:22:47.680 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.696 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (15ms).
2024-01-16 10:22:47.712 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-01-16 10:22:47.787 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name, p.userId
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:22:47.799 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.803 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.806 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:22:47.809 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:22:47.812 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:22:47.815 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:22:47.822 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:22:47.874 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:22:47.907 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.911 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 84ms reading results.
2024-01-16 10:22:47.914 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:47.917 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:22:47.936 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:22:47.945 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:22:47.947 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:22:47.949 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:22:47.952 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:22:47.954 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-01-16 10:22:48.089 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 2955.8428ms
2024-01-16 10:22:48.095 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:22:48.101 +06:00 [DBG] Connection id "0HN0M9B4S7RP2" completed keep alive response.
2024-01-16 10:22:48.105 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:22:48.110 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:22:48.113 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 10:22:48.116 +06:00 [INF] Request finished HTTP/1.1 GET https://localhost:7156/api/cities/61/pointsofinterest/21 - 200 99 application/json; charset=utf-8 3162.7694ms
2024-01-16 10:26:14.206 +06:00 [DBG] Connection id "0HN0M9B4S7RP3" accepted.
2024-01-16 10:26:14.215 +06:00 [DBG] Connection id "0HN0M9B4S7RP3" started.
2024-01-16 10:26:14.232 +06:00 [DBG] Connection 0HN0M9B4S7RP3 established using the following protocol: "Tls13"
2024-01-16 10:26:14.276 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:26:14.284 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:26:14.287 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:26:14.290 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:26:14.293 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:26:14.297 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:26:14.300 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:26:14.303 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:26:14.311 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:26:14.316 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:26:14.319 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:26:14.322 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:26:14.325 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:26:14.327 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:26:14.329 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:26:14.333 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:26:14.337 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:26:14.339 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:26:14.342 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:26:14.344 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:26:14.346 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:26:14.349 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:26:14.372 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:26:14.384 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:26:14.387 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:26:14.389 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.392 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.395 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:26:14.397 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:26:14.399 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:26:14.401 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:26:14.415 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:26:14.418 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.421 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:26:14.424 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.427 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:26:14.435 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-01-16 10:26:14.445 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:26:14.449 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.452 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.455 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:26:14.457 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:26:14.459 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:26:14.461 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:26:14.467 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:26:14.471 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:26:14.475 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.477 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 6ms reading results.
2024-01-16 10:26:14.479 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.481 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:26:14.491 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:26:14.495 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:26:14.497 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:26:14.498 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:26:14.499 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:26:14.502 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:26:14.511 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 182.4991ms
2024-01-16 10:26:14.513 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:26:14.515 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:26:14.517 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:26:14.519 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 10:26:14.521 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 101 application/json; charset=utf-8 245.5279ms
2024-01-16 10:32:36.539 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:32:36.549 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:32:36.550 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:32:36.552 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:32:36.553 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:32:36.554 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:32:36.556 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:32:36.558 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:32:36.559 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:32:36.561 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:32:36.563 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:32:36.565 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:32:36.567 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:32:36.568 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:32:36.570 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:32:36.576 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:32:36.577 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:32:36.579 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:32:36.581 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:36.583 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:36.584 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:32:36.586 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:36.674 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:32:36.681 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:32:36.682 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:32:36.685 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:36.707 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:36.711 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:32:36.713 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:32:36.715 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:32:36.716 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:32:36.765 +06:00 [INF] Executed DbCommand (49ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:32:36.770 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:36.772 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:32:36.775 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:36.779 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 10:32:36.781 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:32:36.785 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:32:36.790 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:32:36.793 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:32:36.797 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:32:36.801 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:32:36.824 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 254.0851ms
2024-01-16 10:32:36.829 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:32:36.830 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:32:36.831 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:36.834 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 10:32:36.836 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 296.9079ms
2024-01-16 10:32:41.738 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:32:41.743 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:32:41.744 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:32:41.745 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:32:41.746 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:32:41.746 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:32:41.748 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:32:41.749 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:32:41.750 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:32:41.752 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:32:41.755 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:32:41.758 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:32:41.761 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:32:41.763 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:32:41.765 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:32:41.767 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:32:41.770 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:32:41.771 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:32:41.773 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:41.775 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:41.776 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:32:41.778 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:41.780 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:32:41.784 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:32:41.785 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:32:41.786 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.788 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.790 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:32:41.792 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:32:41.793 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:32:41.795 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:32:41.800 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:32:41.802 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.803 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:32:41.805 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.807 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:32:41.810 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.811 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.813 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:32:41.814 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:32:41.816 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:32:41.817 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:32:41.826 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:32:41.829 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:32:41.831 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.833 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:32:41.835 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.838 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:32:41.841 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:32:41.848 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:32:41.849 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:32:41.851 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:32:41.853 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:32:41.855 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:32:41.857 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 92.2979ms
2024-01-16 10:32:41.859 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:32:41.864 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:32:41.866 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:41.867 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:32:41.869 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 101 application/json; charset=utf-8 130.8129ms
2024-01-16 10:32:46.293 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest/21 - null null
2024-01-16 10:32:46.298 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:32:46.300 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:32:46.303 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:32:46.304 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 10:32:46.306 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 10:32:46.308 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:32:46.311 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:32:46.312 +06:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:32:46.315 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:32:46.318 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:32:46.321 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:32:46.323 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:32:46.325 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:32:46.326 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:32:46.328 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:32:46.330 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:32:46.332 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:32:46.334 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:46.336 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:46.338 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:32:46.339 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:32:46.340 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' ...
2024-01-16 10:32:46.342 +06:00 [DBG] Attempting to bind parameter 'pointofinterestid' of type 'System.Int32' using the name 'pointofinterestid' in request data ...
2024-01-16 10:32:46.343 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:32:46.345 +06:00 [DBG] Done attempting to bind parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:32:46.347 +06:00 [DBG] Attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32' ...
2024-01-16 10:32:46.349 +06:00 [DBG] Done attempting to validate the bound parameter 'pointofinterestid' of type 'System.Int32'.
2024-01-16 10:32:46.352 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:32:46.354 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:32:46.355 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:32:46.356 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.357 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.359 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:32:46.361 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:32:46.363 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:32:46.365 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:32:46.370 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:32:46.373 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.375 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:32:46.377 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.379 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:32:46.382 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.384 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.386 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:32:46.387 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:32:46.389 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:32:46.390 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:32:46.395 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:32:46.399 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:32:46.401 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.403 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:32:46.405 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.407 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:32:46.409 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:32:46.413 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:32:46.414 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:32:46.416 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:32:46.417 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:32:46.419 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2024-01-16 10:32:46.421 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) in 94.4665ms
2024-01-16 10:32:46.422 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)'
2024-01-16 10:32:46.423 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:32:46.424 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:32:46.426 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:32:46.428 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest/21 - 200 99 application/json; charset=utf-8 134.5929ms
2024-01-16 10:33:06.611 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/21 - null null
2024-01-16 10:33:06.623 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:33:06.626 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:06.629 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:06.631 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:33:06.634 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/21 - 204 null null 23.9119ms
2024-01-16 10:33:06.645 +06:00 [INF] Request starting HTTP/2 PUT https://localhost:7156/api/cities/61/pointsofinterest/21 - application/json 114
2024-01-16 10:33:06.653 +06:00 [DBG] PUT requests are not supported
2024-01-16 10:33:06.654 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:06.656 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:06.657 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 10:33:06.661 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointofinterestid}' is valid for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 10:33:06.663 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-01-16 10:33:06.666 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-01-16 10:33:06.675 +06:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:33:06.679 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:33:06.683 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:33:06.686 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:33:06.689 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:33:06.693 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:33:06.696 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:06.699 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:06.703 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:06.705 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:33:06.708 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:06.711 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:06.714 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:06.716 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:06.719 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:33:06.722 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 10:33:06.724 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:33:06.728 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:33:06.730 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:33:06.733 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:33:06.736 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-01-16 10:33:06.739 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2024-01-16 10:33:06.744 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:33:06.747 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:33:06.756 +06:00 [DBG] Connection id "0HN0M9B4S7RP3", Request id "0HN0M9B4S7RP3:0000000B": started reading request body.
2024-01-16 10:33:06.759 +06:00 [DBG] Connection id "0HN0M9B4S7RP3", Request id "0HN0M9B4S7RP3:0000000B": done reading request body.
2024-01-16 10:33:06.801 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-01-16 10:33:06.802 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-01-16 10:33:06.803 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2024-01-16 10:33:06.814 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2024-01-16 10:33:06.821 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:33:06.824 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:33:06.825 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:33:06.827 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.828 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.830 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:06.832 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:06.833 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:33:06.835 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:06.849 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:06.853 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.855 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:33:06.857 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.859 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:33:06.862 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.864 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.865 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:06.866 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:06.868 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:33:06.869 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:33:06.875 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:33:06.879 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:06.880 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.882 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:33:06.885 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:06.886 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:33:06.894 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:33:06.898 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:33:06.914 +06:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:33:06.926 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:06.934 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:33:07.002 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.005 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.011 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:07.013 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:07.016 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:33:07.018 +06:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-01-16 10:33:07.026 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [PointsOfInterest] SET [Description] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2024-01-16 10:33:07.037 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.040 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 11ms reading results.
2024-01-16 10:33:07.044 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.046 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:33:07.053 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:07.059 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:33:07.062 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-16 10:33:07.063 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 366.9158ms
2024-01-16 10:33:07.065 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2024-01-16 10:33:07.066 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:33:07.067 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.069 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:33:07.070 +06:00 [INF] Request finished HTTP/2 PUT https://localhost:7156/api/cities/61/pointsofinterest/21 - 204 null null 426.0872ms
2024-01-16 10:33:07.076 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:33:07.079 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:33:07.081 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:07.082 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:07.083 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:33:07.084 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:33:07.086 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:07.088 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:07.089 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:33:07.092 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:33:07.094 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:33:07.096 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:33:07.098 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:33:07.100 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:33:07.102 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:07.104 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:07.106 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:07.108 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:33:07.110 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:07.112 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:07.114 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:07.116 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:07.118 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:33:07.121 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:33:07.123 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:33:07.124 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.126 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.129 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:07.129 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:33:07.130 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:07.131 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:07.136 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:07.139 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.141 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:33:07.143 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.145 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:33:07.146 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:33:07.147 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:33:07.151 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:33:07.152 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:33:07.155 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:33:07.157 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:33:07.159 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 57.3786ms
2024-01-16 10:33:07.162 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:07.163 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:33:07.164 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:07.166 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:33:07.167 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 91.7186ms
2024-01-16 10:33:11.000 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:33:11.006 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:33:11.008 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:11.011 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:11.012 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:33:11.017 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:33:11.022 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:11.023 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:11.025 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:33:11.028 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:33:11.031 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:33:11.033 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:33:11.036 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:33:11.040 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:33:11.043 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:11.051 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:11.054 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:11.057 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:33:11.061 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:11.065 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:11.067 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:11.070 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:11.074 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:33:11.079 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:33:11.081 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:33:11.084 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.087 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.089 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:11.091 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:11.094 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:33:11.097 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:11.102 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:11.107 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.110 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:33:11.111 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.113 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:33:11.115 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.118 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.121 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:11.122 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:11.125 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:33:11.127 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:33:11.134 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:33:11.138 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:11.141 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.143 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:33:11.145 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.146 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:33:11.149 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:33:11.153 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:33:11.154 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:33:11.155 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:33:11.157 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:33:11.158 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:33:11.160 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 116.5946ms
2024-01-16 10:33:11.162 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:11.163 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:33:11.165 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:11.166 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:33:11.168 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 168.9624ms
2024-01-16 10:33:26.566 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:33:26.567 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-16 10:33:26.574 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:33:26.582 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:33:26.584 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:26.586 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:26.588 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:26.590 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:26.591 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:33:26.592 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-16 10:33:26.594 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:33:26.597 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:33:26.601 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:33:26.602 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:33:26.604 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:33:26.605 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:26.609 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:26.612 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:33:26.614 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:33:26.616 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:33:26.619 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:33:26.623 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:33:26.625 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:33:26.628 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:33:26.630 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:33:26.634 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:33:26.636 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:33:26.638 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:33:26.641 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:33:26.643 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:33:26.646 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:33:26.650 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:33:26.652 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:33:26.659 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:33:26.659 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:33:26.664 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-16 10:33:26.666 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-16 10:33:26.676 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:33:26.676 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:33:26.681 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:33:26.684 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:33:26.684 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-16 10:33:26.685 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:33:26.687 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.690 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.693 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.703 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:26.704 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:26.706 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:33:26.708 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:33:26.710 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.717 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:26.718 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:33:26.718 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:26.721 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:26.722 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:33:26.723 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.724 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:33:26.726 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 10:33:26.730 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:33:26.730 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.735 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:33:26.738 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:26.740 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:33:26.744 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:33:26.745 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:33:26.747 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:33:26.748 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:33:26.748 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:26.750 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:33:26.752 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:26.755 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:26.756 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 110.2303ms
2024-01-16 10:33:26.757 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:26.759 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:26.760 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:26.762 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:33:26.763 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.765 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.767 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 33ms reading results.
2024-01-16 10:33:26.768 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 10:33:26.770 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.772 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 105 application/json; charset=utf-8 206.0942ms
2024-01-16 10:33:26.774 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:33:26.790 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:33:26.796 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:33:26.797 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:33:26.800 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:33:26.801 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:33:26.803 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:33:26.808 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 165.0266ms
2024-01-16 10:33:26.810 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:33:26.812 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:33:26.814 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:26.816 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 10:33:26.819 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 253.2497ms
2024-01-16 10:33:28.668 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:33:28.674 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:33:28.675 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:28.676 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:28.677 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:33:28.678 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:33:28.682 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:33:28.683 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:33:28.685 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:33:28.687 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:33:28.689 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:33:28.690 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:33:28.693 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:33:28.695 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:33:28.699 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:33:28.701 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:33:28.704 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:33:28.707 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:33:28.708 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:33:28.709 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:28.711 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:28.714 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:28.716 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:33:28.718 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:33:28.721 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:33:28.726 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:33:28.730 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:28.732 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:28.735 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:28.738 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:28.740 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:28.742 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:33:28.745 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:28.748 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 18ms reading results.
2024-01-16 10:33:28.750 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:28.752 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:33:28.755 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:33:28.761 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:33:28.762 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:33:28.764 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:33:28.765 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:33:28.767 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:33:28.769 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 69.3152ms
2024-01-16 10:33:28.771 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:33:28.772 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:33:28.774 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:28.775 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:33:28.777 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 108.7376ms
2024-01-16 10:33:30.376 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:33:30.381 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:33:30.383 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:33:30.386 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:33:30.388 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:33:30.391 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:33:30.394 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:30.398 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:30.399 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:33:30.402 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:33:30.404 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:33:30.406 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:33:30.410 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:33:30.412 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:33:30.414 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:30.416 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:33:30.419 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:30.422 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:33:30.423 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:30.425 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:30.427 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:33:30.428 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:33:30.431 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:33:30.433 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:33:30.434 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:33:30.435 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:30.437 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:30.439 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:33:30.440 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:33:30.442 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:33:30.444 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:30.448 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:33:30.450 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:30.451 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:33:30.453 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:30.455 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:33:30.457 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:33:30.458 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:33:30.462 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:33:30.462 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:33:30.465 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:33:30.467 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:33:30.468 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 53.9462ms
2024-01-16 10:33:30.469 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:33:30.471 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:33:30.472 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:33:30.473 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:33:30.474 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 98.4096ms
2024-01-16 10:33:43.175 +06:00 [DBG] Connection id "0HN0M9B4S7RP3" received FIN.
2024-01-16 10:33:43.192 +06:00 [DBG] Connection id "0HN0M9B4S7RP3" is closed. The last processed stream ID was 23.
2024-01-16 10:33:43.193 +06:00 [DBG] Connection id "0HN0M9B4S7RP3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 10:33:43.196 +06:00 [DBG] The connection queue processing loop for 0HN0M9B4S7RP3 completed.
2024-01-16 10:33:43.199 +06:00 [DBG] Connection id "0HN0M9B4S7RP3" stopped.
2024-01-16 10:35:48.976 +06:00 [DBG] Connection id "0HN0M9B4S7RP4" accepted.
2024-01-16 10:35:48.988 +06:00 [DBG] Connection id "0HN0M9B4S7RP4" started.
2024-01-16 10:35:48.994 +06:00 [DBG] Connection 0HN0M9B4S7RP4 established using the following protocol: "Tls13"
2024-01-16 10:35:49.005 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:35:49.005 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-16 10:35:49.015 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:35:49.019 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:35:49.020 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:35:49.021 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:35:49.024 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:35:49.022 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:35:49.025 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-16 10:35:49.027 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:35:49.030 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:35:49.029 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:35:49.034 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:35:49.037 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:35:49.039 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:35:49.041 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:35:49.043 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:35:49.044 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:35:49.048 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:35:49.049 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:35:49.052 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:35:49.055 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:35:49.059 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:35:49.063 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:35:49.066 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:35:49.069 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:35:49.071 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:35:49.076 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:35:49.080 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:35:49.083 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:35:49.086 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:35:49.089 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:35:49.095 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:35:49.098 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:35:49.103 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:35:49.107 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:35:49.108 +06:00 [DBG] Created DbConnection. (5ms).
2024-01-16 10:35:49.114 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:35:49.116 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.119 +06:00 [DBG] Created DbConnection. (4ms).
2024-01-16 10:35:49.122 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.126 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.129 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:35:49.132 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.136 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-16 10:35:49.140 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:35:49.143 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-01-16 10:35:49.145 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:35:49.147 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:35:49.150 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-16 10:35:49.159 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:35:49.168 +06:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:35:49.168 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:35:49.173 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:35:49.178 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:35:49.180 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:35:49.183 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.185 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:35:49.187 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 9ms reading results.
2024-01-16 10:35:49.189 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:35:49.192 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.195 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:35:49.197 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-16 10:35:49.200 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:35:49.204 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:35:49.204 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.209 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:35:49.211 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 37ms reading results.
2024-01-16 10:35:49.212 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:35:49.215 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.217 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:35:49.220 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:35:49.221 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:35:49.225 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:35:49.228 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:35:49.233 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:35:49.236 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 146.9606ms
2024-01-16 10:35:49.237 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:35:49.239 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:35:49.240 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:35:49.242 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:35:49.243 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:35:49.244 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.246 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:35:49.248 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 10:35:49.250 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 170.011ms
2024-01-16 10:35:49.252 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 105 application/json; charset=utf-8 247.7096ms
2024-01-16 10:35:49.254 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:35:49.261 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:35:49.263 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:35:49.265 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:35:49.268 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 263.6444ms
2024-01-16 10:36:19.720 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:36:19.731 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:36:19.734 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:36:19.736 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:36:19.737 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:36:19.739 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:36:19.743 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:36:19.747 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:36:19.748 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:36:19.751 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:36:19.754 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:36:19.757 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:36:19.760 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:36:19.762 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:36:19.764 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:19.767 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:19.771 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:36:19.775 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:36:19.776 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:36:19.777 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:19.779 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:19.781 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:36:19.782 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:36:19.785 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:36:19.787 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:36:19.805 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:36:19.808 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:19.810 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:19.812 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:19.814 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:19.817 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:19.819 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:19.821 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:19.823 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-16 10:36:19.824 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:19.826 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:36:19.827 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:36:19.831 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:36:19.831 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:36:19.833 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:36:19.834 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:36:19.836 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:36:19.838 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 74.1348ms
2024-01-16 10:36:19.840 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:36:19.842 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:36:19.843 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:19.845 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:36:19.846 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 127.0241ms
2024-01-16 10:36:37.736 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-16 10:36:37.756 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:36:37.758 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:36:37.759 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:36:37.761 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:36:37.763 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 28.2489ms
2024-01-16 10:36:37.765 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 53
2024-01-16 10:36:37.777 +06:00 [DBG] POST requests are not supported
2024-01-16 10:36:37.779 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:36:37.781 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:36:37.784 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:36:37.788 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:36:37.791 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 10:36:37.793 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 10:36:37.799 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:36:37.803 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:36:37.805 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:36:37.807 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:36:37.810 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:36:37.813 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:36:37.815 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:37.818 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:37.820 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-16 10:36:37.822 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-16 10:36:37.825 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:36:37.828 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:36:37.830 +06:00 [DBG] Connection id "0HN0M9B4S7RP4", Request id "0HN0M9B4S7RP4:00000009": started reading request body.
2024-01-16 10:36:37.832 +06:00 [DBG] Connection id "0HN0M9B4S7RP4", Request id "0HN0M9B4S7RP4:00000009": done reading request body.
2024-01-16 10:36:37.838 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 10:36:37.840 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 10:36:37.842 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-16 10:36:37.845 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 10:36:37.855 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:36:37.885 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:37.897 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:37.899 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:36:37.901 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:36:37.906 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:36:37.932 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:36:37.933 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:36:37.935 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:37.936 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:37.937 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:36:37.938 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:36:37.939 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:36:37.941 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-16 10:36:37.950 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-16 10:36:37.978 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:36:37.987 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:37.988 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 34ms reading results.
2024-01-16 10:36:37.990 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:37.991 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 10:36:37.995 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:37.997 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:36:37.998 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-16 10:36:37.999 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 183.8077ms
2024-01-16 10:36:38.000 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 10:36:38.001 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:36:38.003 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:38.003 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:36:38.004 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 200 0 null 239.2129ms
2024-01-16 10:36:38.013 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:36:38.014 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:36:38.017 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:36:38.019 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:36:38.019 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:36:38.022 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:36:38.024 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:36:38.025 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:36:38.027 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:36:38.030 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:36:38.032 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:36:38.034 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:36:38.037 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:36:38.040 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:36:38.041 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:38.043 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:38.045 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:36:38.048 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:36:38.050 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:36:38.051 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:38.053 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:38.055 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:36:38.057 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:36:38.058 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:36:38.060 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:36:38.066 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:36:38.069 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:38.071 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:38.073 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:38.074 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:38.076 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:38.078 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:38.080 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:38.081 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:38.084 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 15ms reading results.
2024-01-16 10:36:38.086 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:38.088 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:36:38.090 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:36:38.093 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:36:38.095 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:36:38.096 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:36:38.097 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:36:38.098 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:36:38.101 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 59.5617ms
2024-01-16 10:36:38.103 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:36:38.104 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:36:38.106 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:38.107 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:36:38.108 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 507 application/json; charset=utf-8 96.2907ms
2024-01-16 10:36:41.514 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/70 - null null
2024-01-16 10:36:41.520 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:36:41.521 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:36:41.522 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:36:41.523 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/70'
2024-01-16 10:36:41.525 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/70'
2024-01-16 10:36:41.529 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-16 10:36:41.532 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-16 10:36:41.541 +06:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:36:41.546 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:36:41.549 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:36:41.552 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:36:41.557 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:36:41.561 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:36:41.565 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:41.568 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:36:41.571 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-01-16 10:36:41.574 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-01-16 10:36:41.577 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-16 10:36:41.580 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-01-16 10:36:41.583 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-01-16 10:36:41.587 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-01-16 10:36:41.591 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-01-16 10:36:41.594 +06:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2024-01-16 10:36:41.598 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-16 10:36:41.602 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-16 10:36:41.604 +06:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-16 10:36:41.607 +06:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2024-01-16 10:36:41.610 +06:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2024-01-16 10:36:41.617 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:36:41.621 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-16 10:36:41.630 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:36:41.634 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:36:41.635 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:36:41.637 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:41.640 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:41.642 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:36:41.644 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:36:41.647 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:36:41.650 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:36:41.656 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:36:41.663 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:36:41.665 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:41.667 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 10:36:41.670 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:41.673 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:36:41.678 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:36:41.682 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:36:41.683 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:36:41.685 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:36:41.686 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:36:41.688 +06:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2024-01-16 10:36:41.691 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 125.9186ms
2024-01-16 10:36:41.694 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2024-01-16 10:36:41.695 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:36:41.697 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:36:41.699 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:36:41.700 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/70 - 200 50 application/json; charset=utf-8 185.9544ms
2024-01-16 10:37:21.865 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/70 - null null
2024-01-16 10:37:21.876 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:37:21.878 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:37:21.882 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:37:21.883 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:37:21.886 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/70 - 204 null null 22.5072ms
2024-01-16 10:37:21.893 +06:00 [INF] Request starting HTTP/2 PUT https://localhost:7156/api/cities/70 - application/json 67
2024-01-16 10:37:21.903 +06:00 [DBG] PUT requests are not supported
2024-01-16 10:37:21.905 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:37:21.907 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:37:21.909 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/70'
2024-01-16 10:37:21.912 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.UpdateCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/70'
2024-01-16 10:37:21.915 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.UpdateCity (CityInfo.API)'
2024-01-16 10:37:21.917 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.UpdateCity (CityInfo.API)'
2024-01-16 10:37:21.927 +06:00 [INF] Route matched with {action = "UpdateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdateCity(Int32, CityInfo.API.Models.CityDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:37:21.932 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:37:21.935 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:37:21.938 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:37:21.943 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:37:21.946 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:37:21.949 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:21.952 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:21.955 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:37:21.959 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:37:21.963 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:37:21.965 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:37:21.968 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:37:21.971 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:37:21.972 +06:00 [DBG] Attempting to bind parameter 'city' of type 'CityInfo.API.Models.CityDto' ...
2024-01-16 10:37:21.974 +06:00 [DBG] Attempting to bind parameter 'city' of type 'CityInfo.API.Models.CityDto' using the name '' in request data ...
2024-01-16 10:37:21.975 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:37:21.977 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:37:21.978 +06:00 [DBG] Connection id "0HN0M9B4S7RP4", Request id "0HN0M9B4S7RP4:00000011": started reading request body.
2024-01-16 10:37:21.979 +06:00 [DBG] Connection id "0HN0M9B4S7RP4", Request id "0HN0M9B4S7RP4:00000011": done reading request body.
2024-01-16 10:37:21.984 +06:00 [DBG] Done attempting to bind parameter 'city' of type 'CityInfo.API.Models.CityDto'.
2024-01-16 10:37:21.986 +06:00 [DBG] Done attempting to bind parameter 'city' of type 'CityInfo.API.Models.CityDto'.
2024-01-16 10:37:21.987 +06:00 [DBG] Attempting to validate the bound parameter 'city' of type 'CityInfo.API.Models.CityDto' ...
2024-01-16 10:37:21.990 +06:00 [DBG] Done attempting to validate the bound parameter 'city' of type 'CityInfo.API.Models.CityDto'.
2024-01-16 10:37:21.997 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:37:21.999 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:37:22.000 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:37:22.002 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.004 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.005 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:22.006 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:22.008 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:37:22.009 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:37:22.023 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:37:22.027 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.029 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:37:22.031 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.033 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:37:22.036 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.037 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.039 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:22.041 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:22.043 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:37:22.044 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:37:22.050 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:37:22.052 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.053 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.054 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:37:22.055 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.057 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:37:22.060 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:37:22.061 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:37:22.063 +06:00 [DBG] The unchanged property 'City.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:37:22.065 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.067 +06:00 [DBG] The unchanged property 'City.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:37:22.069 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:37:22.072 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.074 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.075 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:22.076 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:22.078 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:37:22.080 +06:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cities] SET [Description] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-01-16 10:37:22.088 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cities] SET [Description] = @p0, [Name] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2024-01-16 10:37:22.092 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.094 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:37:22.095 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.097 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:37:22.100 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.102 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:37:22.104 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-16 10:37:22.105 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.UpdateCity (CityInfo.API) in 155.5142ms
2024-01-16 10:37:22.107 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.UpdateCity (CityInfo.API)'
2024-01-16 10:37:22.109 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:37:22.110 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.111 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:37:22.113 +06:00 [INF] Request finished HTTP/2 PUT https://localhost:7156/api/cities/70 - 204 null null 221.4343ms
2024-01-16 10:37:22.119 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:37:22.126 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:37:22.127 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:37:22.128 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:37:22.129 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:37:22.130 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:37:22.133 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:37:22.134 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:37:22.136 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:37:22.139 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:37:22.141 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:37:22.143 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:37:22.144 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:37:22.146 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:37:22.149 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:22.150 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:22.152 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:37:22.155 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:37:22.156 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:37:22.158 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.159 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.160 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:22.162 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:22.164 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:37:22.166 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:37:22.169 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:37:22.172 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.174 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.175 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.177 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.179 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.181 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.183 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:22.184 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.186 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 13ms reading results.
2024-01-16 10:37:22.188 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.189 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:37:22.191 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:37:22.193 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:37:22.194 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:37:22.195 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:37:22.196 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:37:22.198 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:37:22.200 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 51.8086ms
2024-01-16 10:37:22.201 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:37:22.203 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:37:22.204 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:22.205 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:37:22.206 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 524 application/json; charset=utf-8 88.3288ms
2024-01-16 10:37:30.522 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/70 - null null
2024-01-16 10:37:30.529 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:37:30.532 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:37:30.534 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:37:30.536 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:37:30.538 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/70 - 204 null null 15.7188ms
2024-01-16 10:37:30.542 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/70 - null null
2024-01-16 10:37:30.550 +06:00 [DBG] DELETE requests are not supported
2024-01-16 10:37:30.553 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:37:30.555 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:37:30.557 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/70'
2024-01-16 10:37:30.560 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/70'
2024-01-16 10:37:30.562 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 10:37:30.563 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 10:37:30.571 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:37:30.573 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:37:30.576 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:37:30.579 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:37:30.581 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:37:30.583 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:37:30.585 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:30.587 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:30.589 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:37:30.590 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:37:30.593 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:37:30.594 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:37:30.595 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:37:30.597 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:37:30.600 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:37:30.602 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:37:30.603 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:37:30.605 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.606 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.609 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:30.610 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:30.612 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:37:30.613 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:37:30.618 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:37:30.621 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.623 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:37:30.625 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.626 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:37:30.629 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.631 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.633 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:30.634 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:30.636 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:37:30.637 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:37:30.640 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:37:30.643 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:30.645 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.647 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:37:30.649 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.651 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:37:30.653 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:30.659 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:37:30.660 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:37:30.661 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:37:30.667 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.669 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.672 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:30.673 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:30.675 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:37:30.677 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:37:30.696 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:37:30.699 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.702 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:37:30.704 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.706 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:37:30.712 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:30.714 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:37:30.715 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2024-01-16 10:37:30.717 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 131.9754ms
2024-01-16 10:37:30.719 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 10:37:30.721 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:37:30.723 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:30.725 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:37:30.727 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/70 - 204 null null 185.7681ms
2024-01-16 10:37:33.671 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:37:33.676 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:37:33.678 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:37:33.679 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:37:33.681 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:37:33.684 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:37:33.687 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:37:33.689 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:37:33.692 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:37:33.695 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:37:33.698 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:37:33.701 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:37:33.705 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:37:33.708 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:37:33.711 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:33.713 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:37:33.716 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:37:33.721 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:37:33.723 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:37:33.726 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:33.728 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:33.731 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:37:33.732 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:37:33.735 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:37:33.737 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:37:33.744 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:37:33.750 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:33.753 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:33.756 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:33.759 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:33.761 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:33.763 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:37:33.765 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:33.768 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 17ms reading results.
2024-01-16 10:37:33.770 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:33.773 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:37:33.775 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:37:33.779 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:37:33.781 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:37:33.782 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:37:33.784 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:37:33.786 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:37:33.790 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 79.1928ms
2024-01-16 10:37:33.792 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:37:33.793 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:37:33.794 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:37:33.796 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:37:33.798 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 127.4065ms
2024-01-16 10:38:04.494 +06:00 [DBG] Connection id "0HN0M9B4S7RP4" received FIN.
2024-01-16 10:38:04.496 +06:00 [DBG] Connection id "0HN0M9B4S7RP4" is closed. The last processed stream ID was 25.
2024-01-16 10:38:04.498 +06:00 [DBG] Connection id "0HN0M9B4S7RP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 10:38:04.500 +06:00 [DBG] The connection queue processing loop for 0HN0M9B4S7RP4 completed.
2024-01-16 10:38:04.519 +06:00 [DBG] Connection id "0HN0M9B4S7RP4" stopped.
2024-01-16 10:50:41.043 +06:00 [DBG] Connection id "0HN0M9B4S7RP5" accepted.
2024-01-16 10:50:41.046 +06:00 [DBG] Connection id "0HN0M9B4S7RP5" started.
2024-01-16 10:50:41.057 +06:00 [DBG] Connection 0HN0M9B4S7RP5 established using the following protocol: "Tls13"
2024-01-16 10:50:41.064 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:50:41.076 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:50:41.078 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:50:41.080 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:50:41.081 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:50:41.083 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:50:41.085 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:50:41.088 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:50:41.090 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:50:41.094 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:50:41.096 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:50:41.098 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:50:41.103 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:50:41.105 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:50:41.107 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:50:41.109 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:50:41.112 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:50:41.117 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:50:41.118 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:50:41.120 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:50:41.123 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:50:41.125 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:50:41.126 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:50:41.128 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:50:41.131 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:50:41.144 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:50:41.149 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:50:41.151 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:50:41.153 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:50:41.156 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:50:41.159 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:50:41.162 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:50:41.165 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:50:41.168 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 19ms reading results.
2024-01-16 10:50:41.170 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:50:41.174 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:50:41.176 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:50:41.180 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:50:41.181 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:50:41.183 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:50:41.184 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:50:41.185 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:50:41.187 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 80.2142ms
2024-01-16 10:50:41.190 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:50:41.191 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:50:41.192 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:50:41.194 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:50:41.197 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 133.2116ms
2024-01-16 10:52:14.278 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 10:52:14.353 +06:00 [DBG] Hosting starting
2024-01-16 10:52:14.478 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 10:52:14.479 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 10:52:14.480 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 10:52:14.481 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 10:52:14.482 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 10:52:14.483 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 10:52:14.485 +06:00 [INF] Hosting environment: Development
2024-01-16 10:52:14.486 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 10:52:14.487 +06:00 [DBG] Hosting started
2024-01-16 10:53:35.814 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 10:53:35.885 +06:00 [DBG] Hosting starting
2024-01-16 10:53:36.001 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 10:53:36.002 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 10:53:36.003 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 10:53:36.005 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 10:53:36.006 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 10:53:36.007 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 10:53:36.008 +06:00 [INF] Hosting environment: Development
2024-01-16 10:53:36.009 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 10:53:36.010 +06:00 [DBG] Hosting started
2024-01-16 10:56:11.503 +06:00 [DBG] Connection id "0HN0M9TQTE37J" accepted.
2024-01-16 10:56:11.507 +06:00 [DBG] Connection id "0HN0M9TQTE37J" started.
2024-01-16 10:56:11.595 +06:00 [DBG] Connection 0HN0M9TQTE37J established using the following protocol: "Tls13"
2024-01-16 10:56:11.653 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:56:11.668 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 10:56:11.691 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:56:11.693 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:56:11.698 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:56:11.726 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:56:11.732 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:56:11.735 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:56:11.740 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:56:11.766 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:56:11.772 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:56:11.776 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:56:11.779 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:56:11.782 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:56:11.784 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:56:11.787 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:56:11.929 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 10:56:12.116 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:56:12.893 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:56:12.972 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-16 10:56:13.212 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:56:13.258 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:56:13.281 +06:00 [DBG] Created DbConnection. (21ms).
2024-01-16 10:56:13.294 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:13.619 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:13.628 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:56:13.642 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-01-16 10:56:13.648 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-01-16 10:56:13.667 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:56:13.732 +06:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:56:13.784 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:56:13.816 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:56:13.821 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:56:13.823 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:56:13.825 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:56:13.828 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:56:13.834 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:13.845 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 101ms reading results.
2024-01-16 10:56:13.852 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:13.862 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (10ms).
2024-01-16 10:56:13.887 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:56:13.894 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:56:13.896 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:56:13.897 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:56:13.899 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:56:13.902 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:56:14.007 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2217.9643ms
2024-01-16 10:56:14.009 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:56:14.015 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:56:14.021 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:14.025 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-16 10:56:14.028 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 2380.1085ms
2024-01-16 10:56:44.898 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:56:44.907 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:56:44.909 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:56:44.911 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:56:44.915 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:56:44.917 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:56:44.920 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:44.923 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:44.941 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:56:44.945 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:56:44.948 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:56:44.950 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:56:44.953 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:56:44.954 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:56:44.956 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:56:44.965 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:56:44.975 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:56:44.979 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:56:44.983 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:44.988 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:44.990 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:56:44.994 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:45.020 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:56:45.028 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-16 10:56:45.060 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:56:45.086 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:56:45.089 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-16 10:56:45.090 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:45.095 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:45.097 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:56:45.098 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:56:45.103 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-16 10:56:45.109 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:56:45.142 +06:00 [INF] Executed DbCommand (36ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:56:45.151 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:45.153 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 10:56:45.156 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:45.158 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:56:45.161 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:56:45.163 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:56:45.168 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:56:45.170 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:56:45.173 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:56:45.175 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:56:45.193 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 237.0068ms
2024-01-16 10:56:45.195 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:45.197 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:56:45.198 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:45.200 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:56:45.201 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 304.078ms
2024-01-16 10:56:53.743 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:56:53.750 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:56:53.753 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:56:53.755 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:56:53.756 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:56:53.758 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:56:53.761 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:53.765 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:53.768 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:56:53.772 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:56:53.776 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:56:53.778 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:56:53.781 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:56:53.783 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:56:53.787 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:56:53.795 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:56:53.799 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:56:53.802 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:56:53.805 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:53.809 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:53.811 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:56:53.813 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:53.891 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:56:53.900 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:56:53.902 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:56:53.904 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.906 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.908 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:56:53.910 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:56:53.912 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:56:53.913 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:56:53.919 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:56:53.922 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.923 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:56:53.926 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.928 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:56:53.933 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-01-16 10:56:53.949 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:56:53.952 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.954 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.955 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:56:53.956 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:56:53.957 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:56:53.959 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:56:53.967 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:56:53.969 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.970 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:56:53.971 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.972 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:56:53.978 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:56:53.980 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:56:53.981 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:56:53.982 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:56:53.982 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:56:53.984 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:56:53.987 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 199.6807ms
2024-01-16 10:56:53.989 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:53.991 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:56:53.992 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:53.993 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:56:53.993 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 2 application/json; charset=utf-8 251.4471ms
2024-01-16 10:56:54.738 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - null null
2024-01-16 10:56:54.741 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:56:54.742 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:56:54.744 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:56:54.745 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:56:54.746 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/65/pointsofinterest'
2024-01-16 10:56:54.749 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:54.751 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:54.753 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:56:54.757 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:56:54.760 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:56:54.764 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:56:54.767 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:56:54.769 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:56:54.772 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:56:54.775 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:56:54.780 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:56:54.783 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:56:54.786 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:54.788 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:54.791 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:56:54.793 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:56:54.796 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:56:54.800 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:56:54.802 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:56:54.804 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.807 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.808 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:56:54.809 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:56:54.811 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:56:54.812 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:56:54.818 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:56:54.822 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.824 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:56:54.827 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.829 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:56:54.831 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.834 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.837 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:56:54.838 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:56:54.841 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:56:54.843 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:56:54.847 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:56:54.850 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.852 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:56:54.854 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.856 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:56:54.859 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:56:54.863 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:56:54.864 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:56:54.865 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:56:54.866 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:56:54.868 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:56:54.870 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 98.049ms
2024-01-16 10:56:54.871 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:56:54.873 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:56:54.874 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:56:54.875 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:56:54.877 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/65/pointsofinterest - 200 2 application/json; charset=utf-8 139.7157ms
2024-01-16 10:57:00.484 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:57:00.491 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:57:00.493 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:00.495 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:00.497 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:57:00.498 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:57:00.500 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:00.502 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:00.504 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:57:00.508 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:00.511 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:00.515 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:00.520 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:00.524 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:00.526 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:00.528 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:00.531 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:00.533 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:57:00.536 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:00.538 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:00.540 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:00.542 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:00.544 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:00.546 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:00.548 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:57:00.549 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.551 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.553 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:00.554 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:00.556 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:57:00.558 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:00.574 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:00.578 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.580 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:57:00.583 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.584 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:57:00.587 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.590 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.591 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:00.593 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:00.594 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:00.596 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:57:00.604 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:57:00.609 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:00.619 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.622 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 15ms reading results.
2024-01-16 10:57:00.624 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.626 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:57:00.630 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:00.634 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:00.636 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:57:00.637 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:57:00.639 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:57:00.641 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:57:00.646 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 120.0405ms
2024-01-16 10:57:00.650 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:00.654 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:00.656 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:00.657 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:57:00.660 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 175.8253ms
2024-01-16 10:57:27.715 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - null null
2024-01-16 10:57:27.721 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:57:27.723 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:27.725 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:27.727 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:57:27.729 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 13.9536ms
2024-01-16 10:57:27.733 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - application/json 71
2024-01-16 10:57:27.740 +06:00 [DBG] POST requests are not supported
2024-01-16 10:57:27.741 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:27.743 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:27.745 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:57:27.747 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:57:27.750 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:57:27.751 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:57:27.757 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:57:27.759 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:27.762 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:27.765 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:27.766 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:27.768 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:27.770 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:27.772 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:27.774 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:27.777 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:57:27.779 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:27.782 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:27.784 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:27.786 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:27.788 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:57:27.791 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 10:57:27.793 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:57:27.795 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:57:27.797 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:57:27.798 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 10:57:27.800 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:57:27.802 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 10:57:27.805 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:57:27.808 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:57:27.815 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:0000000D": started reading request body.
2024-01-16 10:57:27.817 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:0000000D": done reading request body.
2024-01-16 10:57:27.852 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:57:27.855 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:57:27.858 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:57:27.868 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:57:27.874 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:27.878 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:27.881 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:57:27.884 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.887 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.889 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:27.890 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:27.892 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:57:27.895 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:27.908 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:27.913 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.917 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:57:27.919 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.922 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:57:27.927 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.Id == __userId_0)'
2024-01-16 10:57:27.934 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.Id == @__userId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:57:27.939 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.942 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.945 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:27.948 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:27.950 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:57:27.952 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:27.962 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:27.966 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.969 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:57:27.971 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:27.972 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:57:27.980 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2024-01-16 10:57:27.993 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
            SELECT TOP(1) c.Id, c.Description, c.Name, c.userId
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:57:28.004 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.006 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.008 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:28.011 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:28.013 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:57:28.017 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:57:28.022 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:57:28.026 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.030 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.034 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 8ms reading results.
2024-01-16 10:57:28.037 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.040 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:57:28.045 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(u => u.Id == __userId_0)
    .FirstOrDefault()'
2024-01-16 10:57:28.054 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.email (string) Required MaxLength(50), 1], [Property: User.firstName (string) Required MaxLength(50), 2], [Property: User.lastName (string) Required, 3], [Property: User.password (string) Required MaxLength(50), 4], [Property: User.userName (string) Required MaxLength(50), 5] }
            SELECT TOP(1) u.Id, u.email, u.firstName, u.lastName, u.password, u.userName
            FROM Users AS u
            WHERE u.Id == @__userId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:57:28.059 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.063 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.066 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:28.069 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:28.072 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:57:28.075 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:57:28.082 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:57:28.110 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.128 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.147 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.151 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 63ms reading results.
2024-01-16 10:57:28.153 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.155 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:57:28.160 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:57:28.165 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:57:28.186 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.217 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.232 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.239 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.248 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.256 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:57:28.261 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.265 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:57:28.350 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.351 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.355 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:28.356 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:57:28.358 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:28.358 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:57:28.373 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:57:28.385 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:57:28.393 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.394 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 19ms reading results.
2024-01-16 10:57:28.397 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.398 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:57:28.420 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:28.426 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:57:28.432 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:28.434 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:28.434 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:57:28.436 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:57:28.437 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-01-16 10:57:28.439 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2024-01-16 10:57:28.442 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 671.7878ms
2024-01-16 10:57:28.443 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:57:28.445 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:28.447 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.448 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:57:28.450 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 718.1149ms
2024-01-16 10:57:28.455 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:57:28.458 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:57:28.461 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:28.463 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:28.464 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:57:28.465 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:57:28.466 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:28.468 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:28.471 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:57:28.474 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:28.476 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:28.479 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:28.481 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:28.483 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:28.485 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:28.487 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:28.489 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:28.491 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:57:28.494 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:28.496 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:28.498 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:28.500 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:28.503 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:28.506 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:28.507 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:57:28.509 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.511 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.514 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:28.516 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:28.518 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:57:28.520 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:28.526 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:28.529 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.531 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:57:28.534 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.537 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:57:28.539 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:57:28.541 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:28.546 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:28.548 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:57:28.552 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:57:28.554 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:57:28.557 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 72.3358ms
2024-01-16 10:57:28.560 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:28.561 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:28.563 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:28.564 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:57:28.566 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 111.5702ms
2024-01-16 10:57:32.836 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:57:32.842 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:57:32.845 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:32.847 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:32.848 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:57:32.850 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:57:32.857 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:32.860 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:32.861 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:57:32.864 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:32.867 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:32.870 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:32.873 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:32.875 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:32.877 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:32.879 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:32.882 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:32.885 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:57:32.887 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:32.889 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:32.892 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:32.894 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:32.896 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:32.900 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:32.901 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:57:32.902 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.906 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.908 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:32.910 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:32.912 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:57:32.914 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:32.920 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:32.924 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.926 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:57:32.928 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.929 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:57:32.931 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.934 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.937 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:32.939 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:32.942 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:57:32.943 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:57:32.949 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:57:32.952 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:32.955 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:32.957 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.959 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-16 10:57:32.961 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.963 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:57:32.965 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:32.970 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:32.971 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:57:32.972 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:57:32.974 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:57:32.976 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:57:32.978 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 101.0306ms
2024-01-16 10:57:32.980 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:32.981 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:32.983 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:32.984 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:57:32.986 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 198 application/json; charset=utf-8 150.9982ms
2024-01-16 10:57:45.277 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/22 - null null
2024-01-16 10:57:45.283 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:57:45.285 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:45.288 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:45.290 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:57:45.291 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/22 - 204 null null 14.9681ms
2024-01-16 10:57:45.294 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/22 - null null
2024-01-16 10:57:45.303 +06:00 [DBG] DELETE requests are not supported
2024-01-16 10:57:45.304 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:45.306 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:45.307 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/22'
2024-01-16 10:57:45.309 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/22'
2024-01-16 10:57:45.312 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:57:45.314 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:57:45.322 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:57:45.326 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:45.329 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:45.331 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:45.333 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:45.335 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:45.337 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:45.340 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:45.343 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:45.345 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:57:45.348 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:45.349 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:45.350 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:45.350 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:45.352 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:57:45.354 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 10:57:45.357 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:57:45.359 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:57:45.361 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:57:45.364 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:57:45.367 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:45.370 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:45.372 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:57:45.373 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.376 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.378 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:45.380 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:45.381 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:57:45.382 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:45.385 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:45.388 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.390 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:57:45.392 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.395 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:57:45.400 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-01-16 10:57:45.407 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name, p.userId
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 10:57:45.413 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.414 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.415 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:45.417 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:45.418 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:45.420 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:57:45.426 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:57:45.428 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:45.430 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.431 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:57:45.433 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.436 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 10:57:45.440 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:45.444 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:57:45.445 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:57:45.448 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:57:45.456 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.458 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.460 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:45.461 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:45.463 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:57:45.465 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:57:45.473 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:57:45.476 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.479 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:57:45.481 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.482 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:57:45.488 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:45.490 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:57:45.494 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:45.498 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:45.498 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:57:45.499 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:57:45.500 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:57:45.502 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 10:57:45.507 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 169.9583ms
2024-01-16 10:57:45.509 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:57:45.511 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:45.512 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:45.513 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:57:45.514 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/22 - 200 28 application/json; charset=utf-8 220.4658ms
2024-01-16 10:57:48.306 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-16 10:57:48.306 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 10:57:48.312 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:57:48.319 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:57:48.321 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:48.323 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:48.324 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:48.325 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:48.326 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-16 10:57:48.327 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 10:57:48.329 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:57:48.331 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 10:57:48.334 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 10:57:48.336 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:57:48.339 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:48.340 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:57:48.342 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:48.344 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:57:48.347 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:48.349 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 10:57:48.349 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:48.352 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:48.354 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:48.360 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:48.358 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:48.362 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:48.365 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:48.369 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:57:48.372 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:48.374 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:57:48.376 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:48.379 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:48.383 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:57:48.387 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:48.389 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 10:57:48.390 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-16 10:57:48.394 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.396 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:48.397 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.402 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-16 10:57:48.404 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:48.407 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:57:48.410 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 10:57:48.412 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 10:57:48.414 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:57:48.418 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:48.425 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 10:57:48.425 +06:00 [DBG] Created DbConnection. (6ms).
2024-01-16 10:57:48.430 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:48.432 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.437 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:48.454 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:48.457 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:48.460 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:48.463 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:48.467 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.471 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 41ms reading results.
2024-01-16 10:57:48.475 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.480 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.483 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:48.485 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (5ms).
2024-01-16 10:57:48.487 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:57:48.489 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:48.492 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-01-16 10:57:48.502 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:48.505 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:57:48.507 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:57:48.513 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:57:48.514 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 10:57:48.515 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:57:48.521 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:57:48.524 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:57:48.526 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.529 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 159.5408ms
2024-01-16 10:57:48.532 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 11ms reading results.
2024-01-16 10:57:48.536 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 10:57:48.540 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.542 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:48.544 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:57:48.547 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.550 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 10:57:48.553 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 246.8189ms
2024-01-16 10:57:48.553 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:48.564 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:48.566 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:57:48.567 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:57:48.569 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:57:48.571 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointsOfInterestReturnDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:57:48.576 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 193.7421ms
2024-01-16 10:57:48.581 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:48.582 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:48.584 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:48.587 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 10:57:48.590 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 200 105 application/json; charset=utf-8 283.6951ms
2024-01-16 10:57:53.448 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:57:53.458 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:57:53.462 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:57:53.465 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:57:53.468 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:57:53.471 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:57:53.475 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:53.478 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:53.481 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:57:53.486 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:57:53.490 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:57:53.495 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:57:53.499 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:57:53.503 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:57:53.505 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:53.508 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:57:53.511 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:53.514 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:57:53.516 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:53.517 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:53.519 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:57:53.521 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:57:53.524 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:57:53.527 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:57:53.528 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:57:53.529 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:53.531 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:53.532 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:57:53.534 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:57:53.536 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:57:53.538 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:53.543 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:57:53.549 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:53.551 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:57:53.554 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:53.556 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:57:53.559 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:57:53.559 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:57:53.562 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:57:53.563 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:57:53.567 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:57:53.569 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:57:53.572 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 67.0042ms
2024-01-16 10:57:53.574 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:57:53.575 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:57:53.576 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:57:53.578 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:57:53.580 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 132.3512ms
2024-01-16 10:58:12.511 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:58:12.517 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:58:12.520 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:12.522 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:12.524 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:58:12.527 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:58:12.531 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:12.534 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:12.537 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:58:12.541 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:58:12.545 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:58:12.547 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:58:12.550 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:58:12.553 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:58:12.555 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:12.557 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:12.559 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:12.561 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:58:12.562 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:12.563 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:12.565 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:12.567 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:12.571 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:58:12.573 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:58:12.574 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:58:12.575 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.578 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.580 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:12.582 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:12.584 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:58:12.586 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:12.601 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:12.604 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.606 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:58:12.608 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.609 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:12.612 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.614 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.616 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:12.618 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:12.620 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:58:12.622 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:58:12.627 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:58:12.629 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:12.630 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.631 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:58:12.632 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.633 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 10:58:12.634 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:58:12.636 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:58:12.637 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:58:12.637 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:58:12.638 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:58:12.639 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:58:12.640 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 84.3658ms
2024-01-16 10:58:12.641 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:12.642 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:58:12.644 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:12.645 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:58:12.646 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 134.3832ms
2024-01-16 10:58:32.067 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:58:32.072 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:58:32.074 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:32.076 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:32.077 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:58:32.078 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:58:32.081 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:32.082 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:32.084 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:58:32.087 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:58:32.089 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:58:32.092 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:58:32.095 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:58:32.098 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:58:32.100 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:32.102 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:32.105 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:32.107 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:58:32.108 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:32.112 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:32.114 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:32.116 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:32.119 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:58:32.123 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:58:32.124 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 10:58:32.125 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:32.127 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:32.129 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:32.131 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:32.133 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:58:32.136 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:32.144 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:32.150 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:32.153 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:58:32.158 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:32.161 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:58:32.164 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:58:32.166 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:58:32.171 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:58:32.173 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:58:32.177 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:58:32.180 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:58:32.183 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 83.089ms
2024-01-16 10:58:32.186 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:32.190 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:58:32.193 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:32.196 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 10:58:32.200 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 132.6455ms
2024-01-16 10:58:37.496 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:58:37.502 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:58:37.504 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:37.506 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:37.507 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:58:37.510 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:58:37.514 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:37.517 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:37.519 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:58:37.521 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:58:37.524 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:58:37.527 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:58:37.531 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:58:37.534 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:58:37.536 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:37.538 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:37.541 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:37.543 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:58:37.546 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:37.549 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:37.551 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:37.553 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:37.555 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:58:37.559 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:58:37.561 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:58:37.562 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.564 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.567 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:37.569 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:37.571 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:58:37.573 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:37.579 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:37.582 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.584 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:58:37.585 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.587 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:37.588 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.590 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.592 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:37.593 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:37.595 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:58:37.597 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:58:37.600 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:58:37.603 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:37.605 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.607 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:58:37.609 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.611 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:58:37.614 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:58:37.617 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:58:37.618 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:58:37.618 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:58:37.619 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:58:37.621 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:58:37.623 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 87.7296ms
2024-01-16 10:58:37.626 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:37.627 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:58:37.628 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:37.630 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:58:37.633 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 137.1677ms
2024-01-16 10:58:49.726 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - null null
2024-01-16 10:58:49.733 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:58:49.736 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:49.739 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:49.740 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:58:49.743 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 16.6744ms
2024-01-16 10:58:49.746 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - application/json 71
2024-01-16 10:58:49.754 +06:00 [DBG] POST requests are not supported
2024-01-16 10:58:49.756 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:49.757 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:49.759 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:58:49.762 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 10:58:49.765 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:58:49.768 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:58:49.771 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:58:49.773 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:58:49.776 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:58:49.779 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:58:49.782 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:58:49.785 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:58:49.789 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:49.791 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:49.793 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:49.795 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:58:49.797 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:49.800 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:49.802 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:49.805 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:49.807 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:58:49.808 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 10:58:49.810 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:58:49.811 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 10:58:49.813 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 10:58:49.814 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 10:58:49.816 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:58:49.817 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 10:58:49.819 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 10:58:49.821 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 10:58:49.822 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000025": started reading request body.
2024-01-16 10:58:49.823 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000025": done reading request body.
2024-01-16 10:58:49.825 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:58:49.826 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:58:49.827 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 10:58:49.829 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 10:58:49.831 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:58:49.835 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:58:49.836 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:58:49.837 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.839 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.841 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:49.842 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:58:49.843 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:58:49.844 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:49.850 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:49.853 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.854 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:58:49.856 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.857 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:49.859 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.861 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.863 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:49.865 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:49.867 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:58:49.869 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:49.879 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:49.883 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.885 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:58:49.887 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.888 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:49.890 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.892 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.893 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:49.895 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:49.897 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:58:49.899 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:58:49.904 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 10:58:49.906 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.906 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.907 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:58:49.908 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.910 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:49.911 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.912 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.913 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:49.914 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:58:49.915 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:49.916 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:58:49.921 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 10:58:49.923 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.923 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.924 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.925 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 10:58:49.927 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.928 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:49.929 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:58:49.930 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:58:49.931 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.933 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.935 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.937 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.938 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.939 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:58:49.940 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.941 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:58:49.943 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.944 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.945 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:49.946 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:58:49.947 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:49.948 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:58:49.956 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 10:58:49.957 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 10:58:49.959 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.960 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:58:49.961 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.962 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:49.963 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:49.965 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:58:49.966 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:58:49.970 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:58:49.971 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:58:49.971 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:58:49.972 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-01-16 10:58:49.974 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2024-01-16 10:58:49.976 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 187.0524ms
2024-01-16 10:58:49.978 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 10:58:49.980 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:58:49.981 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:49.982 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:58:49.984 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 238.8147ms
2024-01-16 10:58:49.991 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:58:49.994 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:58:49.996 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:49.997 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:49.999 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:58:50.001 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:58:50.003 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:50.004 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:50.006 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:58:50.008 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:58:50.011 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:58:50.012 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:58:50.013 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:58:50.014 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:58:50.016 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:50.017 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:50.019 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:50.021 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:58:50.022 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:50.023 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:50.025 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:50.026 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:50.028 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:58:50.030 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:58:50.031 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:58:50.033 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:50.035 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:50.037 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:50.038 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:50.040 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:58:50.042 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:50.045 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:50.049 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:50.051 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:58:50.053 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:50.055 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:50.057 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:58:50.058 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:58:50.060 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:58:50.061 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:58:50.065 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:58:50.067 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:58:50.069 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 53.122ms
2024-01-16 10:58:50.072 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:50.073 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:58:50.074 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:50.075 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:58:50.076 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 84.9873ms
2024-01-16 10:58:54.174 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 10:58:54.182 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:58:54.186 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:54.189 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:54.191 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:58:54.195 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 10:58:54.200 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:54.203 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:54.204 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:58:54.208 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:58:54.212 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:58:54.215 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:58:54.219 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:58:54.223 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:58:54.226 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:54.230 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:54.233 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:54.236 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:58:54.239 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:54.241 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:54.244 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:54.247 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:54.250 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:58:54.255 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:58:54.256 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:58:54.259 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.262 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.265 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:54.268 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-16 10:58:54.271 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-16 10:58:54.273 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:54.280 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:54.286 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.288 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:58:54.292 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.294 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:58:54.298 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.300 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.303 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:54.305 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:58:54.308 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:58:54.310 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:58:54.315 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 10:58:54.319 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:54.321 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:54.324 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.326 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-16 10:58:54.329 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.331 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:54.333 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:58:54.338 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:58:54.339 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:58:54.341 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:58:54.342 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:58:54.345 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 10:58:54.347 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 120.6004ms
2024-01-16 10:58:54.350 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:58:54.351 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:58:54.352 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:54.354 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:58:54.356 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 198 application/json; charset=utf-8 183.1221ms
2024-01-16 10:58:56.086 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/23 - null null
2024-01-16 10:58:56.092 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 10:58:56.094 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:56.098 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:56.100 +06:00 [DBG] The request is a preflight request.
2024-01-16 10:58:56.101 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/23 - 204 null null 15.0017ms
2024-01-16 10:58:56.104 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/23 - null null
2024-01-16 10:58:56.113 +06:00 [DBG] DELETE requests are not supported
2024-01-16 10:58:56.115 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:58:56.116 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:58:56.118 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/23'
2024-01-16 10:58:56.120 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/23'
2024-01-16 10:58:56.123 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:58:56.125 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:58:56.128 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:58:56.130 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:58:56.132 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:58:56.136 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:58:56.138 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:58:56.140 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:58:56.142 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:56.144 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:58:56.146 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:56.149 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:58:56.151 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:56.152 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:56.153 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:58:56.155 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:58:56.156 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:58:56.158 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 10:58:56.160 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:58:56.161 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:58:56.163 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 10:58:56.166 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 10:58:56.168 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:58:56.171 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:58:56.172 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:58:56.175 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.176 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.178 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:56.180 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:58:56.182 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:58:56.184 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:56.188 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:58:56.191 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.193 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:58:56.196 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.198 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:58:56.202 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.204 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.206 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:56.208 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:58:56.210 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:58:56.213 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:58:56.219 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 10:58:56.223 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:56.226 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.228 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 10:58:56.231 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.233 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:58:56.249 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:56.251 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 10:58:56.251 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 10:58:56.252 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 10:58:56.253 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.255 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.256 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:58:56.256 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 10:58:56.258 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:58:56.259 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:58:56.271 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 10:58:56.273 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.274 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 10:58:56.276 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.277 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 10:58:56.278 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 10:58:56.281 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 10:58:56.282 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:58:56.284 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:58:56.284 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 10:58:56.284 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 10:58:56.285 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 10:58:56.286 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 10:58:56.288 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 145.5768ms
2024-01-16 10:58:56.289 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 10:58:56.292 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:58:56.292 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:58:56.293 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 10:58:56.294 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/23 - 200 28 application/json; charset=utf-8 190.3535ms
2024-01-16 10:59:00.419 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:59:00.423 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:59:00.424 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:59:00.425 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:59:00.427 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:59:00.428 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:59:00.431 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:59:00.432 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:59:00.434 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:59:00.438 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:59:00.442 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:59:00.446 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:59:00.451 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:59:00.454 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:59:00.458 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:59:00.461 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:59:00.465 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:59:00.468 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:59:00.470 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:59:00.473 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:59:00.476 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:59:00.479 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:59:00.482 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:59:00.485 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:59:00.487 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 10:59:00.488 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:00.491 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:00.493 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:59:00.496 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 10:59:00.498 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:59:00.500 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:59:00.514 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:59:00.519 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:00.521 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:59:00.524 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:00.527 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 10:59:00.529 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:59:00.530 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:59:00.534 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:59:00.535 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:59:00.539 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:59:00.540 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:59:00.541 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 83.7996ms
2024-01-16 10:59:00.543 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:59:00.545 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:59:00.547 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:00.548 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:59:00.551 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 132.6729ms
2024-01-16 10:59:52.069 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 10:59:52.077 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 10:59:52.078 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 10:59:52.080 +06:00 [INF] CORS policy execution successful.
2024-01-16 10:59:52.082 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:59:52.084 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 10:59:52.085 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:59:52.087 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:59:52.088 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 10:59:52.090 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 10:59:52.092 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 10:59:52.094 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 10:59:52.097 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 10:59:52.099 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 10:59:52.102 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:59:52.104 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 10:59:52.107 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:59:52.109 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 10:59:52.112 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:59:52.115 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:59:52.118 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 10:59:52.121 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 10:59:52.124 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 10:59:52.128 +06:00 [DBG] Creating DbConnection.
2024-01-16 10:59:52.130 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 10:59:52.133 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:52.135 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:52.138 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 10:59:52.140 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 10:59:52.142 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 10:59:52.145 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:59:52.163 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 10:59:52.168 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:52.170 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 10:59:52.174 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:52.179 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (4ms).
2024-01-16 10:59:52.182 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 10:59:52.184 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 10:59:52.188 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 10:59:52.191 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 10:59:52.199 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 10:59:52.202 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 10:59:52.206 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 103.821ms
2024-01-16 10:59:52.220 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 10:59:52.223 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 10:59:52.225 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 10:59:52.227 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 10:59:52.230 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 160.6567ms
2024-01-16 11:01:21.640 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:01:21.649 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:01:21.650 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:21.652 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:21.653 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:01:21.655 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:01:21.657 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:21.658 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:21.659 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:01:21.662 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:01:21.664 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:01:21.666 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:01:21.668 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:01:21.671 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:01:21.673 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:21.675 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:21.676 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:21.678 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:01:21.680 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:21.681 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:21.683 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:21.684 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:21.688 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:01:21.691 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:01:21.693 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:01:21.694 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:21.697 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:21.699 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:21.700 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:21.702 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:21.703 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:21.720 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:21.724 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:21.726 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:01:21.729 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:21.731 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:21.735 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:01:21.736 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:01:21.739 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:01:21.740 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:01:21.743 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:01:21.745 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:01:21.748 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 75.3276ms
2024-01-16 11:01:21.752 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:21.753 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:01:21.755 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:21.757 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 11:01:21.759 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 119.2552ms
2024-01-16 11:01:28.995 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 11:01:29.000 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:01:29.002 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:29.004 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:29.007 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:01:29.010 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:01:29.014 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:29.017 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:29.019 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:01:29.025 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:01:29.028 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:01:29.033 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:01:29.037 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:01:29.041 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:01:29.044 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:29.047 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:29.050 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:29.053 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:01:29.056 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:29.059 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:29.061 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:29.063 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:29.067 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:01:29.073 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:01:29.075 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:01:29.077 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.080 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.083 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:29.086 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:29.089 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 11:01:29.091 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:29.113 +06:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:29.119 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.121 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:01:29.124 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.126 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:29.130 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.132 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.134 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:29.136 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:29.139 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:01:29.140 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:01:29.146 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:01:29.149 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:29.151 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.152 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 11:01:29.154 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.156 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:29.158 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:01:29.162 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:01:29.163 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:01:29.164 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:01:29.165 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:01:29.167 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:01:29.170 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 126.1169ms
2024-01-16 11:01:29.172 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:29.173 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:01:29.174 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:29.176 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:01:29.177 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 182.4327ms
2024-01-16 11:01:41.203 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - null null
2024-01-16 11:01:41.209 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:01:41.212 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:41.213 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:41.214 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:01:41.215 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 12.9247ms
2024-01-16 11:01:41.217 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - application/json 71
2024-01-16 11:01:41.222 +06:00 [DBG] POST requests are not supported
2024-01-16 11:01:41.223 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:41.225 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:41.225 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 11:01:41.227 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 11:01:41.230 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:01:41.231 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:01:41.232 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:01:41.235 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:01:41.237 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:01:41.240 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:01:41.243 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:01:41.246 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:01:41.248 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:41.251 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:41.253 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:41.255 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:01:41.258 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:41.259 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:41.261 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:41.263 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:41.265 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 11:01:41.267 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 11:01:41.270 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 11:01:41.272 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 11:01:41.273 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 11:01:41.275 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 11:01:41.277 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 11:01:41.279 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 11:01:41.281 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 11:01:41.283 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 11:01:41.285 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000039": started reading request body.
2024-01-16 11:01:41.288 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000039": done reading request body.
2024-01-16 11:01:41.289 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:01:41.291 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:01:41.292 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 11:01:41.294 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:01:41.297 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:01:41.299 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:01:41.300 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:01:41.301 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.303 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.304 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:41.306 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:41.308 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:01:41.310 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:41.315 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:41.318 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.319 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:01:41.321 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.323 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:41.325 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.328 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.330 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:41.331 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:01:41.332 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:41.334 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:41.343 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:41.345 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.347 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:01:41.348 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.350 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:01:41.352 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.353 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.354 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:41.355 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:41.357 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:41.358 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:01:41.363 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:01:41.366 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.367 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.368 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:01:41.371 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.373 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:41.376 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.378 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.380 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:41.381 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:41.383 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:41.385 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 11:01:41.390 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 11:01:41.394 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.395 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.397 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.399 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 11:01:41.401 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.402 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:01:41.404 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:01:41.405 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:01:41.406 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.409 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.412 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.416 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.420 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.422 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:01:41.424 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.425 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:01:41.428 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.431 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.433 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:41.434 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:41.436 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:41.438 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 11:01:41.446 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 11:01:41.449 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:01:41.451 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.452 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 11:01:41.454 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.455 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:01:41.457 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:41.460 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:01:41.461 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:01:41.467 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:01:41.468 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:01:41.469 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:01:41.470 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-01-16 11:01:41.472 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2024-01-16 11:01:41.475 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 226.7074ms
2024-01-16 11:01:41.477 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:01:41.477 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:01:41.479 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.480 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 11:01:41.482 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 265.111ms
2024-01-16 11:01:41.487 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:01:41.491 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:01:41.493 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:41.494 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:41.494 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:01:41.495 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:01:41.498 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:41.500 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:41.501 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:01:41.504 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:01:41.506 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:01:41.508 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:01:41.511 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:01:41.512 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:01:41.514 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:41.516 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:41.518 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:41.520 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:01:41.522 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:41.524 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:41.525 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:41.525 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:41.528 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:01:41.530 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:01:41.530 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:01:41.531 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.531 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.532 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:41.533 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:01:41.533 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:41.535 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:41.540 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:41.544 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.546 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:01:41.548 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.550 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:41.552 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:01:41.553 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:01:41.556 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:01:41.557 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:01:41.561 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:01:41.562 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:01:41.563 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 49.5002ms
2024-01-16 11:01:41.565 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:41.566 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:01:41.567 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:41.569 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:01:41.569 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 82.2316ms
2024-01-16 11:01:46.117 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 11:01:46.122 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:01:46.124 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:46.126 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:46.127 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:01:46.128 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:01:46.131 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:46.133 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:46.135 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:01:46.138 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:01:46.140 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:01:46.142 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:01:46.143 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:01:46.145 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:01:46.146 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:46.148 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:46.149 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:46.151 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:01:46.152 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:46.154 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:46.157 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:46.158 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:46.160 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:01:46.163 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:01:46.164 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:01:46.166 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.168 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.170 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:46.171 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:46.173 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:01:46.174 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:46.179 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:46.181 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.182 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:01:46.184 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.185 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:01:46.187 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.189 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.191 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:46.192 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:01:46.194 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:46.195 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:01:46.199 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:01:46.202 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:46.204 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:46.206 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.208 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 11:01:46.209 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.210 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:01:46.212 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:01:46.215 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:01:46.216 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:01:46.217 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:01:46.218 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:01:46.220 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:01:46.223 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 76.1879ms
2024-01-16 11:01:46.224 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:01:46.225 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:01:46.226 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:46.228 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:01:46.229 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 198 application/json; charset=utf-8 113.224ms
2024-01-16 11:01:48.587 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/24 - null null
2024-01-16 11:01:48.593 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:01:48.595 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:48.597 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:48.599 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:01:48.601 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/24 - 204 null null 13.4732ms
2024-01-16 11:01:48.604 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/24 - null null
2024-01-16 11:01:48.615 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:01:48.616 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:01:48.617 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:01:48.619 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/24'
2024-01-16 11:01:48.621 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/24'
2024-01-16 11:01:48.623 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:01:48.625 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:01:48.628 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:01:48.631 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:01:48.633 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:01:48.635 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:01:48.638 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:01:48.640 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:01:48.642 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:48.644 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:01:48.646 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:48.648 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:01:48.650 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:48.651 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:48.653 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:01:48.655 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:01:48.656 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:01:48.658 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:01:48.660 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:01:48.662 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:01:48.663 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:01:48.666 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:01:48.668 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:01:48.671 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:01:48.672 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:01:48.673 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.675 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.677 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:48.679 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:48.681 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:01:48.683 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:48.687 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:01:48.692 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.694 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:01:48.696 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.698 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:48.701 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.702 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.704 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:48.706 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:48.707 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:01:48.710 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:01:48.714 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:01:48.718 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:48.720 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.722 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 11:01:48.724 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.725 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:01:48.727 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:48.730 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:01:48.731 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:01:48.733 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:01:48.734 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.736 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.738 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:01:48.739 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:01:48.740 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:01:48.742 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:01:48.753 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:01:48.755 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.757 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:01:48.759 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.761 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:01:48.764 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:01:48.767 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:01:48.769 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:01:48.772 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:01:48.773 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:01:48.774 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:01:48.775 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:01:48.776 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 11:01:48.777 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 135.1958ms
2024-01-16 11:01:48.779 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:01:48.780 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:01:48.781 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:01:48.782 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:01:48.783 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/24 - 200 28 application/json; charset=utf-8 179.4567ms
2024-01-16 11:02:02.164 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:02:02.167 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:02:02.168 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:02.172 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:02.173 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:02:02.182 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:02:02.186 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:02.187 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:02.188 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:02.190 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:02.193 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:02.195 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:02.197 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:02.198 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:02.200 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:02.202 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:02.204 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:02.206 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:02.207 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:02.210 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:02.211 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:02.212 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:02.214 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:02.216 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:02.217 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:02:02.218 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:02.220 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:02.221 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:02.222 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:02.224 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:02.225 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:02.229 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:02.232 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:02.233 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:02.235 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:02.236 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:02.237 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:02:02.238 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:02.242 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:02.243 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:02.246 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:02.248 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:02.250 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 50.0885ms
2024-01-16 11:02:02.253 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:02.256 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:02.258 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:02.260 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:02.261 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 97.5083ms
2024-01-16 11:02:15.351 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - null null
2024-01-16 11:02:15.358 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:02:15.360 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:15.362 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:15.364 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:02:15.366 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 16.9036ms
2024-01-16 11:02:15.370 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - application/json 71
2024-01-16 11:02:15.379 +06:00 [DBG] POST requests are not supported
2024-01-16 11:02:15.381 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:15.383 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:15.384 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 11:02:15.386 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 11:02:15.387 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:02:15.388 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:02:15.390 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:15.392 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:15.396 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:15.398 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:15.401 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:15.404 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:15.406 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:15.409 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:15.411 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:15.413 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:15.415 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:15.417 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:15.419 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:15.421 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:15.424 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 11:02:15.426 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 11:02:15.428 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 11:02:15.430 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 11:02:15.431 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 11:02:15.433 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 11:02:15.436 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 11:02:15.438 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 11:02:15.440 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 11:02:15.441 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 11:02:15.443 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000047": started reading request body.
2024-01-16 11:02:15.445 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000047": done reading request body.
2024-01-16 11:02:15.447 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:02:15.449 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:02:15.450 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 11:02:15.452 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:02:15.454 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:15.458 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:15.459 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:15.461 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.463 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.464 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:15.465 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:15.467 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:15.468 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:15.473 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:15.476 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.479 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:15.480 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.481 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:15.483 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.485 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.487 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:15.488 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:15.490 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:15.492 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:15.496 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:15.498 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.499 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:15.501 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.501 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 11:02:15.503 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.504 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.505 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:15.506 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:15.507 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:15.508 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:02:15.511 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:02:15.513 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.514 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.515 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:15.516 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.517 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 11:02:15.518 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.519 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.520 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:15.521 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:15.522 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:15.523 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 11:02:15.527 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 11:02:15.531 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.532 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.533 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.534 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:15.535 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.536 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:15.537 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:02:15.538 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:02:15.539 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.540 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.542 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.543 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.544 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.547 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:02:15.548 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.549 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:02:15.551 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.552 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.552 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:15.553 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:15.554 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:15.555 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 11:02:15.559 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 11:02:15.560 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:02:15.562 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.563 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 11:02:15.565 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.566 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:15.567 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:15.568 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:02:15.570 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:15.574 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:15.575 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:02:15.576 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:02:15.577 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-01-16 11:02:15.578 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2024-01-16 11:02:15.579 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 173.2539ms
2024-01-16 11:02:15.581 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:02:15.583 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:15.584 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.586 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:15.587 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 217.7929ms
2024-01-16 11:02:15.593 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:02:15.597 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:02:15.598 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:15.600 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:15.601 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:02:15.603 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:02:15.604 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:15.606 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:15.607 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:15.610 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:15.613 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:15.614 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:15.617 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:15.619 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:15.622 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:15.624 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:15.626 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:15.628 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:15.630 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:15.632 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:15.634 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:15.636 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:15.639 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:15.641 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:15.642 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:02:15.643 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.645 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.647 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:15.648 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:15.649 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:15.651 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:15.655 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:15.657 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.659 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:15.661 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.662 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:15.663 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:02:15.664 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:15.667 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:15.668 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:15.671 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:15.673 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:15.675 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 52.8207ms
2024-01-16 11:02:15.677 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:15.679 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:15.680 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:15.682 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:15.684 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 90.7116ms
2024-01-16 11:02:20.485 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 11:02:20.492 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:02:20.494 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:20.496 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:20.498 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:02:20.500 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:02:20.503 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:20.505 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:20.507 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:20.510 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:20.511 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:20.513 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:20.514 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:20.516 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:20.518 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:20.520 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:20.520 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:20.521 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:20.523 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:20.525 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:20.526 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:20.528 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:20.529 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:20.533 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:20.534 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:20.535 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.537 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.539 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:20.540 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:20.542 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:20.543 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:20.554 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:20.558 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.559 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:20.561 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.562 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:20.565 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.567 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.569 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:20.570 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:20.572 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:20.574 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:02:20.579 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:02:20.582 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:20.583 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:20.585 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.587 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 11:02:20.589 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.590 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:20.592 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:20.594 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:20.595 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:02:20.596 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:02:20.597 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:02:20.598 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:02:20.599 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 80.6514ms
2024-01-16 11:02:20.601 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:20.602 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:20.603 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:20.604 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 11:02:20.605 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 198 application/json; charset=utf-8 120.0573ms
2024-01-16 11:02:22.510 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:22.516 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:02:22.519 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:22.521 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:22.523 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:02:22.525 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/25 - 204 null null 15.2152ms
2024-01-16 11:02:22.528 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:22.537 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:22.539 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:22.541 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:22.543 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:22.546 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:22.549 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:22.551 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:22.554 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:22.557 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:22.560 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:22.562 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:22.563 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:22.564 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:22.566 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:22.568 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:22.570 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:22.572 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:22.574 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:22.576 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:22.578 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:22.580 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:22.582 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:22.585 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:22.587 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:22.589 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:22.590 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:22.592 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:22.595 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:22.599 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:22.600 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:22.602 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.604 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.606 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:22.607 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:22.609 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:22.611 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:22.632 +06:00 [INF] Executed DbCommand (21ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:22.636 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.638 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:22.641 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.642 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:22.646 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.648 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.649 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:22.650 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:22.652 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:22.654 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:22.658 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:22.662 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:22.665 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.667 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 11:02:22.670 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.672 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:22.674 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:22.678 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:02:22.679 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:02:22.680 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:02:22.682 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.684 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.685 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:22.687 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:22.689 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:22.691 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:02:22.698 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:02:22.702 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.704 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:22.706 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.707 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:22.721 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:22.723 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:02:22.725 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:22.728 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:22.728 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:02:22.729 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:02:22.730 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:02:22.731 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 11:02:22.732 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 165.8549ms
2024-01-16 11:02:22.734 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:22.735 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:22.737 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:22.737 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 11:02:22.739 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 200 28 application/json; charset=utf-8 211.4708ms
2024-01-16 11:02:24.773 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:24.780 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:24.782 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:24.785 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:24.787 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:24.789 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:24.793 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:24.795 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:24.798 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:24.801 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:24.804 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:24.807 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:24.810 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:24.813 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:24.817 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:24.819 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:24.823 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:24.825 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:24.829 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:24.831 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:24.834 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:24.837 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:24.839 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:24.841 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:24.843 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:24.845 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:24.848 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:24.851 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:24.854 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:24.857 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:24.858 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:24.860 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.863 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.865 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:24.867 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:24.870 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:02:24.872 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:24.879 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:24.883 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.884 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:24.887 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.888 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:24.889 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.891 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.893 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:24.894 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:24.896 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:24.897 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:24.903 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:24.906 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.908 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:24.910 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.912 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:24.915 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:24.919 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:24.921 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:24.924 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:24.926 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:24.928 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 111.6677ms
2024-01-16 11:02:24.930 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:24.931 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:24.933 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:24.935 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:24.937 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 404 162 application/problem+json; charset=utf-8 164.0072ms
2024-01-16 11:02:24.977 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:24.980 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:24.981 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:24.984 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:24.985 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:24.987 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:24.989 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:24.990 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:24.991 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:24.995 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:24.997 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:24.998 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:25.001 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:25.004 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:25.006 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.008 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.010 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.011 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:25.012 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.013 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.015 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.017 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.018 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.020 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:25.023 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.026 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.027 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.029 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.032 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:25.035 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:25.037 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:25.038 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.039 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.040 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.041 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:25.042 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:25.043 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.048 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.051 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.053 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:25.055 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.057 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:02:25.059 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.060 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.061 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.062 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:25.064 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:25.065 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.069 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.070 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.072 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:25.073 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.074 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:25.077 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:25.080 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:25.081 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:25.085 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:25.086 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:25.088 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 82.5135ms
2024-01-16 11:02:25.089 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.089 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:25.091 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.092 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:25.094 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 404 162 application/problem+json; charset=utf-8 117.2466ms
2024-01-16 11:02:25.388 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:25.392 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:25.395 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:25.399 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:25.400 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:25.403 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:25.406 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.407 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.409 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:25.412 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:25.415 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:25.417 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:25.420 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:25.421 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:25.423 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.426 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.428 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.430 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:25.433 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.436 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.438 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.439 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.442 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.444 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:25.446 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.448 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.451 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.453 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.455 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:25.458 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:25.460 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:25.463 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.465 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.468 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.470 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:25.471 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:25.473 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.477 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.480 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.482 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:25.484 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.487 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:02:25.489 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.491 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.493 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.495 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:25.498 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:02:25.500 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.504 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.506 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.508 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:25.511 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.513 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:02:25.516 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:25.520 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:25.521 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:25.523 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:25.524 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:25.527 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 103.3495ms
2024-01-16 11:02:25.529 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.530 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:25.531 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.532 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:25.535 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 404 162 application/problem+json; charset=utf-8 147.4516ms
2024-01-16 11:02:25.561 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:25.565 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:25.566 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:25.568 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:25.570 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:25.572 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:25.574 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.576 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.577 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:25.580 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:25.582 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:25.584 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:25.586 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:25.587 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:25.589 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.592 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.594 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.596 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:25.598 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.600 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.602 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.604 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.606 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.607 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:25.609 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.610 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.610 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.612 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.613 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:25.616 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:25.616 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:02:25.617 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.619 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.621 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.622 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:02:25.624 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:02:25.625 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.628 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.633 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.634 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:25.636 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.638 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:25.640 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.641 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.642 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.644 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:25.646 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:25.648 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.652 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.655 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.656 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:25.658 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.659 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:25.662 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:25.665 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:25.667 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:25.670 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:25.672 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:25.675 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 85.193ms
2024-01-16 11:02:25.677 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.678 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:25.680 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.681 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:25.683 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 404 162 application/problem+json; charset=utf-8 122.6413ms
2024-01-16 11:02:25.771 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:25.779 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:25.781 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:25.783 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:25.785 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:25.788 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:25.790 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.792 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.794 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:25.798 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:25.801 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:25.804 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:25.807 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:25.809 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:25.812 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.814 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:25.816 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.819 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:25.820 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.822 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.823 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:25.825 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:25.826 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.827 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:25.829 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.831 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.833 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:25.835 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:25.837 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:25.839 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:25.840 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:25.841 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.843 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.845 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.847 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:25.849 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:25.850 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.854 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:25.857 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.859 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:25.861 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.863 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:25.866 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.866 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.868 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:25.870 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:25.872 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:25.874 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.878 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:25.881 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.882 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2024-01-16 11:02:25.883 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.885 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:02:25.887 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:25.891 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:25.893 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:25.897 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:25.898 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:25.900 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 87.7494ms
2024-01-16 11:02:25.902 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:25.903 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:25.904 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:25.905 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:25.907 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 404 162 application/problem+json; charset=utf-8 135.8913ms
2024-01-16 11:02:26.469 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:26.476 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:26.478 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:26.481 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:26.483 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:26.488 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:26.490 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:26.491 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:26.493 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:26.495 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:26.498 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:26.500 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:26.503 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:26.504 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:26.507 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:26.510 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:26.512 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:26.514 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:26.517 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:26.519 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:26.520 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:26.522 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:26.524 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:26.526 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:26.529 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:26.530 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:26.531 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:26.533 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:26.535 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:26.537 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:26.537 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:02:26.539 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.540 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.542 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:26.543 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:26.545 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:26.547 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:26.552 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:26.555 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.557 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:26.559 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.561 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:26.563 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.564 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.567 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:26.568 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:26.570 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:26.571 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:26.575 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:26.578 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.579 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:26.581 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.583 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:26.585 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:26.587 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:26.588 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:26.591 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:26.593 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:26.595 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 87.392ms
2024-01-16 11:02:26.597 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:26.598 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:26.599 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.601 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:26.603 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 404 162 application/problem+json; charset=utf-8 133.5728ms
2024-01-16 11:02:26.634 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - null null
2024-01-16 11:02:26.637 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:02:26.638 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:26.640 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:26.641 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:26.643 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/25'
2024-01-16 11:02:26.645 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:26.647 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:26.649 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:26.653 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:26.655 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:26.656 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:26.658 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:26.661 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:26.663 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:26.666 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:26.668 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:26.670 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:26.671 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:26.673 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:26.675 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:26.677 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:26.679 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:26.682 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:02:26.685 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:26.687 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:26.689 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:02:26.690 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:02:26.692 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:26.694 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:26.695 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:02:26.696 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.698 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.699 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:26.701 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:26.702 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:26.704 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:26.707 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:26.711 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.713 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:26.715 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.718 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:02:26.720 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.722 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.724 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:26.726 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:26.728 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:26.730 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:26.735 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:02:26.737 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.739 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:02:26.742 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.744 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:02:26.746 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:26.750 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:26.751 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:26.754 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:26.756 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:26.758 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 95.1947ms
2024-01-16 11:02:26.761 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:02:26.763 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:26.764 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:26.766 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:26.768 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/25 - 404 162 application/problem+json; charset=utf-8 134.4218ms
2024-01-16 11:02:28.287 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:02:28.291 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:02:28.293 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:28.295 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:28.297 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:02:28.299 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:02:28.301 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:28.302 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:28.304 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:02:28.307 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:28.310 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:28.313 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:28.317 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:28.320 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:28.323 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:28.326 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:02:28.328 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:28.331 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:02:28.335 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:28.338 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:28.340 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:02:28.343 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:02:28.346 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:28.350 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:28.352 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:28.354 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:28.357 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:28.359 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:28.361 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:28.364 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:02:28.366 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:28.373 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:02:28.378 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:28.381 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:02:28.384 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:28.387 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:02:28.390 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:02:28.392 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:28.398 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:28.400 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:02:28.407 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:02:28.411 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:02:28.413 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 90.6178ms
2024-01-16 11:02:28.418 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:02:28.420 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:28.422 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:28.423 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:28.427 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 140.2016ms
2024-01-16 11:02:54.675 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:02:54.683 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:02:54.688 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:02:54.691 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:02:54.694 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:02:54.699 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:02:54.703 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:02:54.706 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:02:54.708 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:02:54.713 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:02:54.715 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:02:54.717 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:02:54.721 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:02:54.724 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:02:54.728 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:02:54.730 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:02:54.733 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:02:54.736 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:02:54.737 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:02:54.739 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:54.742 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:54.743 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:02:54.745 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:02:54.747 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:02:54.750 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:02:54.764 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:02:54.768 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:54.770 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:54.773 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:54.775 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:54.777 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:54.779 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:02:54.780 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:54.783 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 15ms reading results.
2024-01-16 11:02:54.787 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:54.789 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:02:54.791 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:02:54.795 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:02:54.796 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:02:54.798 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:02:54.799 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:02:54.802 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:02:54.804 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 76.8413ms
2024-01-16 11:02:54.806 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:02:54.812 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:02:54.813 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:02:54.814 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:02:54.815 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 141.6205ms
2024-01-16 11:03:18.593 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:03:18.605 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:03:18.606 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:03:18.607 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:03:18.608 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:03:18.610 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:03:18.612 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:18.614 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:18.616 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:03:18.620 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:03:18.621 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:03:18.624 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:03:18.626 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:03:18.629 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:03:18.631 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:18.634 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:18.637 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:03:18.640 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:03:18.641 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:03:18.643 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:18.645 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:18.648 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:03:18.650 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:03:18.652 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:03:18.654 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:03:18.659 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:03:18.669 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:18.671 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:18.674 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:18.676 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:18.678 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:18.680 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:18.682 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:18.685 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 16ms reading results.
2024-01-16 11:03:18.688 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:18.690 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:03:18.694 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:03:18.697 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:03:18.698 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:03:18.699 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:03:18.700 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:03:18.702 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:03:18.704 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 72.8831ms
2024-01-16 11:03:18.707 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:18.709 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:03:18.710 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:18.711 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:03:18.713 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 119.8962ms
2024-01-16 11:03:40.535 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-16 11:03:40.541 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:03:40.543 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:03:40.546 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:03:40.547 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:03:40.549 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 14.9909ms
2024-01-16 11:03:40.553 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 53
2024-01-16 11:03:40.571 +06:00 [DBG] POST requests are not supported
2024-01-16 11:03:40.572 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:03:40.574 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:03:40.576 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:03:40.579 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:03:40.582 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 11:03:40.584 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 11:03:40.591 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:03:40.595 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:03:40.598 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:03:40.600 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:03:40.602 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:03:40.604 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:03:40.605 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:40.608 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:40.610 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-16 11:03:40.613 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-16 11:03:40.615 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 11:03:40.618 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 11:03:40.619 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000067": started reading request body.
2024-01-16 11:03:40.621 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000067": done reading request body.
2024-01-16 11:03:40.627 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 11:03:40.629 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 11:03:40.631 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-16 11:03:40.635 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 11:03:40.643 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:03:40.658 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.663 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.665 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:03:40.667 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:03:40.669 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:03:40.671 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:03:40.673 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:03:40.674 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.677 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.679 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:03:40.681 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:03:40.684 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 11:03:40.685 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-16 11:03:40.706 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-16 11:03:40.711 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:03:40.716 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.719 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 9ms reading results.
2024-01-16 11:03:40.722 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.724 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:03:40.728 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.732 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:03:40.736 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-16 11:03:40.738 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 132.3081ms
2024-01-16 11:03:40.740 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 11:03:40.742 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:03:40.745 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.746 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:03:40.749 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 200 0 null 196.4911ms
2024-01-16 11:03:40.753 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:03:40.759 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:03:40.760 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:03:40.762 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:03:40.764 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:03:40.767 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:03:40.771 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:40.773 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:40.775 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:03:40.778 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:03:40.781 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:03:40.784 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:03:40.787 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:03:40.790 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:03:40.792 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:40.795 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:40.798 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:03:40.802 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:03:40.803 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:03:40.805 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.808 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.810 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:03:40.812 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:03:40.815 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:03:40.817 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:03:40.822 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:03:40.824 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.827 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.829 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.832 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.834 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.835 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.836 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:40.838 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.841 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 16ms reading results.
2024-01-16 11:03:40.843 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.846 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:03:40.848 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:03:40.852 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:03:40.852 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:03:40.853 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:03:40.854 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:03:40.856 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:03:40.858 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 65.2715ms
2024-01-16 11:03:40.860 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:40.861 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:03:40.862 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:40.863 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:03:40.865 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 507 application/json; charset=utf-8 112.9134ms
2024-01-16 11:03:43.102 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/71 - null null
2024-01-16 11:03:43.109 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:03:43.111 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:03:43.113 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:03:43.115 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:03:43.117 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/71 - 204 null null 16.3152ms
2024-01-16 11:03:43.119 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/71 - null null
2024-01-16 11:03:43.129 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:03:43.131 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:03:43.133 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:03:43.134 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/71'
2024-01-16 11:03:43.136 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/71'
2024-01-16 11:03:43.140 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 11:03:43.142 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 11:03:43.150 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:03:43.153 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:03:43.155 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:03:43.156 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:03:43.159 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:03:43.162 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:03:43.165 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:43.166 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:43.169 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:03:43.170 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:03:43.171 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:03:43.173 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:03:43.176 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:03:43.178 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:03:43.181 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:03:43.183 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:03:43.185 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:03:43.186 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.187 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.189 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:03:43.190 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:03:43.191 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:03:43.192 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:03:43.197 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:03:43.200 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.202 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:03:43.204 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.205 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:03:43.208 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.210 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.212 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:03:43.213 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:03:43.215 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:03:43.217 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:03:43.220 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:03:43.224 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:43.225 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.226 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:03:43.228 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.230 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:03:43.231 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:43.241 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:03:43.243 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:03:43.247 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:03:43.249 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.250 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.250 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:03:43.251 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:03:43.252 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:03:43.253 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:03:43.282 +06:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:03:43.284 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.285 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:03:43.286 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.287 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:03:43.289 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:43.290 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:03:43.292 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:03:43.295 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:03:43.296 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:03:43.296 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:03:43.297 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:03:43.298 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 11:03:43.299 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 134.0499ms
2024-01-16 11:03:43.300 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 11:03:43.301 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:03:43.302 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:43.303 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 11:03:43.303 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/71 - 200 27 application/json; charset=utf-8 184.6539ms
2024-01-16 11:03:46.001 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:03:46.006 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:03:46.007 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:03:46.008 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:03:46.009 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:03:46.012 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:03:46.015 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:46.017 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:46.018 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:03:46.021 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:03:46.024 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:03:46.028 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:03:46.031 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:03:46.034 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:03:46.037 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:46.040 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:03:46.045 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:03:46.049 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:03:46.051 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:03:46.053 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:46.055 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:46.058 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:03:46.060 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:03:46.063 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:03:46.066 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:03:46.072 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:03:46.079 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:46.082 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:46.084 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:46.086 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:46.088 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:46.089 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:03:46.091 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:46.092 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-16 11:03:46.095 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:46.097 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:03:46.099 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:03:46.103 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:03:46.105 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:03:46.106 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:03:46.107 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:03:46.109 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:03:46.111 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 74.5053ms
2024-01-16 11:03:46.113 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:03:46.114 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:03:46.115 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:03:46.117 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:03:46.119 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 117.736ms
2024-01-16 11:05:29.609 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:05:29.629 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:05:29.632 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:05:29.636 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:05:29.639 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:05:29.642 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:05:29.647 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:05:29.650 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:05:29.652 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:05:29.656 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:05:29.658 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:05:29.662 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:05:29.667 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:05:29.670 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:05:29.673 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:05:29.676 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:05:29.681 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:05:29.686 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:05:29.687 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:05:29.689 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:05:29.692 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:05:29.695 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:05:29.697 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:05:29.699 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:05:29.703 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:05:29.719 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:05:29.724 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:05:29.727 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:05:29.730 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:05:29.733 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:05:29.737 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:05:29.740 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:05:29.743 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:05:29.746 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 22ms reading results.
2024-01-16 11:05:29.750 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:05:29.753 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 11:05:29.756 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:05:29.760 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:05:29.762 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:05:29.763 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:05:29.765 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:05:29.766 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:05:29.768 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 95.0118ms
2024-01-16 11:05:29.770 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:05:29.775 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:05:29.776 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:05:29.777 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:05:29.778 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 169.2634ms
2024-01-16 11:06:15.451 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:06:15.464 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:06:15.466 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:15.469 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:15.471 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:06:15.474 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:06:15.477 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:15.481 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:15.482 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:06:15.485 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:15.488 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:15.490 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:15.494 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:15.496 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:15.498 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:15.502 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:15.507 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:15.511 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:15.513 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:06:15.515 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:15.518 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:15.521 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:15.523 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:06:15.526 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:06:15.529 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:15.544 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:15.550 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:15.553 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:15.556 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:15.558 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:15.561 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:15.564 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:15.566 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:15.569 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 19ms reading results.
2024-01-16 11:06:15.572 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:15.575 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:06:15.578 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:06:15.581 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:06:15.582 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:06:15.583 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:06:15.584 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:06:15.587 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:06:15.590 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 91.3553ms
2024-01-16 11:06:15.597 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:15.598 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:15.600 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:15.602 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 11:06:15.604 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 153.2158ms
2024-01-16 11:06:24.674 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities - null null
2024-01-16 11:06:24.678 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:06:24.680 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:24.682 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:24.684 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:06:24.686 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities - 204 null null 11.8556ms
2024-01-16 11:06:24.689 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities - application/json 53
2024-01-16 11:06:24.703 +06:00 [DBG] POST requests are not supported
2024-01-16 11:06:24.704 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:24.706 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:24.707 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:06:24.709 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:06:24.712 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 11:06:24.714 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 11:06:24.716 +06:00 [INF] Route matched with {action = "CreateCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.CityDto]] CreateCity(CityInfo.API.Models.CityForCreationDto) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:06:24.719 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:24.721 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:24.723 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:24.725 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:24.728 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:24.731 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:24.734 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:24.736 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-16 11:06:24.738 +06:00 [DBG] Attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' using the name '' in request data ...
2024-01-16 11:06:24.739 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 11:06:24.741 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 11:06:24.744 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000077": started reading request body.
2024-01-16 11:06:24.746 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000077": done reading request body.
2024-01-16 11:06:24.749 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 11:06:24.751 +06:00 [DBG] Done attempting to bind parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 11:06:24.753 +06:00 [DBG] Attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto' ...
2024-01-16 11:06:24.755 +06:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'CityInfo.API.Models.CityForCreationDto'.
2024-01-16 11:06:24.757 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:24.760 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'City.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.763 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.765 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:06:24.767 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:06:24.769 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:06:24.771 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:24.772 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:06:24.773 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.773 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.774 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:24.776 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:24.778 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:06:24.779 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-16 11:06:24.789 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 50), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cities] ([Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2024-01-16 11:06:24.793 +06:00 [DBG] The foreign key property 'City.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:06:24.795 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.798 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 11:06:24.800 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.803 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:06:24.804 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.807 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:06:24.809 +06:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-01-16 11:06:24.811 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API) in 79.3874ms
2024-01-16 11:06:24.813 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.CreateCity (CityInfo.API)'
2024-01-16 11:06:24.815 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:24.817 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.818 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:06:24.820 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities - 200 0 null 132.0158ms
2024-01-16 11:06:24.825 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:06:24.828 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:06:24.829 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:24.830 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:24.830 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:06:24.831 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:06:24.833 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:24.834 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:24.836 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:06:24.837 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:24.840 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:24.842 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:24.845 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:24.848 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:24.849 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:24.851 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:24.854 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:24.857 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:24.858 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:06:24.859 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.861 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.863 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:24.863 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:06:24.864 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:24.866 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:24.869 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:24.873 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.875 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.877 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.879 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.880 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.882 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.884 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:24.886 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.887 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 13ms reading results.
2024-01-16 11:06:24.889 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.891 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:06:24.893 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:06:24.897 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:06:24.898 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:06:24.899 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:06:24.900 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:06:24.901 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:06:24.903 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 54.1301ms
2024-01-16 11:06:24.904 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:24.906 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:24.907 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:24.908 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:06:24.909 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 507 application/json; charset=utf-8 84.8883ms
2024-01-16 11:06:27.444 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/72 - null null
2024-01-16 11:06:27.450 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:06:27.453 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:27.455 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:27.457 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:06:27.458 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/72 - 204 null null 15.4392ms
2024-01-16 11:06:27.460 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/72 - null null
2024-01-16 11:06:27.471 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:06:27.472 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:27.475 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:27.476 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/72'
2024-01-16 11:06:27.479 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)' with route pattern 'api/cities/{cityId}' is valid for the request path '/api/cities/72'
2024-01-16 11:06:27.482 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 11:06:27.484 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 11:06:27.486 +06:00 [INF] Route matched with {action = "DeleteCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCity(Int32) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:06:27.488 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:27.491 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:27.494 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:27.497 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:27.500 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:27.501 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:27.503 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:27.504 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:06:27.506 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:06:27.509 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:27.511 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:27.513 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:06:27.515 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:27.517 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:27.520 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:27.521 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:06:27.522 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.525 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.527 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:27.529 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:27.531 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:06:27.532 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:06:27.538 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:06:27.542 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.544 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:06:27.546 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.548 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:06:27.550 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.551 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.553 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:27.554 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:27.556 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:06:27.558 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:06:27.563 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:06:27.566 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.568 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.570 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 11:06:27.572 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.574 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:06:27.577 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.579 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:06:27.580 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:06:27.582 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:06:27.583 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.584 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.586 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:27.587 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:27.589 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:06:27.591 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:06:27.602 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cities]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:06:27.605 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.606 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:06:27.608 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.610 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:06:27.611 +06:00 [DBG] An entity of type 'City' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.614 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:06:27.616 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:06:27.620 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:06:27.621 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:06:27.622 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:06:27.623 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:06:27.626 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 11:06:27.627 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API) in 126.2336ms
2024-01-16 11:06:27.629 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.DeleteCity (CityInfo.API)'
2024-01-16 11:06:27.630 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:27.631 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.634 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 11:06:27.635 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/72 - 200 27 application/json; charset=utf-8 174.8227ms
2024-01-16 11:06:27.696 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:06:27.702 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:06:27.705 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:27.707 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:27.708 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:06:27.709 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:06:27.713 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:27.716 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:27.718 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:06:27.720 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:27.722 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:27.725 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:27.730 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:27.733 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:27.736 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:27.738 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:27.742 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:27.748 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:27.750 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 11:06:27.753 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.755 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.758 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:27.760 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:06:27.763 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:06:27.765 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:27.772 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:27.777 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.779 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.781 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.783 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.786 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.789 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:27.792 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.794 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 17ms reading results.
2024-01-16 11:06:27.798 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.801 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:06:27.805 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:06:27.811 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:06:27.812 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:06:27.813 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:06:27.814 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:06:27.817 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:06:27.822 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 85.5532ms
2024-01-16 11:06:27.826 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:27.828 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:27.830 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:27.832 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:06:27.835 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 138.9969ms
2024-01-16 11:06:41.344 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:06:41.348 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:06:41.350 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:41.353 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:41.356 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:06:41.358 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:06:41.361 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:41.362 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:41.364 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:06:41.367 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:41.369 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:41.371 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:41.373 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:41.375 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:41.377 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:41.379 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:06:41.383 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:41.388 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:41.390 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:06:41.391 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:41.394 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:41.397 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:41.399 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:06:41.401 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:06:41.403 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:41.408 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:06:41.411 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:41.414 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:41.416 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:41.419 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:41.422 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:41.424 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:41.426 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:41.429 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 17ms reading results.
2024-01-16 11:06:41.432 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:41.434 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:06:41.437 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:06:41.441 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:06:41.443 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:06:41.444 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:06:41.446 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:06:41.448 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:06:41.450 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 73.5653ms
2024-01-16 11:06:41.454 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:06:41.456 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:41.458 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:41.459 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:06:41.461 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 117.442ms
2024-01-16 11:06:44.495 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:06:44.507 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:06:44.508 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:44.511 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:44.512 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:06:44.514 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:06:44.517 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:06:44.519 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:06:44.521 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:06:44.524 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:44.527 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:44.530 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:44.533 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:44.535 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:44.538 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:06:44.541 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:06:44.544 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:06:44.545 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:06:44.547 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:44.549 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:44.551 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:06:44.553 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:44.555 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:44.558 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:44.559 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:06:44.560 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:44.561 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:44.563 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:44.565 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:44.566 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:06:44.568 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:06:44.580 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:06:44.584 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:44.586 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:06:44.588 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:44.590 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:06:44.592 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:06:44.593 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:06:44.597 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:06:44.599 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:06:44.602 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:06:44.604 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:06:44.606 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 67.7341ms
2024-01-16 11:06:44.608 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:06:44.609 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:44.610 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:44.611 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:06:44.613 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 117.7727ms
2024-01-16 11:06:56.032 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 11:06:56.038 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:06:56.040 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:06:56.042 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:06:56.044 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:06:56.046 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:06:56.049 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:06:56.051 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:06:56.054 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:06:56.057 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:06:56.060 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:06:56.062 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:06:56.065 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:06:56.068 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:06:56.070 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:06:56.073 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:06:56.076 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:06:56.078 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:06:56.080 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:56.083 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:56.084 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:06:56.086 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:06:56.090 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:06:56.093 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:06:56.094 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:06:56.096 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.098 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.100 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:56.101 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:56.104 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:06:56.106 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:06:56.123 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:06:56.127 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.128 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:06:56.131 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.134 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:06:56.137 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.139 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.142 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:06:56.143 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:06:56.145 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:06:56.147 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:06:56.152 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:06:56.155 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:06:56.157 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.159 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 11:06:56.161 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.163 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:06:56.166 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:06:56.169 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:06:56.170 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:06:56.171 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:06:56.172 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:06:56.175 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:06:56.177 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 106.7384ms
2024-01-16 11:06:56.179 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:06:56.181 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:06:56.183 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:06:56.184 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:06:56.188 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 156.6467ms
2024-01-16 11:07:08.723 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - null null
2024-01-16 11:07:08.729 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:07:08.731 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:08.732 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:08.733 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:07:08.734 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 10.8369ms
2024-01-16 11:07:08.735 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - application/json 71
2024-01-16 11:07:08.744 +06:00 [DBG] POST requests are not supported
2024-01-16 11:07:08.746 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:08.748 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:08.749 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 11:07:08.751 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{userId}' is valid for the request path '/api/cities/61/pointsofinterest/1'
2024-01-16 11:07:08.753 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:07:08.755 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:07:08.758 +06:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:07:08.759 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:07:08.761 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:07:08.764 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:07:08.766 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:07:08.768 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:07:08.770 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:08.773 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:08.774 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:08.776 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:07:08.779 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:08.781 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:08.782 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:08.784 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:08.786 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' ...
2024-01-16 11:07:08.787 +06:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Int32' using the name 'userId' in request data ...
2024-01-16 11:07:08.788 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 11:07:08.790 +06:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Int32'.
2024-01-16 11:07:08.792 +06:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Int32' ...
2024-01-16 11:07:08.794 +06:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Int32'.
2024-01-16 11:07:08.796 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 11:07:08.798 +06:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2024-01-16 11:07:08.800 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 11:07:08.802 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 11:07:08.804 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000089": started reading request body.
2024-01-16 11:07:08.805 +06:00 [DBG] Connection id "0HN0M9TQTE37J", Request id "0HN0M9TQTE37J:00000089": done reading request body.
2024-01-16 11:07:08.807 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:07:08.809 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:07:08.811 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2024-01-16 11:07:08.814 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2024-01-16 11:07:08.816 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:07:08.818 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:07:08.819 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 11:07:08.820 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.822 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.824 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:08.825 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:08.826 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:07:08.829 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:08.842 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:08.847 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.849 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:07:08.851 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.852 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:07:08.855 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.857 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.859 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:08.861 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:08.864 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:07:08.866 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:08.876 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Id] = @__userId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:08.881 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.884 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:07:08.886 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.889 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:08.892 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.895 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.898 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:08.899 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:08.901 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:07:08.902 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:07:08.908 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2024-01-16 11:07:08.912 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.915 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.917 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 11:07:08.921 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.923 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:08.927 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.930 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.933 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:08.935 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:08.937 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:07:08.939 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 11:07:08.945 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[email], [u].[firstName], [u].[lastName], [u].[password], [u].[userName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0
2024-01-16 11:07:08.949 +06:00 [DBG] The navigation 'City.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.950 +06:00 [DBG] Context 'CityInfoContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.952 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.955 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 6ms reading results.
2024-01-16 11:07:08.958 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.959 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:07:08.961 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:07:08.962 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:07:08.964 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.967 +06:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'PointOfInterest.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.969 +06:00 [DBG] The navigation 'PointOfInterest.City' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.971 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.973 +06:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'User.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.975 +06:00 [DBG] The foreign key property 'PointOfInterest.userId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:07:08.976 +06:00 [DBG] The navigation 'PointOfInterest.User' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:08.978 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:07:08.981 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.982 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:08.984 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:08.986 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:08.988 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:07:08.990 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 11:07:09.000 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [PointsOfInterest] ([CityId], [Description], [Name], [userId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-01-16 11:07:09.003 +06:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-01-16 11:07:09.008 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.011 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-16 11:07:09.014 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.015 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:07:09.017 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:09.020 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:07:09.022 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:07:09.025 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:07:09.026 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:07:09.027 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:07:09.028 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-01-16 11:07:09.030 +06:00 [INF] Executing CreatedResult, writing value of type 'null'.
2024-01-16 11:07:09.032 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 261.4012ms
2024-01-16 11:07:09.033 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2024-01-16 11:07:09.035 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:07:09.036 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.037 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:07:09.039 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/cities/61/pointsofinterest/1 - 204 null null 303.5174ms
2024-01-16 11:07:09.046 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:07:09.049 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:07:09.050 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:09.052 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:09.052 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:07:09.054 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:07:09.056 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:09.058 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:09.059 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:07:09.062 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:07:09.065 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:07:09.067 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:07:09.070 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:07:09.072 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:07:09.075 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:09.077 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:09.079 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:09.081 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:07:09.083 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:09.085 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:09.087 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:09.089 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:09.092 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:07:09.096 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:07:09.097 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:07:09.099 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.101 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.102 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:09.104 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:09.106 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:07:09.108 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:09.113 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:09.118 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.120 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:07:09.122 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.124 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:09.127 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:07:09.129 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:07:09.133 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:07:09.134 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:07:09.138 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:07:09.140 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:07:09.142 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 67.7174ms
2024-01-16 11:07:09.162 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:09.163 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:07:09.164 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:09.165 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 11:07:09.166 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 120.4459ms
2024-01-16 11:07:13.030 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 11:07:13.036 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:07:13.039 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:13.041 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:13.043 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:07:13.046 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:07:13.049 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:13.052 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:13.054 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:07:13.057 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:07:13.061 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:07:13.063 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:07:13.065 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:07:13.068 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:07:13.071 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:13.074 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:13.077 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:13.079 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:07:13.082 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:13.084 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:13.087 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:13.089 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:13.092 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:07:13.096 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:07:13.097 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:07:13.099 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.101 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.103 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:13.105 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:07:13.108 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:07:13.111 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:13.115 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:13.119 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.121 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:07:13.124 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.126 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:13.129 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.130 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.132 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:13.133 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:13.135 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:07:13.137 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:07:13.143 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:07:13.145 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:13.147 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:13.149 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.151 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 11:07:13.153 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.155 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:13.158 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:07:13.161 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:07:13.162 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:07:13.163 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:07:13.164 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:07:13.165 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:07:13.168 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 96.6856ms
2024-01-16 11:07:13.170 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:13.171 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:07:13.172 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:13.173 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:07:13.175 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 198 application/json; charset=utf-8 145.5849ms
2024-01-16 11:07:18.510 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/26 - null null
2024-01-16 11:07:18.516 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 11:07:18.518 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:18.520 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:18.522 +06:00 [DBG] The request is a preflight request.
2024-01-16 11:07:18.524 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/26 - 204 null null 14.4994ms
2024-01-16 11:07:18.525 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/26 - null null
2024-01-16 11:07:18.535 +06:00 [DBG] DELETE requests are not supported
2024-01-16 11:07:18.536 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:18.538 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:18.539 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/26'
2024-01-16 11:07:18.541 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/26'
2024-01-16 11:07:18.544 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:07:18.546 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:07:18.548 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:07:18.551 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:07:18.553 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:07:18.555 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:07:18.557 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:07:18.559 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:07:18.561 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:18.564 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:18.566 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:18.568 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:07:18.570 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:18.573 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:18.575 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:18.576 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:18.579 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:07:18.581 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 11:07:18.589 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:07:18.591 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:07:18.592 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 11:07:18.594 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 11:07:18.596 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:07:18.601 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:07:18.604 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 11:07:18.605 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.606 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.607 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:18.607 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:07:18.608 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:18.609 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:18.618 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:18.625 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.627 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:07:18.630 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.632 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:07:18.634 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.635 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.637 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:18.638 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:18.640 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:07:18.642 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:07:18.647 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 11:07:18.650 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:18.651 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.652 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 11:07:18.656 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.657 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:07:18.659 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:18.661 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 11:07:18.663 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 11:07:18.664 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 11:07:18.666 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.667 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.668 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:18.669 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 11:07:18.670 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:18.672 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:07:18.677 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 11:07:18.680 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.682 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:07:18.684 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.686 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:18.689 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:18.691 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 11:07:18.692 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:07:18.695 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:07:18.697 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:07:18.698 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:07:18.699 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:07:18.701 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 11:07:18.703 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 142.6142ms
2024-01-16 11:07:18.706 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 11:07:18.708 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:07:18.708 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.710 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:07:18.711 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/26 - 200 28 application/json; charset=utf-8 185.5459ms
2024-01-16 11:07:18.792 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 11:07:18.797 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:07:18.798 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:18.799 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:18.800 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:07:18.802 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 11:07:18.805 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:18.807 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:18.809 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:07:18.811 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:07:18.814 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:07:18.817 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:07:18.821 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:07:18.825 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:07:18.827 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:18.830 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:18.833 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:18.835 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:07:18.839 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:18.843 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:18.845 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:18.848 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:18.852 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:07:18.858 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:07:18.860 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 11:07:18.863 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.866 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.869 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:18.872 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:07:18.876 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-16 11:07:18.881 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:18.885 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:18.889 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.891 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:07:18.892 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.894 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:07:18.896 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 11:07:18.898 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:07:18.903 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:07:18.904 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 11:07:18.908 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 11:07:18.910 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 11:07:18.912 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 84.615ms
2024-01-16 11:07:18.914 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:18.915 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:07:18.916 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:18.918 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:07:18.921 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 128.5776ms
2024-01-16 11:07:23.944 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 11:07:23.948 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:07:23.950 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:07:23.953 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:07:23.955 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:07:23.957 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 11:07:23.960 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:23.962 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:23.964 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 11:07:23.968 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:07:23.971 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:07:23.973 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:07:23.974 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:07:23.977 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:07:23.981 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:23.984 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 11:07:23.986 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:23.988 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 11:07:23.990 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:23.992 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:23.994 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 11:07:23.995 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 11:07:23.998 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:07:24.001 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:07:24.002 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:07:24.004 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.006 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.008 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:24.010 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:24.012 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 11:07:24.014 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:24.018 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 11:07:24.022 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.024 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 11:07:24.027 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.029 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:24.032 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.034 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.036 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:07:24.037 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 11:07:24.039 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:07:24.040 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:07:24.043 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 11:07:24.047 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:07:24.049 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.051 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 4ms reading results.
2024-01-16 11:07:24.053 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.056 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 11:07:24.057 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:07:24.061 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:07:24.062 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:07:24.063 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:07:24.063 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:07:24.066 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:07:24.068 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 86.836ms
2024-01-16 11:07:24.069 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 11:07:24.071 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:07:24.072 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:07:24.073 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:07:24.075 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 131.349ms
2024-01-16 11:08:09.816 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 11:08:09.827 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 11:08:09.830 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 11:08:09.831 +06:00 [INF] CORS policy execution successful.
2024-01-16 11:08:09.832 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 11:08:09.835 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 11:08:09.837 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:08:09.839 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:08:09.841 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 11:08:09.845 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 11:08:09.847 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 11:08:09.849 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 11:08:09.852 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 11:08:09.855 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 11:08:09.858 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:08:09.861 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 11:08:09.863 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 11:08:09.866 +06:00 [DBG] Creating DbConnection.
2024-01-16 11:08:09.867 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 11:08:09.868 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:08:09.870 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:08:09.873 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 11:08:09.875 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 11:08:09.877 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 11:08:09.879 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:08:09.897 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 11:08:09.900 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:08:09.902 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:08:09.903 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:08:09.905 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:08:09.907 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:08:09.910 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 11:08:09.912 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 11:08:09.914 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 14ms reading results.
2024-01-16 11:08:09.915 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:08:09.917 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 11:08:09.920 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 11:08:09.924 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 11:08:09.925 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 11:08:09.926 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 11:08:09.928 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 11:08:09.930 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 11:08:09.930 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 72.1272ms
2024-01-16 11:08:09.936 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 11:08:09.938 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 11:08:09.939 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 11:08:09.941 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 11:08:09.942 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 126.6239ms
2024-01-16 11:20:36.309 +06:00 [DBG] Connection id "0HN0M9TQTE37J" received FIN.
2024-01-16 11:20:36.334 +06:00 [DBG] Connection id "0HN0M9TQTE37J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 11:20:36.338 +06:00 [DBG] Connection id "0HN0M9TQTE37J" is closed. The last processed stream ID was 151.
2024-01-16 11:20:36.344 +06:00 [DBG] The connection queue processing loop for 0HN0M9TQTE37J completed.
2024-01-16 11:20:36.351 +06:00 [DBG] Connection id "0HN0M9TQTE37J" stopped.
2024-01-16 12:17:48.385 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:17:48.666 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:17:48.988 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:18:00.327 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:18:00.628 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:18:00.637 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:18:00.655 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-16 12:18:00.657 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.666 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.776 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.779 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:00.781 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:18:00.782 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 12:18:00.785 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:18:00.797 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:18:00.798 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.802 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:18:00.803 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:18:00.803 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:18:00.803 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:18:00.803 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.803 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.804 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:18:00.818 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:18:00.819 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.819 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:18:00.819 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.819 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.819 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:00.819 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:00.819 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:00.819 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:18:00.821 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:18:00.821 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.821 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:18:00.821 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:18:00.821 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:18:00.821 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:18:00.821 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.821 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.821 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:18:00.822 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:18:00.822 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.822 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:18:00.830 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.830 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.830 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:18:00.830 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:18:00.830 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:18:00.830 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:18:00.838 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:18:00.839 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.840 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:18:00.840 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.840 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:18:00.844 +06:00 [INF] Applying migration '20240112052010_v4'.
2024-01-16 12:18:00.872 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.872 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:00.873 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 12:18:00.879 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 12:18:00.879 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:00.879 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:00.880 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:00.880 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:18:00.892 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:18:00.893 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:00.893 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:00.893 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:00.893 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:18:01.311 +06:00 [INF] Executed DbCommand (418ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:18:01.311 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:01.311 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.311 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.311 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:18:01.742 +06:00 [INF] Executed DbCommand (430ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:18:01.742 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:01.742 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.742 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.742 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 12:18:01.744 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 12:18:01.744 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:01.744 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.744 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.745 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:18:01.747 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:18:01.747 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:01.747 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.747 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.747 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-16 12:18:01.749 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-16 12:18:01.749 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:01.749 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.749 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:01.749 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-16 12:18:01.836 +06:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-16 12:18:03.928 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:03.928 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:03.928 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:03.929 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-16 12:18:03.978 +06:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-16 12:18:03.978 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:03.978 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:03.978 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:03.978 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:18:03.987 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:18:03.988 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:18:03.988 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:03.988 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:18:03.988 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:18:04.004 +06:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:18:04.004 +06:00 [DBG] Disposing transaction.
2024-01-16 12:18:04.005 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:04.005 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:18:04.005 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:18:04.006 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:18:04.007 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:28:10.818 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:28:11.091 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:28:11.280 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:28:19.448 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:28:19.721 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:28:19.973 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:28:29.811 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:28:30.098 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:28:30.106 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:28:30.123 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-16 12:28:30.125 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.128 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.234 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.237 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.239 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:28:30.240 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 12:28:30.244 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:28:30.255 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:28:30.256 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.260 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:28:30.262 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:28:30.262 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:28:30.262 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:28:30.262 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.262 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.262 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:28:30.279 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:28:30.279 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.279 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:28:30.279 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.279 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.279 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.280 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.280 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.280 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:28:30.281 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:28:30.281 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.281 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:28:30.281 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:28:30.281 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:28:30.281 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:28:30.281 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.281 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.281 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:28:30.281 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:28:30.281 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.281 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:28:30.287 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.287 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.287 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:28:30.287 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:28:30.287 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:28:30.288 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:28:30.294 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:28:30.295 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.295 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:28:30.296 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.296 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:28:30.300 +06:00 [INF] Applying migration '20240112052010_v4'.
2024-01-16 12:28:30.319 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.320 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:30.321 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 12:28:30.323 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 12:28:30.370 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.370 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.370 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.371 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:28:30.378 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:28:30.378 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.378 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.378 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.378 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:28:30.381 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:28:30.381 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.381 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.381 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.381 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:28:30.803 +06:00 [INF] Executed DbCommand (422ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:28:30.804 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.804 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.804 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.804 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 12:28:30.806 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 12:28:30.806 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.806 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.806 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.806 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:28:30.808 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-16 12:28:30.808 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.808 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.808 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.808 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-16 12:28:30.810 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-16 12:28:30.810 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:30.810 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:30.810 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-16 12:28:32.826 +06:00 [INF] Executed DbCommand (2,016ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-16 12:28:32.827 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:32.827 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:32.827 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:32.827 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-16 12:28:32.870 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-16 12:28:32.870 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:32.870 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:32.870 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:32.870 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:28:32.876 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:28:32.876 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:28:32.876 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:32.877 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:28:32.877 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:28:32.883 +06:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 12:28:32.883 +06:00 [DBG] Disposing transaction.
2024-01-16 12:28:32.884 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:34.609 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1724ms).
2024-01-16 12:28:34.610 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:28:34.611 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:28:34.611 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:32:58.397 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:32:58.675 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:32:58.881 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:32:58.900 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 12:32:58.903 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.012 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.015 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:32:59.018 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:32:59.019 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 12:32:59.021 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:32:59.032 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:32:59.033 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.036 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:32:59.037 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:32:59.037 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:32:59.038 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:32:59.038 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.038 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.038 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:32:59.051 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:32:59.051 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.051 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:32:59.055 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.056 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.056 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:32:59.056 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:32:59.056 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:32:59.056 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:32:59.061 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:32:59.062 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.063 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:32:59.063 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.063 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:32:59.090 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:32:59.091 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:32:59.092 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:33:16.111 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:33:16.379 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:33:16.586 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:33:16.603 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 12:33:16.605 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.708 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.711 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:33:16.714 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:33:16.714 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 12:33:16.717 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:33:16.730 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:33:16.731 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.734 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:33:16.736 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:33:16.736 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:33:16.736 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:33:16.736 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.736 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.737 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:33:16.755 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:33:16.755 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.755 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:33:16.760 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.760 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.760 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:33:16.760 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:33:16.760 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:33:16.760 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:33:16.771 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:33:16.772 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.772 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:33:16.773 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.773 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:33:16.803 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:33:16.804 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:16.805 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:33:31.864 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:33:32.225 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:33:32.567 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:33:55.350 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:33:55.619 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:33:55.627 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:33:55.645 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-16 12:33:55.647 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.649 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.745 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.748 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:33:55.751 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:33:55.752 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 12:33:55.756 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:33:55.769 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:33:55.770 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.775 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:33:55.776 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:33:55.776 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:33:55.776 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:33:55.776 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.777 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.777 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:33:55.785 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:33:55.785 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.785 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:33:55.786 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.786 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.786 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:33:55.786 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:33:55.786 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:33:55.786 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:33:55.787 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:33:55.787 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.787 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:33:55.787 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:33:55.787 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:33:55.787 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:33:55.788 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.788 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.788 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:33:55.788 +06:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:33:55.788 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.788 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:33:55.796 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.796 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.796 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:33:55.796 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:33:55.796 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:33:55.796 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:33:55.797 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:33:55.799 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.799 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:33:55.799 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.799 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:33:55.805 +06:00 [INF] Applying migration '20240112052010_v4'.
2024-01-16 12:33:55.827 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.828 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.829 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 12:33:55.833 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 12:33:55.833 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:33:55.833 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:33:55.959 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (125ms).
2024-01-16 12:33:55.959 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:33:55.975 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:33:55.976 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:33:55.976 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:33:55.976 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:33:55.976 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:33:55.982 +06:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:33:55.983 +06:00 [DBG] Disposing transaction.
2024-01-16 12:33:55.983 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.984 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:33:55.985 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:33:55.986 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:33:55.987 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:44:57.951 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 12:44:58.019 +06:00 [DBG] Hosting starting
2024-01-16 12:44:58.137 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 12:44:58.138 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 12:44:58.139 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 12:44:58.140 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 12:44:58.141 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 12:44:58.142 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 12:44:58.143 +06:00 [INF] Hosting environment: Development
2024-01-16 12:44:58.144 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 12:44:58.145 +06:00 [DBG] Hosting started
2024-01-16 12:45:00.837 +06:00 [DBG] Connection id "0HN0MBQKQ0ONI" accepted.
2024-01-16 12:45:00.839 +06:00 [DBG] Connection id "0HN0MBQKQ0ONI" started.
2024-01-16 12:45:00.870 +06:00 [DBG] Connection 0HN0MBQKQ0ONI established using the following protocol: "Tls13"
2024-01-16 12:45:00.904 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 12:45:00.910 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 12:45:00.923 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 12:45:00.924 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:00.926 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:00.937 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 12:45:00.941 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 12:45:00.943 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 12:45:00.947 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 12:45:00.962 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 12:45:00.967 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:00.969 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:00.971 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:00.974 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:00.975 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:00.978 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 12:45:01.052 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:45:01.136 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 12:45:01.452 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:01.485 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-16 12:45:01.608 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 12:45:01.625 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:01.638 +06:00 [DBG] Created DbConnection. (11ms).
2024-01-16 12:45:01.641 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:01.836 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:01.840 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:01.845 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-16 12:45:01.848 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-01-16 12:45:01.853 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 12:45:01.893 +06:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 12:45:01.919 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:01.934 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:01.939 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:01.942 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:01.943 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:01.946 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:01.952 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:01.958 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 58ms reading results.
2024-01-16 12:45:01.962 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:01.969 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2024-01-16 12:45:01.979 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:01.985 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:01.987 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 12:45:01.988 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 12:45:01.990 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 12:45:01.993 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 12:45:02.046 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1067.503ms
2024-01-16 12:45:02.050 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 12:45:02.054 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:02.057 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:02.060 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 12:45:02.062 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 1161.169ms
2024-01-16 12:45:03.133 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 12:45:03.138 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 12:45:03.140 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:03.142 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:03.145 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 12:45:03.147 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 12:45:03.150 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:03.153 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:03.169 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 12:45:03.173 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:03.176 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:03.178 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:03.182 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:03.184 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:03.187 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:03.191 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:03.199 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:03.204 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 12:45:03.207 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:03.210 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:03.212 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:03.218 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:03.244 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:03.253 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2024-01-16 12:45:03.288 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 12:45:03.319 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:03.322 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-16 12:45:03.325 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:03.327 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:03.331 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:03.333 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:03.338 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-16 12:45:03.345 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:03.395 +06:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:03.403 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:03.407 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-16 12:45:03.410 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:03.412 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:45:03.416 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 12:45:03.418 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:03.422 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:03.424 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 12:45:03.428 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 12:45:03.431 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 12:45:03.451 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 264.4439ms
2024-01-16 12:45:03.454 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:03.456 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:03.458 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:03.459 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 12:45:03.462 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 328.9872ms
2024-01-16 12:45:06.669 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 12:45:06.677 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 12:45:06.681 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:06.684 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:06.686 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:06.688 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:06.692 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:06.696 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:06.699 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 12:45:06.703 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:06.707 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:06.710 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:06.713 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:06.715 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:06.719 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:06.727 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:06.730 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:06.732 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 12:45:06.736 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:06.738 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:06.741 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:06.742 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:06.824 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:06.832 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:06.834 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 12:45:06.836 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.838 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.840 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:06.842 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:06.844 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 12:45:06.846 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:06.863 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:06.868 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.871 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 12:45:06.874 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.876 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:45:06.880 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2024-01-16 12:45:06.889 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        WHERE p.CityId == @__cityId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 12:45:06.894 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.896 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.899 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:06.901 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 12:45:06.904 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 12:45:06.906 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:06.916 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:06.925 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:06.938 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.941 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 20ms reading results.
2024-01-16 12:45:06.944 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.947 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:45:06.956 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:06.960 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:06.960 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 12:45:06.961 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 12:45:06.962 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 12:45:06.964 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 12:45:06.970 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 251.8405ms
2024-01-16 12:45:06.972 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:06.973 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:06.975 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:06.976 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 12:45:06.978 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 116 application/json; charset=utf-8 308.4713ms
2024-01-16 12:45:08.361 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/21 - null null
2024-01-16 12:45:08.366 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 12:45:08.368 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:08.370 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:08.372 +06:00 [DBG] The request is a preflight request.
2024-01-16 12:45:08.374 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/cities/61/pointsofinterest/21 - 204 null null 13.2344ms
2024-01-16 12:45:08.378 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/21 - null null
2024-01-16 12:45:08.386 +06:00 [DBG] DELETE requests are not supported
2024-01-16 12:45:08.388 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:08.390 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:08.392 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 12:45:08.394 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/61/pointsofinterest/21'
2024-01-16 12:45:08.397 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 12:45:08.399 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 12:45:08.407 +06:00 [INF] Route matched with {action = "DeletePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeletePointOfInterest(Int32, Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 12:45:08.411 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:08.413 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:08.416 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:08.419 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:08.422 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:08.425 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:08.428 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:08.431 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:08.432 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 12:45:08.435 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:08.437 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:08.440 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:08.442 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:08.444 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 12:45:08.446 +06:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2024-01-16 12:45:08.448 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 12:45:08.450 +06:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 12:45:08.451 +06:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2024-01-16 12:45:08.453 +06:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2024-01-16 12:45:08.457 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:08.459 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:08.460 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 12:45:08.461 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.463 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.465 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:08.467 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:08.469 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 12:45:08.471 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:08.476 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:08.479 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.481 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 12:45:08.483 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.485 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:45:08.491 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2024-01-16 12:45:08.500 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name, p.userId
            FROM PointsOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 12:45:08.507 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.509 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.511 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:08.512 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:08.513 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 12:45:08.514 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 12:45:08.521 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0 AND [p].[Id] = @__pointOfInterestId_1
2024-01-16 12:45:08.525 +06:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:08.528 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.530 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 5ms reading results.
2024-01-16 12:45:08.533 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.535 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:45:08.553 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:08.559 +06:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2024-01-16 12:45:08.563 +06:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2024-01-16 12:45:08.582 +06:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2024-01-16 12:45:08.654 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.655 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.659 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:08.660 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:45:08.662 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 12:45:08.663 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 12:45:08.691 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [PointsOfInterest]
OUTPUT 1
WHERE [Id] = @p0;
2024-01-16 12:45:08.701 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.702 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 9ms reading results.
2024-01-16 12:45:08.704 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.706 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:45:08.714 +06:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 12:45:08.716 +06:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2024-01-16 12:45:08.719 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:08.722 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:08.722 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 12:45:08.723 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 12:45:08.724 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 12:45:08.726 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 12:45:08.731 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API) in 306.1507ms
2024-01-16 12:45:08.733 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.DeletePointOfInterest (CityInfo.API)'
2024-01-16 12:45:08.734 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:08.736 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.736 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:45:08.737 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7156/api/cities/61/pointsofinterest/21 - 200 28 application/json; charset=utf-8 359.5338ms
2024-01-16 12:45:08.813 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - null null
2024-01-16 12:45:08.816 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 12:45:08.820 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:08.821 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:08.822 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest'
2024-01-16 12:45:08.824 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/0/pointsofinterest'
2024-01-16 12:45:08.827 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:08.830 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:08.833 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 12:45:08.838 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:08.842 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:08.846 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:08.850 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:08.854 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:08.858 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:08.861 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:08.864 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:08.867 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 12:45:08.871 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:08.874 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:08.878 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:08.881 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:08.885 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:08.890 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:08.892 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 12:45:08.894 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.897 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.900 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:08.902 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 12:45:08.906 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 12:45:08.909 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:08.923 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:08.927 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.928 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:45:08.934 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.935 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:45:08.937 +06:00 [INF] City with id 0 wasn't found when accessing points of interest.
2024-01-16 12:45:08.939 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:08.942 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:08.942 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 12:45:08.944 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 12:45:08.949 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 12:45:08.950 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 92.8621ms
2024-01-16 12:45:08.952 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:08.953 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:08.954 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:08.955 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:45:08.956 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/0/pointsofinterest - 404 162 application/problem+json; charset=utf-8 143.3708ms
2024-01-16 12:45:13.062 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 12:45:13.068 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 12:45:13.070 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:13.074 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:13.075 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:13.078 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:13.081 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.084 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.086 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 12:45:13.091 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:13.094 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:13.096 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:13.098 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:13.100 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:13.102 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:13.106 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:13.107 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:13.109 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 12:45:13.110 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.112 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.114 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:13.116 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.120 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:13.124 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:13.125 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 12:45:13.126 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.127 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.129 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:13.131 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:13.133 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 12:45:13.135 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:13.141 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:13.144 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.146 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 12:45:13.148 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.150 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:45:13.153 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.156 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.158 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:13.160 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:13.162 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 12:45:13.165 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:13.168 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:13.172 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.174 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 12:45:13.176 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.183 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (6ms).
2024-01-16 12:45:13.187 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:13.192 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:13.194 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 12:45:13.196 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 12:45:13.198 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 12:45:13.201 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 12:45:13.204 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 101.2623ms
2024-01-16 12:45:13.206 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.208 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:13.209 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.211 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 12:45:13.212 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 2 application/json; charset=utf-8 151.5046ms
2024-01-16 12:45:13.732 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 12:45:13.738 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 12:45:13.740 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:13.741 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:13.743 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:13.744 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:13.746 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.747 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.749 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 12:45:13.751 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:13.753 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:13.755 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:13.757 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:13.760 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:13.762 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:13.765 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:13.767 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:13.770 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 12:45:13.772 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.774 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.776 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:13.778 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.781 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:13.784 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:13.785 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 12:45:13.787 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.790 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.791 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:13.793 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:13.795 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 12:45:13.797 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:13.803 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:13.807 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.810 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 12:45:13.814 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.816 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:45:13.819 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.821 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.823 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:13.825 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 12:45:13.828 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 12:45:13.831 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:13.834 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:13.838 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.840 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:45:13.843 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.845 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:45:13.847 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:13.851 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:13.852 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 12:45:13.854 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 12:45:13.855 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 12:45:13.857 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 12:45:13.860 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 97.5366ms
2024-01-16 12:45:13.863 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.864 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:13.866 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.867 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 12:45:13.870 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 2 application/json; charset=utf-8 138.5683ms
2024-01-16 12:45:13.897 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - null null
2024-01-16 12:45:13.901 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 12:45:13.904 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 12:45:13.906 +06:00 [INF] CORS policy execution successful.
2024-01-16 12:45:13.906 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:13.908 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityID}/pointsofinterest' is valid for the request path '/api/cities/61/pointsofinterest'
2024-01-16 12:45:13.911 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.913 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:13.915 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2024-01-16 12:45:13.917 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 12:45:13.919 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 12:45:13.922 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 12:45:13.923 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 12:45:13.925 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 12:45:13.927 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:13.929 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2024-01-16 12:45:13.931 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:13.933 +06:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2024-01-16 12:45:13.935 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.937 +06:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.938 +06:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2024-01-16 12:45:13.940 +06:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2024-01-16 12:45:13.943 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:45:13.946 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:45:13.948 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 12:45:13.949 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.952 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.954 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:13.955 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:13.956 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 12:45:13.958 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:13.965 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 12:45:13.968 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.971 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 12:45:13.972 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.973 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:45:13.976 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.978 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.980 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:45:13.981 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 12:45:13.983 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 12:45:13.985 +06:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:13.990 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
WHERE [p].[CityId] = @__cityId_0
2024-01-16 12:45:13.994 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:13.996 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 12:45:13.998 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:14.000 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 12:45:14.002 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 12:45:14.006 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 12:45:14.007 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 12:45:14.008 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 12:45:14.009 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 12:45:14.011 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.PointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 12:45:14.013 +06:00 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API) in 86.435ms
2024-01-16 12:45:14.015 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 12:45:14.016 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:45:14.017 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:45:14.019 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 12:45:14.021 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/61/pointsofinterest - 200 2 application/json; charset=utf-8 124.3387ms
2024-01-16 12:47:56.729 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:47:57.003 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:47:57.219 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:47:57.237 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-16 12:47:57.241 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.352 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.355 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:47:57.358 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:47:57.359 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 12:47:57.362 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:47:57.375 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:47:57.375 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.380 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:47:57.382 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:47:57.382 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:47:57.382 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:47:57.382 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.383 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.383 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:47:57.399 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:47:57.399 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.399 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:47:57.403 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.403 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.403 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:47:57.403 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:47:57.403 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:47:57.403 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:47:57.411 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:47:57.412 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.413 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:47:57.413 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.413 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:47:57.449 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:47:57.449 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:47:57.450 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:48:03.541 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:48:03.885 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:48:04.157 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:48:04.176 +06:00 [DBG] Created DbConnection. (18ms).
2024-01-16 12:48:04.182 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.295 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.298 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:48:04.301 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:48:04.302 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 12:48:04.305 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:48:04.318 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:48:04.319 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.323 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:48:04.324 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:48:04.324 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:48:04.324 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:48:04.324 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.325 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.325 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:48:04.332 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:48:04.332 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.332 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:48:04.338 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.338 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.339 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:48:04.339 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:48:04.339 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:48:04.339 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:48:04.342 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:48:04.343 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.343 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:48:04.343 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.344 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:48:04.377 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:48:04.378 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:04.379 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:48:23.124 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:48:23.488 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:48:23.760 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:48:23.778 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-16 12:48:23.781 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.904 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.907 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:48:23.911 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-01-16 12:48:23.912 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2024-01-16 12:48:23.916 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:48:23.930 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:48:23.931 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.935 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:48:23.937 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:48:23.937 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:48:23.937 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:48:23.937 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.937 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.937 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:48:23.954 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:48:23.954 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.954 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:48:23.958 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.958 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.958 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:48:23.958 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:48:23.958 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:48:23.959 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:48:23.967 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:48:23.968 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.969 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:48:23.970 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:23.970 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:48:24.007 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:48:24.008 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:48:24.009 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:48:58.946 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:48:59.225 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:48:59.516 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:49:10.408 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:49:10.700 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:49:10.710 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:49:10.738 +06:00 [DBG] Created DbConnection. (26ms).
2024-01-16 12:49:10.740 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.744 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.862 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.864 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:49:10.867 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:49:10.868 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 12:49:10.872 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:49:10.885 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:49:10.886 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.890 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:49:10.892 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:49:10.892 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:49:10.892 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:49:10.892 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.892 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.893 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:49:10.900 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:49:10.900 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.900 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:49:10.901 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.901 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.901 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:49:10.901 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:49:10.901 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:49:10.901 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:49:10.902 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:49:10.902 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.902 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:49:10.902 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:49:10.902 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:49:10.902 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:49:10.902 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.902 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.902 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:49:10.903 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:49:10.903 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.903 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:49:10.909 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.909 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.909 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:49:10.909 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:49:10.909 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:49:10.909 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:49:10.911 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:49:10.912 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.912 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2024-01-16 12:49:10.912 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.912 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:49:10.919 +06:00 [INF] Applying migration '20240116064859_v8'.
2024-01-16 12:49:10.943 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.943 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:10.944 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 12:49:10.947 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 12:49:10.947 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:49:10.947 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:49:11.045 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (98ms).
2024-01-16 12:49:11.046 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:49:11.060 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:49:11.061 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:49:11.061 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:49:11.061 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:49:11.061 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:49:11.065 +06:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:49:11.065 +06:00 [DBG] Disposing transaction.
2024-01-16 12:49:11.066 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:11.066 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:49:11.066 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:49:11.067 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:49:11.067 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:52:47.303 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:52:47.601 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:52:47.810 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:52:47.827 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 12:52:47.830 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.937 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.940 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:52:47.943 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:52:47.944 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 12:52:47.947 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:52:47.959 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:52:47.960 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.964 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:52:47.965 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:52:47.965 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:52:47.965 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:52:47.965 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.966 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.966 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:52:47.981 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:52:47.981 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.981 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:52:47.986 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.986 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.986 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:52:47.986 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:52:47.986 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:52:47.987 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:52:47.992 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:52:47.994 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.995 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:52:47.995 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:47.995 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:52:48.023 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:52:48.024 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:52:48.024 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 12:53:02.988 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:53:03.299 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:53:03.581 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:53:23.020 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 12:53:23.302 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 12:53:23.311 +06:00 [DBG] Creating DbConnection.
2024-01-16 12:53:23.328 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-16 12:53:23.330 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.333 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.432 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.435 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:53:23.437 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 12:53:23.438 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 12:53:23.441 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:53:23.453 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:53:23.454 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.457 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 12:53:23.459 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:53:23.459 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:53:23.459 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:53:23.459 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.459 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.459 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:53:23.466 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:53:23.466 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.466 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:53:23.467 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.467 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.467 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:53:23.467 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:53:23.467 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:53:23.467 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:53:23.468 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 12:53:23.468 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.468 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:53:23.468 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 12:53:23.468 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:53:23.468 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 12:53:23.468 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.468 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.468 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:53:23.468 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 12:53:23.468 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.468 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:53:23.478 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.478 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.478 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 12:53:23.478 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:53:23.478 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 12:53:23.478 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:53:23.479 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 12:53:23.480 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.481 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 12:53:23.481 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.481 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:53:23.486 +06:00 [INF] Applying migration '20240116065303_v8'.
2024-01-16 12:53:23.507 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.507 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.508 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 12:53:23.511 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 12:53:23.512 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:53:23.512 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:53:23.512 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:53:23.512 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:53:23.520 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 12:53:23.520 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 12:53:23.521 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:53:23.521 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 12:53:23.521 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:53:23.524 +06:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 12:53:23.525 +06:00 [DBG] Disposing transaction.
2024-01-16 12:53:23.525 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.525 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 12:53:23.526 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 12:53:23.527 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 12:53:23.527 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:07:20.091 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:07:20.350 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:07:20.358 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:07:20.376 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-16 13:07:20.379 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.381 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.479 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.482 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:07:20.484 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:07:20.485 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:07:20.488 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:07:20.501 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:07:20.502 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.506 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:07:20.507 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:07:20.507 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:07:20.507 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:07:20.507 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.508 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.508 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:07:20.523 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:07:20.524 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.524 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:07:20.524 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.524 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.524 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:07:20.524 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:20.524 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:20.524 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:07:20.525 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:07:20.525 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.525 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:07:20.525 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:07:20.525 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:07:20.525 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:07:20.525 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.525 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.525 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:07:20.526 +06:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:07:20.526 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.526 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:07:20.533 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.534 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.534 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:07:20.534 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:07:20.534 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:07:20.534 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:07:20.538 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:07:20.539 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.540 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:07:20.540 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.540 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:07:20.545 +06:00 [INF] Applying migration '20240116065303_v8'.
2024-01-16 13:07:20.567 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.567 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:20.568 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 13:07:20.571 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 13:07:20.571 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:07:20.571 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:20.699 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (127ms).
2024-01-16 13:07:20.699 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:07:20.709 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:07:20.709 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:07:20.709 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:20.709 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:20.709 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:07:20.714 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:07:20.715 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:07:20.715 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:20.715 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:20.715 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:07:21.106 +06:00 [INF] Executed DbCommand (392ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:07:21.107 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:07:21.107 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:21.107 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:07:21.107 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:07:21.111 +06:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:07:21.114 +06:00 [DBG] Disposing transaction.
2024-01-16 13:07:21.114 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:21.114 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:07:21.115 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:07:21.116 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:21.116 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:07:54.255 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:07:54.515 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:07:54.717 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:07:54.736 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-16 13:07:54.742 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.844 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.847 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:07:54.850 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:07:54.851 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 13:07:54.854 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:07:54.866 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:07:54.867 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.870 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:07:54.872 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:07:54.872 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:07:54.872 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:07:54.872 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.872 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.872 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:07:54.879 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:07:54.879 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.879 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:07:54.885 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.885 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.885 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:07:54.885 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:07:54.885 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:07:54.886 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:07:54.887 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:07:54.888 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.889 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 0ms reading results.
2024-01-16 13:07:54.889 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.889 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:07:54.918 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:07:54.918 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:07:54.919 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:08:13.041 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:08:13.297 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:08:13.554 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:08:44.397 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:08:44.697 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:08:44.903 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:08:44.919 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 13:08:44.922 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.031 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.034 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:08:45.037 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:08:45.038 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-01-16 13:08:45.041 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:08:45.054 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:08:45.055 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.058 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:08:45.059 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:08:45.059 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:08:45.059 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:08:45.059 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.060 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.060 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:08:45.073 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:08:45.073 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.073 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:08:45.077 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.077 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.077 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:08:45.077 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:08:45.077 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:08:45.077 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:08:45.083 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:08:45.084 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.085 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:08:45.085 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.085 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:08:45.113 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:08:45.114 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:08:45.114 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:08:55.580 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:08:55.852 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:08:56.113 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:09:02.780 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:09:03.092 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:09:03.099 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:09:03.123 +06:00 [DBG] Created DbConnection. (22ms).
2024-01-16 13:09:03.125 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.128 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.244 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.249 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:09:03.252 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:09:03.253 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2024-01-16 13:09:03.256 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:09:03.272 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:09:03.273 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.277 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:09:03.279 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:09:03.279 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:09:03.279 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:09:03.279 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.279 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.280 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:09:03.286 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:09:03.286 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.286 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:09:03.287 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.287 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.287 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:09:03.287 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.287 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.287 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:09:03.288 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:09:03.288 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.288 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:09:03.288 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:09:03.288 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:09:03.288 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:09:03.288 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.289 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.289 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:09:03.290 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:09:03.290 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.290 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:09:03.300 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.300 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.300 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:09:03.300 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:09:03.300 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:09:03.300 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:09:03.301 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:09:03.302 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.303 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:09:03.303 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.303 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:09:03.309 +06:00 [INF] Applying migration '20240116070856_v8'.
2024-01-16 13:09:03.336 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.336 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:03.337 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 13:09:03.340 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 13:09:03.341 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:09:03.341 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.342 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.342 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:09:03.637 +06:00 [INF] Executed DbCommand (295ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:09:03.637 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:09:03.637 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.637 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.637 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:09:03.640 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:09:03.640 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:09:03.640 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.640 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:03.640 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:09:04.191 +06:00 [INF] Executed DbCommand (551ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:09:04.191 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:09:04.191 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:04.191 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:09:04.191 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:09:04.194 +06:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:09:04.197 +06:00 [DBG] Disposing transaction.
2024-01-16 13:09:04.197 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:04.197 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:09:04.198 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:09:04.199 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:09:04.200 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:19:17.396 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:19:17.664 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:19:17.871 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:19:17.888 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-16 13:19:17.891 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.000 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.003 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:19:18.005 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:19:18.006 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:19:18.009 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:19:18.020 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:19:18.021 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.024 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:19:18.025 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:19:18.025 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:19:18.025 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:19:18.025 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.026 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.026 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:19:18.043 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:19:18.043 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.043 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:19:18.047 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.047 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.047 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:19:18.047 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:19:18.047 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:19:18.047 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:19:18.052 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:19:18.054 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.054 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:19:18.054 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.054 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:19:18.083 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:19:18.084 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:19:18.085 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:21:54.680 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:21:54.947 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:21:55.214 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:22:00.910 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:22:01.177 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:22:01.184 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:22:01.200 +06:00 [DBG] Created DbConnection. (14ms).
2024-01-16 13:22:01.202 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.205 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.305 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.307 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:22:01.310 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:22:01.311 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:22:01.314 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:22:01.326 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:22:01.327 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.331 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:22:01.332 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:22:01.332 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:22:01.332 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:22:01.332 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.332 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.333 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:22:01.345 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:22:01.345 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.345 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:22:01.346 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.346 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.346 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:22:01.346 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.346 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.346 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:22:01.347 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:22:01.347 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.347 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:22:01.347 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:22:01.347 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:22:01.347 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:22:01.347 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.347 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.347 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:22:01.348 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:22:01.348 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.348 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:22:01.354 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.354 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.354 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:22:01.355 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:22:01.355 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:22:01.355 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:22:01.357 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:22:01.359 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.359 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:22:01.359 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.359 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:22:01.364 +06:00 [INF] Applying migration '20240116072155_v8'.
2024-01-16 13:22:01.385 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.385 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:01.386 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 13:22:01.388 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 13:22:01.389 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:22:01.389 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.389 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.389 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:22:01.631 +06:00 [INF] Executed DbCommand (242ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:22:01.632 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:22:01.632 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.632 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.632 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:22:01.635 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:22:01.635 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:22:01.635 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.635 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:01.635 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:22:02.019 +06:00 [INF] Executed DbCommand (384ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:22:02.019 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:22:02.019 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:02.019 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:22:02.019 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:22:02.022 +06:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:22:02.025 +06:00 [DBG] Disposing transaction.
2024-01-16 13:22:02.025 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:02.025 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:22:02.026 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:22:02.027 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:22:02.027 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:28:01.281 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:28:01.565 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:28:01.571 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:28:01.588 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 13:28:01.590 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.593 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.700 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.703 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:28:01.706 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:28:01.707 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:28:01.710 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:28:01.722 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:28:01.723 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.726 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:28:01.727 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:28:01.727 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:28:01.727 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:28:01.727 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.728 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.728 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:28:01.742 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:28:01.742 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.742 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:28:01.742 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.742 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.742 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:28:01.742 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:01.742 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:01.742 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:28:01.743 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:28:01.744 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.744 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:28:01.744 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:28:01.744 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:28:01.744 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:28:01.744 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.744 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.744 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:28:01.744 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:28:01.744 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.744 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:28:01.753 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.753 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.753 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:28:01.753 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:28:01.753 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:28:01.753 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:28:01.759 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:28:01.760 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.761 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:28:01.761 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:01.761 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:28:01.766 +06:00 [INF] Applying migration '20240116072155_v8'.
2024-01-16 13:28:01.786 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:02.142 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:02.144 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 13:28:02.149 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 13:28:02.150 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:28:02.150 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.151 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.151 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:28:02.161 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:28:02.161 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:28:02.161 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.161 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.161 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:28:02.163 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:28:02.164 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:28:02.164 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.164 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.164 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:28:02.553 +06:00 [INF] Executed DbCommand (389ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:28:02.553 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:28:02.553 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.553 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:28:02.553 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:28:02.557 +06:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:28:02.560 +06:00 [DBG] Disposing transaction.
2024-01-16 13:28:02.560 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:02.560 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:28:02.561 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:28:02.562 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:28:02.563 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:36:02.879 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:36:03.144 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:36:03.343 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:36:03.359 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 13:36:03.362 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.468 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.470 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:03.473 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:36:03.474 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:36:03.476 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:36:03.487 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:36:03.488 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.491 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:36:03.492 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:36:03.492 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:36:03.492 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:36:03.492 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.493 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.493 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:36:03.500 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:36:03.500 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.500 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:36:03.503 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.504 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.504 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:36:03.504 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:36:03.504 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:36:03.504 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:36:03.507 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:36:03.509 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.509 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:36:03.509 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.509 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:36:03.536 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:36:03.537 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:03.538 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:36:11.531 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:36:11.804 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:36:12.045 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:36:18.393 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:36:18.691 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:36:18.699 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:36:18.715 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 13:36:18.717 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.719 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.815 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.818 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:18.820 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:36:18.821 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:36:18.824 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:36:18.836 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:36:18.837 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.840 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:36:18.841 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:36:18.841 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:36:18.841 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:36:18.841 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.842 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.842 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:36:18.848 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:36:18.848 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.849 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:36:18.849 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.849 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.849 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:18.849 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:18.849 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:18.849 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:36:18.850 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:36:18.850 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.850 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:36:18.850 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:36:18.850 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:36:18.850 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:36:18.850 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.850 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.850 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:36:18.851 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:36:18.851 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.851 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:36:18.858 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.858 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.858 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:36:18.858 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:36:18.858 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:36:18.858 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:36:18.859 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:36:18.860 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.861 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:36:18.861 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.861 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:36:18.866 +06:00 [INF] Applying migration '20240116073612_v8'.
2024-01-16 13:36:18.886 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.886 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:18.888 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 13:36:18.898 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 13:36:18.899 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:18.899 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.184 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (284ms).
2024-01-16 13:36:19.184 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:36:19.198 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] DROP CONSTRAINT [FK_Cities_Users_UserId];
2024-01-16 13:36:19.199 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:19.199 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.199 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.199 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:36:19.201 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [FK_PointsOfInterest_Users_UserId];
2024-01-16 13:36:19.201 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:19.201 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.201 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.201 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:36:19.621 +06:00 [INF] Executed DbCommand (420ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:36:19.621 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:19.622 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.622 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.622 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:36:19.623 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[PointsOfInterest].[IX_PointsOfInterest_UserId]', N'IX_PointsOfInterest_userId', N'INDEX';
2024-01-16 13:36:19.623 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:19.623 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.623 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.623 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:36:19.626 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[UserId]', N'userId', N'COLUMN';
2024-01-16 13:36:19.626 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:19.626 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.626 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.626 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-16 13:36:19.628 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
EXEC sp_rename N'[Cities].[IX_Cities_UserId]', N'IX_Cities_userId', N'INDEX';
2024-01-16 13:36:19.628 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:19.628 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.628 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:19.628 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'userName');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Users] ALTER COLUMN [userName] varchar(255) NOT NULL;
2024-01-16 13:36:19.662 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'userName');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Users] ALTER COLUMN [userName] varchar(255) NOT NULL;
2024-01-16 13:36:21.930 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:21.930 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:21.930 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:21.930 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'lastName');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Users] SET [lastName] = N'' WHERE [lastName] IS NULL;
ALTER TABLE [Users] ALTER COLUMN [lastName] nvarchar(max) NOT NULL;
ALTER TABLE [Users] ADD DEFAULT N'' FOR [lastName];
2024-01-16 13:36:21.975 +06:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Users]') AND [c].[name] = N'lastName');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Users] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Users] SET [lastName] = N'' WHERE [lastName] IS NULL;
ALTER TABLE [Users] ALTER COLUMN [lastName] nvarchar(max) NOT NULL;
ALTER TABLE [Users] ADD DEFAULT N'' FOR [lastName];
2024-01-16 13:36:21.975 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:21.975 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:21.975 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:21.975 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var2 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-16 13:36:22.012 +06:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest];
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'userId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var2 + '];');
UPDATE [PointsOfInterest] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_PointsOfInterest_userId] ON [PointsOfInterest] ([userId]);
2024-01-16 13:36:22.012 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:22.012 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:22.012 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:22.012 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'Description');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var3 + '];');
UPDATE [PointsOfInterest] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT N'' FOR [Description];
2024-01-16 13:36:23.837 +06:00 [INF] Executed DbCommand (1,825ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[PointsOfInterest]') AND [c].[name] = N'Description');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [PointsOfInterest] DROP CONSTRAINT [' + @var3 + '];');
UPDATE [PointsOfInterest] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [PointsOfInterest] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [PointsOfInterest] ADD DEFAULT N'' FOR [Description];
2024-01-16 13:36:23.838 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:23.838 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:23.838 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:23.838 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var4 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-16 13:36:23.892 +06:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Cities_userId] ON [Cities];
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'userId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var4 + '];');
UPDATE [Cities] SET [userId] = 0 WHERE [userId] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [userId] int NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT 0 FOR [userId];
CREATE INDEX [IX_Cities_userId] ON [Cities] ([userId]);
2024-01-16 13:36:23.892 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:23.892 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:23.892 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:23.892 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'Description');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var5 + '];');
UPDATE [Cities] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT N'' FOR [Description];
2024-01-16 13:36:23.931 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Cities]') AND [c].[name] = N'Description');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Cities] DROP CONSTRAINT [' + @var5 + '];');
UPDATE [Cities] SET [Description] = N'' WHERE [Description] IS NULL;
ALTER TABLE [Cities] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
ALTER TABLE [Cities] ADD DEFAULT N'' FOR [Description];
2024-01-16 13:36:26.484 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:26.484 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:26.484 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:26.484 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 13:36:26.494 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Cities] ADD CONSTRAINT [FK_Cities_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE CASCADE;
2024-01-16 13:36:26.494 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:26.494 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:26.494 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:26.495 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION;
2024-01-16 13:36:26.499 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [PointsOfInterest] ADD CONSTRAINT [FK_PointsOfInterest_Users_userId] FOREIGN KEY ([userId]) REFERENCES [Users] ([Id]) ON DELETE NO ACTION;
2024-01-16 13:36:26.499 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:36:26.499 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:26.499 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:36:26.499 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116073612_v8', N'8.0.0');
2024-01-16 13:36:26.501 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116073612_v8', N'8.0.0');
2024-01-16 13:36:26.502 +06:00 [DBG] Committing transaction.
2024-01-16 13:36:26.504 +06:00 [DBG] Committed transaction.
2024-01-16 13:36:26.505 +06:00 [DBG] Disposing transaction.
2024-01-16 13:36:26.505 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:26.505 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:36:26.506 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:36:26.507 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:36:26.507 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:43:13.794 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:43:14.063 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:43:14.299 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:49:59.449 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:49:59.756 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:49:59.763 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:49:59.781 +06:00 [DBG] Created DbConnection. (17ms).
2024-01-16 13:49:59.783 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.785 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.888 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.890 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:49:59.893 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 13:49:59.893 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 13:49:59.896 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:49:59.908 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:49:59.909 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.912 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:49:59.914 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:49:59.914 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:49:59.914 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:49:59.914 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.914 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.914 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:49:59.942 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:49:59.942 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.943 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:49:59.943 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.943 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.943 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:49:59.943 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:49:59.943 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:49:59.943 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:49:59.944 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 13:49:59.945 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.945 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:49:59.945 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 13:49:59.945 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:49:59.945 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 13:49:59.945 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.945 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.945 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:49:59.945 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 13:49:59.945 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.945 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:49:59.951 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.951 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.951 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:49:59.951 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:49:59.951 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 13:49:59.952 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:49:59.960 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 13:49:59.961 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.962 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:49:59.962 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:49:59.962 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:49:59.966 +06:00 [INF] Applying migration '20240116074314_v9'.
2024-01-16 13:49:59.977 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:50:00.025 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:50:00.027 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 13:50:00.032 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 13:50:00.033 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:50:00.033 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:50:00.033 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:50:00.033 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN userName VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-16 13:50:00.044 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN userName VARCHAR(255) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-16 13:50:00.044 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 13:50:00.044 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:50:00.044 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 13:50:00.044 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116074314_v9', N'8.0.0');
2024-01-16 13:50:00.047 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116074314_v9', N'8.0.0');
2024-01-16 13:50:00.048 +06:00 [DBG] Committing transaction.
2024-01-16 13:50:00.050 +06:00 [DBG] Committed transaction.
2024-01-16 13:50:00.051 +06:00 [DBG] Disposing transaction.
2024-01-16 13:50:00.051 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:50:00.051 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 13:50:00.052 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:50:00.053 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:50:00.053 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 13:51:21.765 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 13:51:21.829 +06:00 [DBG] Hosting starting
2024-01-16 13:51:21.944 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 13:51:21.947 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 13:51:21.949 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 13:51:21.950 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 13:51:21.951 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 13:51:21.952 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 13:51:21.953 +06:00 [INF] Hosting environment: Development
2024-01-16 13:51:21.954 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 13:51:21.955 +06:00 [DBG] Hosting started
2024-01-16 13:51:41.507 +06:00 [DBG] Connection id "0HN0MCVT3C60E" accepted.
2024-01-16 13:51:41.511 +06:00 [DBG] Connection id "0HN0MCVT3C60E" started.
2024-01-16 13:51:41.581 +06:00 [DBG] Connection 0HN0MCVT3C60E established using the following protocol: "Tls13"
2024-01-16 13:51:41.645 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 13:51:41.659 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 13:51:41.675 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 13:51:41.680 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:51:41.682 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:51:41.684 +06:00 [DBG] The request is a preflight request.
2024-01-16 13:51:41.690 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 50.6931ms
2024-01-16 13:51:41.695 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 13:51:41.702 +06:00 [DBG] POST requests are not supported
2024-01-16 13:51:41.704 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:51:41.705 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:51:41.733 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 13:51:41.739 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 13:51:41.742 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:51:41.749 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:51:41.781 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 13:51:41.788 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 13:51:41.790 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 13:51:41.793 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 13:51:41.798 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 13:51:41.800 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 13:51:41.804 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:51:41.943 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:51:42.123 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:51:42.127 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:51:42.134 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 13:51:42.141 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 13:51:42.142 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 13:51:42.150 +06:00 [DBG] Connection id "0HN0MCVT3C60E", Request id "0HN0MCVT3C60E:00000003": started reading request body.
2024-01-16 13:51:42.151 +06:00 [DBG] Connection id "0HN0MCVT3C60E", Request id "0HN0MCVT3C60E:00000003": done reading request body.
2024-01-16 13:51:42.245 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:51:42.250 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:51:42.251 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:51:42.258 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:51:43.089 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:51:43.168 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-16 13:51:43.373 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 13:51:43.445 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:51:43.474 +06:00 [DBG] Created DbConnection. (25ms).
2024-01-16 13:51:43.481 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:43.828 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:43.832 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:51:43.841 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-01-16 13:51:43.851 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-01-16 13:51:43.863 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:43.952 +06:00 [INF] Executed DbCommand (92ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:43.976 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:43.989 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 26ms reading results.
2024-01-16 13:51:43.997 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:44.008 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (11ms).
2024-01-16 13:51:44.015 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-16 13:51:44.022 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 13:51:44.026 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:44.030 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:44.033 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:51:44.035 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 13:51:44.038 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 13:51:44.039 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:44.049 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:44.054 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:44.057 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 13:51:44.060 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:44.063 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:51:44.073 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 13:51:44.080 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 13:51:44.082 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 13:51:44.084 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 13:51:44.087 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 13:51:44.091 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 13:51:44.141 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 2335.3438ms
2024-01-16 13:51:44.145 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:51:44.154 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:51:44.161 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:44.163 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 13:51:44.167 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 2471.6881ms
2024-01-16 13:51:53.021 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 13:51:53.029 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 13:51:53.032 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:51:53.034 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:51:53.035 +06:00 [DBG] The request is a preflight request.
2024-01-16 13:51:53.036 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 14.7974ms
2024-01-16 13:51:53.038 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 13:51:53.045 +06:00 [DBG] POST requests are not supported
2024-01-16 13:51:53.047 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:51:53.049 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:51:53.052 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 13:51:53.054 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 13:51:53.056 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:51:53.058 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:51:53.059 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 13:51:53.062 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 13:51:53.064 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 13:51:53.066 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 13:51:53.068 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 13:51:53.070 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 13:51:53.073 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:51:53.075 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:51:53.077 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:51:53.080 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 13:51:53.082 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 13:51:53.084 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 13:51:53.086 +06:00 [DBG] Connection id "0HN0MCVT3C60E", Request id "0HN0MCVT3C60E:00000007": started reading request body.
2024-01-16 13:51:53.088 +06:00 [DBG] Connection id "0HN0MCVT3C60E", Request id "0HN0MCVT3C60E:00000007": done reading request body.
2024-01-16 13:51:53.089 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:51:53.091 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:51:53.093 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:51:53.095 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:51:53.116 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:51:53.123 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:51:53.124 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 13:51:53.126 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.128 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.130 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:51:53.132 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 13:51:53.133 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 13:51:53.135 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:53.143 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:53.146 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.147 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:51:53.149 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.150 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:51:53.152 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.154 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.155 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:51:53.156 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 13:51:53.157 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 13:51:53.158 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:53.163 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:51:53.166 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.168 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 13:51:53.170 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.172 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:51:53.174 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 13:51:53.176 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 13:51:53.177 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 13:51:53.178 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 13:51:53.179 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 13:51:53.180 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 13:51:53.182 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 109.1532ms
2024-01-16 13:51:53.184 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:51:53.187 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:51:53.189 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:51:53.191 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 13:51:53.192 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 154.8767ms
2024-01-16 13:52:04.428 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 13:52:04.536 +06:00 [DBG] Hosting starting
2024-01-16 13:52:04.680 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 13:52:04.681 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 13:52:04.682 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 13:52:04.683 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 13:52:04.684 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 13:52:04.685 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 13:52:04.686 +06:00 [INF] Hosting environment: Development
2024-01-16 13:52:04.687 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 13:52:04.688 +06:00 [DBG] Hosting started
2024-01-16 13:52:24.905 +06:00 [DBG] Connection id "0HN0MD0A18DAK" accepted.
2024-01-16 13:52:24.909 +06:00 [DBG] Connection id "0HN0MD0A18DAK" started.
2024-01-16 13:52:24.991 +06:00 [DBG] Connection 0HN0MD0A18DAK established using the following protocol: "Tls13"
2024-01-16 13:52:25.073 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities - null null
2024-01-16 13:52:25.073 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - null null
2024-01-16 13:52:25.095 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 13:52:25.095 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 13:52:25.175 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 13:52:25.177 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:52:25.179 +06:00 [DBG] The request path  does not match the path filter
2024-01-16 13:52:25.180 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:52:25.181 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:52:25.183 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:52:25.215 +06:00 [DBG] 2 candidate(s) found for the request path '/api/cities/pointsofinterest'
2024-01-16 13:52:25.215 +06:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2024-01-16 13:52:25.219 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/cities' is valid for the request path '/api/cities'
2024-01-16 13:52:25.219 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)' with route pattern 'api/cities/pointsofinterest' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 13:52:25.222 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 13:52:25.224 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/cities/{id}' is valid for the request path '/api/cities/pointsofinterest'
2024-01-16 13:52:25.228 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 13:52:25.230 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 13:52:25.230 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 13:52:25.266 +06:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 13:52:25.266 +06:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.PointsOfInterestReturnDto]]] GetPointsOfInterest() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2024-01-16 13:52:25.273 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 13:52:25.273 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 13:52:25.277 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 13:52:25.279 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 13:52:25.281 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 13:52:25.283 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 13:52:25.286 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 13:52:25.288 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 13:52:25.292 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 13:52:25.295 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 13:52:25.300 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 13:52:25.300 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 13:52:25.657 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:52:25.657 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 13:52:25.922 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 13:52:25.922 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2024-01-16 13:52:26.874 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:52:26.874 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:52:26.945 +06:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2024-01-16 13:52:26.945 +06:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .OrderBy(c => c.Name)'
2024-01-16 13:52:27.236 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3], [Property: PointOfInterest.userId (int) Required FK Index, 4] }
        SELECT p.Id, p.CityId, p.Description, p.Name, p.userId
        FROM PointsOfInterest AS p
        ORDER BY p.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 13:52:27.236 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) Required MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2], [Property: City.userId (int) Required FK Index, 3] }
        SELECT c.Id, c.Description, c.Name, c.userId
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2024-01-16 13:52:27.272 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:52:27.274 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:52:27.300 +06:00 [DBG] Created DbConnection. (26ms).
2024-01-16 13:52:27.300 +06:00 [DBG] Created DbConnection. (20ms).
2024-01-16 13:52:27.306 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.306 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.636 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.640 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.646 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:52:27.646 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:52:27.658 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-01-16 13:52:27.658 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-01-16 13:52:27.664 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-01-16 13:52:27.664 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-01-16 13:52:27.677 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 13:52:27.677 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 13:52:27.749 +06:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name], [c].[userId]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2024-01-16 13:52:27.749 +06:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name], [p].[userId]
FROM [PointsOfInterest] AS [p]
ORDER BY [p].[Name]
2024-01-16 13:52:27.768 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.779 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 16ms reading results.
2024-01-16 13:52:27.785 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.794 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-16 13:52:27.800 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 13:52:27.804 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 13:52:27.809 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 13:52:27.811 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-01-16 13:52:27.815 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-01-16 13:52:27.817 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-01-16 13:52:27.822 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 13:52:27.824 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 13:52:27.826 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 13:52:27.828 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 13:52:27.831 +06:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-01-16 13:52:27.832 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.834 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 80ms reading results.
2024-01-16 13:52:27.836 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.837 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:52:27.853 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 13:52:27.856 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 13:52:27.857 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 13:52:27.858 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 13:52:27.860 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 13:52:27.862 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-01-16 13:52:27.913 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API) in 2608.3428ms
2024-01-16 13:52:27.913 +06:00 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 2611.0989ms
2024-01-16 13:52:27.915 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetPointsOfInterest (CityInfo.API)'
2024-01-16 13:52:27.916 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2024-01-16 13:52:27.923 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:52:27.923 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:52:27.928 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.928 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:27.931 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-16 13:52:27.931 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 13:52:27.935 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities - 200 456 application/json; charset=utf-8 2871.0654ms
2024-01-16 13:52:27.935 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7156/api/cities/pointsofinterest - 404 162 application/problem+json; charset=utf-8 2871.8725ms
2024-01-16 13:52:33.724 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 13:52:33.732 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 13:52:33.735 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:52:33.737 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:52:33.739 +06:00 [DBG] The request is a preflight request.
2024-01-16 13:52:33.743 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 19.3853ms
2024-01-16 13:52:33.746 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 13:52:33.754 +06:00 [DBG] POST requests are not supported
2024-01-16 13:52:33.755 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:52:33.757 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:52:33.760 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 13:52:33.762 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 13:52:33.765 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:52:33.768 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:52:33.783 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 13:52:33.788 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 13:52:33.790 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 13:52:33.793 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 13:52:33.797 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 13:52:33.800 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 13:52:33.802 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:52:33.810 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:52:33.818 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:52:33.824 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 13:52:33.829 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 13:52:33.831 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 13:52:33.839 +06:00 [DBG] Connection id "0HN0MD0A18DAK", Request id "0HN0MD0A18DAK:00000007": started reading request body.
2024-01-16 13:52:33.842 +06:00 [DBG] Connection id "0HN0MD0A18DAK", Request id "0HN0MD0A18DAK:00000007": done reading request body.
2024-01-16 13:52:33.873 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:52:33.876 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:52:33.879 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:52:33.889 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:52:33.971 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:52:33.984 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-16 13:52:34.021 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 13:52:34.042 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:52:34.043 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 13:52:34.045 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:34.050 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:34.052 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:52:34.053 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 13:52:34.059 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-16 13:52:34.063 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:52:34.112 +06:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:52:34.123 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:34.127 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 7ms reading results.
2024-01-16 13:52:34.132 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:34.135 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 13:52:34.141 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 13:52:34.147 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 13:52:34.148 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 13:52:34.150 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 13:52:34.152 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 13:52:34.155 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 13:52:34.162 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 360.1681ms
2024-01-16 13:52:34.166 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:52:34.169 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:52:34.172 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:34.175 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 13:52:34.179 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 432.4764ms
2024-01-16 13:52:48.893 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 13:52:48.899 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 13:52:48.902 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:52:48.904 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:52:48.906 +06:00 [DBG] The request is a preflight request.
2024-01-16 13:52:48.908 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 15.7007ms
2024-01-16 13:52:48.911 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 13:52:48.920 +06:00 [DBG] POST requests are not supported
2024-01-16 13:52:48.921 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 13:52:48.923 +06:00 [INF] CORS policy execution successful.
2024-01-16 13:52:48.926 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 13:52:48.929 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 13:52:48.932 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:52:48.934 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:52:48.936 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 13:52:48.939 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 13:52:48.942 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 13:52:48.945 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 13:52:48.949 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 13:52:48.951 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 13:52:48.953 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:52:48.956 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 13:52:48.960 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:52:48.962 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 13:52:48.965 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 13:52:48.967 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 13:52:48.969 +06:00 [DBG] Connection id "0HN0MD0A18DAK", Request id "0HN0MD0A18DAK:0000000B": started reading request body.
2024-01-16 13:52:48.972 +06:00 [DBG] Connection id "0HN0MD0A18DAK", Request id "0HN0MD0A18DAK:0000000B": done reading request body.
2024-01-16 13:52:48.974 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:52:48.977 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:52:48.979 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 13:52:48.981 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 13:52:48.983 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 13:52:48.989 +06:00 [DBG] Creating DbConnection.
2024-01-16 13:52:48.990 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 13:52:48.992 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:48.995 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:48.997 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:52:48.998 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 13:52:49.000 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 13:52:49.002 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:52:49.006 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:52:49.011 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:49.013 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 13:52:49.015 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:49.017 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 13:52:49.020 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-16 13:52:49.025 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 13:52:49.029 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:49.031 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:49.034 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 13:52:49.035 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 13:52:49.037 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 13:52:49.039 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:52:49.046 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 13:52:49.049 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:49.051 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 13:52:49.054 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:49.055 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 13:52:49.058 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 13:52:49.063 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 13:52:49.064 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 13:52:49.065 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 13:52:49.068 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 13:52:49.070 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 13:52:49.077 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 123.7393ms
2024-01-16 13:52:49.078 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 13:52:49.080 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 13:52:49.080 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 13:52:49.082 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 13:52:49.085 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 174.8299ms
2024-01-16 13:53:28.987 +06:00 [DBG] Connection id "0HN0MD0A18DAK" received FIN.
2024-01-16 13:53:29.019 +06:00 [DBG] Connection id "0HN0MD0A18DAK" is closed. The last processed stream ID was 11.
2024-01-16 13:53:29.038 +06:00 [DBG] The connection queue processing loop for 0HN0MD0A18DAK completed.
2024-01-16 13:53:29.047 +06:00 [DBG] Connection id "0HN0MD0A18DAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 13:53:29.055 +06:00 [DBG] Connection id "0HN0MD0A18DAK" stopped.
2024-01-16 14:35:53.535 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 14:35:53.820 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 14:35:54.054 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 14:36:49.547 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 14:36:49.816 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 14:36:49.824 +06:00 [DBG] Creating DbConnection.
2024-01-16 14:36:49.842 +06:00 [DBG] Created DbConnection. (16ms).
2024-01-16 14:36:49.845 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:49.847 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:49.960 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:49.962 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 14:36:49.965 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 14:36:49.965 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 14:36:49.969 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 14:36:49.981 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 14:36:49.982 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:49.986 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 14:36:49.987 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 14:36:49.987 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 14:36:49.987 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 14:36:49.987 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:49.988 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:49.988 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 14:36:49.999 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 14:36:50.000 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.000 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 14:36:50.000 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.000 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.000 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 14:36:50.000 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 14:36:50.001 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 14:36:50.001 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 14:36:50.002 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 14:36:50.002 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.002 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 14:36:50.002 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 14:36:50.002 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 14:36:50.002 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 14:36:50.002 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.002 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.002 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 14:36:50.003 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 14:36:50.003 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.003 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 14:36:50.009 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.009 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.009 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:36:50.009 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 14:36:50.009 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 14:36:50.009 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 14:36:50.015 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 14:36:50.016 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.016 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 14:36:50.016 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.017 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 14:36:50.021 +06:00 [INF] Applying migration '20240116083554_v10'.
2024-01-16 14:36:50.033 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.033 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.034 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-01-16 14:36:50.037 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-01-16 14:36:50.095 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 14:36:50.095 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 14:36:50.095 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 14:36:50.095 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-16 14:36:50.128 +06:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE Users ALTER COLUMN  password VARCHAR(50) COLLATE SQL_Latin1_General_CP1_CS_AS
2024-01-16 14:36:50.128 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 14:36:50.128 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 14:36:50.128 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 14:36:50.128 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116083554_v10', N'8.0.0');
2024-01-16 14:36:50.133 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240116083554_v10', N'8.0.0');
2024-01-16 14:36:50.135 +06:00 [DBG] Committing transaction.
2024-01-16 14:36:50.137 +06:00 [DBG] Committed transaction.
2024-01-16 14:36:50.138 +06:00 [DBG] Disposing transaction.
2024-01-16 14:36:50.138 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.138 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 14:36:50.139 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 14:36:50.140 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:36:50.140 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 14:37:31.547 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 14:37:31.607 +06:00 [DBG] Hosting starting
2024-01-16 14:37:31.721 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 14:37:31.723 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 14:37:31.724 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 14:37:31.725 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 14:37:31.726 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 14:37:31.729 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 14:37:31.730 +06:00 [INF] Hosting environment: Development
2024-01-16 14:37:31.731 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 14:37:31.734 +06:00 [DBG] Hosting started
2024-01-16 14:37:56.666 +06:00 [DBG] Connection id "0HN0MDPO5BMT1" accepted.
2024-01-16 14:37:56.670 +06:00 [DBG] Connection id "0HN0MDPO5BMT1" started.
2024-01-16 14:37:56.752 +06:00 [DBG] Connection 0HN0MDPO5BMT1 established using the following protocol: "Tls13"
2024-01-16 14:37:56.818 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 14:37:56.836 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 14:37:56.860 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 14:37:56.864 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 14:37:56.866 +06:00 [INF] CORS policy execution successful.
2024-01-16 14:37:56.869 +06:00 [DBG] The request is a preflight request.
2024-01-16 14:37:56.874 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 64.2575ms
2024-01-16 14:37:56.880 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 14:37:56.888 +06:00 [DBG] POST requests are not supported
2024-01-16 14:37:56.891 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 14:37:56.893 +06:00 [INF] CORS policy execution successful.
2024-01-16 14:37:56.931 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 14:37:56.940 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 14:37:56.944 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:37:56.952 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:37:56.987 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 14:37:56.993 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 14:37:56.995 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 14:37:56.997 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 14:37:56.999 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 14:37:57.001 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 14:37:57.003 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:37:57.138 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 14:37:57.352 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:37:57.359 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:37:57.364 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 14:37:57.367 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 14:37:57.370 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 14:37:57.378 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:00000003": started reading request body.
2024-01-16 14:37:57.380 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:00000003": done reading request body.
2024-01-16 14:37:57.465 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:37:57.468 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:37:57.470 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:37:57.478 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:37:58.306 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 14:37:58.385 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-16 14:37:58.568 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 14:37:58.652 +06:00 [DBG] Creating DbConnection.
2024-01-16 14:37:58.683 +06:00 [DBG] Created DbConnection. (26ms).
2024-01-16 14:37:58.690 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.025 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.031 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:37:59.040 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-16 14:37:59.052 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-01-16 14:37:59.064 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.151 +06:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.177 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.187 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 26ms reading results.
2024-01-16 14:37:59.196 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.207 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (10ms).
2024-01-16 14:37:59.213 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-16 14:37:59.220 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 14:37:59.224 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.227 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.228 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:37:59.229 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 14:37:59.232 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 14:37:59.234 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.247 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.252 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.254 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 14:37:59.257 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.260 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 14:37:59.267 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 14:37:59.271 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 14:37:59.272 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 14:37:59.273 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 14:37:59.277 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 14:37:59.278 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 14:37:59.293 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 14:37:59.300 +06:00 [DBG] POST requests are not supported
2024-01-16 14:37:59.301 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 14:37:59.303 +06:00 [INF] CORS policy execution successful.
2024-01-16 14:37:59.306 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 14:37:59.307 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 14:37:59.310 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:37:59.312 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:37:59.314 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 14:37:59.317 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 14:37:59.324 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 14:37:59.326 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 14:37:59.326 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 2317.0509ms
2024-01-16 14:37:59.328 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 14:37:59.331 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:37:59.332 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 14:37:59.336 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:37:59.339 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:37:59.340 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 14:37:59.341 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:37:59.344 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 14:37:59.346 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.347 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 14:37:59.350 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-01-16 14:37:59.351 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 14:37:59.353 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 2473.4875ms
2024-01-16 14:37:59.354 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:00000005": started reading request body.
2024-01-16 14:37:59.359 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:00000005": done reading request body.
2024-01-16 14:37:59.361 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:37:59.362 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:37:59.364 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:37:59.366 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:37:59.389 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 14:37:59.397 +06:00 [DBG] Creating DbConnection.
2024-01-16 14:37:59.400 +06:00 [DBG] Created DbConnection. (2ms).
2024-01-16 14:37:59.402 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.404 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.406 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:37:59.408 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 14:37:59.411 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 14:37:59.413 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.415 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.419 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.420 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 14:37:59.423 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.425 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 14:37:59.427 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.428 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.431 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:37:59.432 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 14:37:59.434 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 14:37:59.435 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.438 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:37:59.441 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.443 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 14:37:59.445 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.446 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 14:37:59.448 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 14:37:59.452 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 14:37:59.453 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 14:37:59.454 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 14:37:59.456 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 14:37:59.458 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 14:37:59.460 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 124.1367ms
2024-01-16 14:37:59.462 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:37:59.464 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 14:37:59.466 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:37:59.468 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 14:37:59.470 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 177.285ms
2024-01-16 14:38:04.377 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 14:38:04.386 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 14:38:04.390 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 14:38:04.392 +06:00 [INF] CORS policy execution successful.
2024-01-16 14:38:04.394 +06:00 [DBG] The request is a preflight request.
2024-01-16 14:38:04.395 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 19.0948ms
2024-01-16 14:38:04.398 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 14:38:04.404 +06:00 [DBG] POST requests are not supported
2024-01-16 14:38:04.406 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 14:38:04.408 +06:00 [INF] CORS policy execution successful.
2024-01-16 14:38:04.409 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 14:38:04.410 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 14:38:04.413 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:38:04.416 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:38:04.418 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 14:38:04.420 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 14:38:04.423 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 14:38:04.424 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 14:38:04.426 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 14:38:04.429 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 14:38:04.431 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:38:04.436 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:38:04.439 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:38:04.440 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 14:38:04.443 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 14:38:04.445 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 14:38:04.448 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:00000009": started reading request body.
2024-01-16 14:38:04.449 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:00000009": done reading request body.
2024-01-16 14:38:04.451 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:38:04.453 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:38:04.455 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:38:04.456 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:38:04.533 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 14:38:04.539 +06:00 [DBG] Creating DbConnection.
2024-01-16 14:38:04.542 +06:00 [DBG] Created DbConnection. (3ms).
2024-01-16 14:38:04.543 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.545 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.547 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:38:04.548 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 14:38:04.550 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 14:38:04.551 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:04.556 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:04.563 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.564 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 14:38:04.566 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.567 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 14:38:04.569 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.570 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.571 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:38:04.572 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 14:38:04.575 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 14:38:04.576 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:04.579 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:04.582 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.583 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 14:38:04.585 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.587 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (2ms).
2024-01-16 14:38:04.591 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 14:38:04.596 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 14:38:04.597 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 14:38:04.599 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 14:38:04.601 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 14:38:04.604 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 14:38:04.607 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 175.8825ms
2024-01-16 14:38:04.609 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:38:04.611 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 14:38:04.612 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:04.614 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 14:38:04.616 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 218.605ms
2024-01-16 14:38:11.049 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 14:38:11.055 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 14:38:11.057 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 14:38:11.058 +06:00 [INF] CORS policy execution successful.
2024-01-16 14:38:11.060 +06:00 [DBG] The request is a preflight request.
2024-01-16 14:38:11.061 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 12.148ms
2024-01-16 14:38:11.064 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 14:38:11.070 +06:00 [DBG] POST requests are not supported
2024-01-16 14:38:11.072 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 14:38:11.073 +06:00 [INF] CORS policy execution successful.
2024-01-16 14:38:11.075 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 14:38:11.077 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 14:38:11.079 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:38:11.081 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:38:11.082 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 14:38:11.085 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 14:38:11.088 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 14:38:11.091 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 14:38:11.094 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 14:38:11.097 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 14:38:11.099 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:38:11.103 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 14:38:11.105 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:38:11.106 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 14:38:11.108 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 14:38:11.110 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 14:38:11.111 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:0000000D": started reading request body.
2024-01-16 14:38:11.113 +06:00 [DBG] Connection id "0HN0MDPO5BMT1", Request id "0HN0MDPO5BMT1:0000000D": done reading request body.
2024-01-16 14:38:11.115 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:38:11.118 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:38:11.119 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 14:38:11.120 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 14:38:11.123 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 14:38:11.125 +06:00 [DBG] Creating DbConnection.
2024-01-16 14:38:11.126 +06:00 [DBG] Created DbConnection. (0ms).
2024-01-16 14:38:11.126 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.128 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.131 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:38:11.133 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 14:38:11.135 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-01-16 14:38:11.136 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:11.140 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:11.143 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.145 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 14:38:11.147 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.149 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 14:38:11.151 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.152 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.153 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 14:38:11.154 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 14:38:11.155 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-01-16 14:38:11.157 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:11.161 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 14:38:11.165 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.166 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 14:38:11.168 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.170 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 14:38:11.172 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 14:38:11.176 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 14:38:11.177 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 14:38:11.179 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 14:38:11.180 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 14:38:11.182 +06:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 14:38:11.183 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 84.8174ms
2024-01-16 14:38:11.185 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 14:38:11.187 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 14:38:11.188 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 14:38:11.189 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 14:38:11.191 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 200 28 application/json; charset=utf-8 127.2816ms
2024-01-16 14:38:28.252 +06:00 [DBG] Connection id "0HN0MDPO5BMT1" received FIN.
2024-01-16 14:38:28.291 +06:00 [DBG] Connection id "0HN0MDPO5BMT1" is closed. The last processed stream ID was 13.
2024-01-16 14:38:28.292 +06:00 [DBG] The connection queue processing loop for 0HN0MDPO5BMT1 completed.
2024-01-16 14:38:28.293 +06:00 [DBG] Connection id "0HN0MDPO5BMT1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-01-16 14:38:28.305 +06:00 [DBG] Connection id "0HN0MDPO5BMT1" stopped.
2024-01-16 15:23:25.229 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 15:23:25.509 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 15:23:25.516 +06:00 [DBG] Creating DbConnection.
2024-01-16 15:23:25.533 +06:00 [DBG] Created DbConnection. (15ms).
2024-01-16 15:23:25.535 +06:00 [DBG] Migrating using database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.537 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.644 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.646 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 15:23:25.649 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-01-16 15:23:25.650 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2024-01-16 15:23:25.653 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 15:23:25.665 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 15:23:25.666 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.670 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 15:23:25.671 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 15:23:25.671 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 15:23:25.671 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 15:23:25.671 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.671 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.672 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 15:23:25.685 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 15:23:25.685 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.685 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 15:23:25.686 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.686 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.686 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-01-16 15:23:25.686 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 15:23:25.686 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-01-16 15:23:25.686 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 15:23:25.687 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-01-16 15:23:25.687 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.687 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 15:23:25.687 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-01-16 15:23:25.687 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 15:23:25.687 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-01-16 15:23:25.687 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.687 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.687 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 15:23:25.688 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-01-16 15:23:25.688 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.688 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 15:23:25.695 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.695 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.695 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 15:23:25.695 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-01-16 15:23:25.695 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-01-16 15:23:25.695 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 15:23:25.704 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-01-16 15:23:25.705 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.705 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 1ms reading results.
2024-01-16 15:23:25.705 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.705 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (0ms).
2024-01-16 15:23:25.710 +06:00 [INF] No migrations were applied. The database is already up to date.
2024-01-16 15:23:25.710 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 15:23:25.711 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:23:25.712 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-01-16 15:26:00.170 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 15:26:00.255 +06:00 [DBG] Hosting starting
2024-01-16 15:26:00.435 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 15:26:00.436 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 15:26:00.438 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 15:26:00.439 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 15:26:00.440 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 15:26:00.442 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 15:26:00.443 +06:00 [INF] Hosting environment: Development
2024-01-16 15:26:00.445 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 15:26:00.446 +06:00 [DBG] Hosting started
2024-01-16 15:26:50.870 +06:00 [DBG] Connection id "0HN0MEL2K3ORG" accepted.
2024-01-16 15:26:50.874 +06:00 [DBG] Connection id "0HN0MEL2K3ORG" started.
2024-01-16 15:26:50.953 +06:00 [DBG] Connection 0HN0MEL2K3ORG established using the following protocol: "Tls13"
2024-01-16 15:26:51.009 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 15:26:51.017 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 15:26:51.032 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 15:26:51.034 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 15:26:51.037 +06:00 [INF] CORS policy execution successful.
2024-01-16 15:26:51.039 +06:00 [DBG] The request is a preflight request.
2024-01-16 15:26:51.043 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 39.1784ms
2024-01-16 15:26:51.052 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 15:26:51.061 +06:00 [DBG] POST requests are not supported
2024-01-16 15:26:51.063 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 15:26:51.064 +06:00 [INF] CORS policy execution successful.
2024-01-16 15:26:51.093 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 15:26:51.097 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 15:26:51.100 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:26:51.107 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:26:51.140 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 15:26:51.147 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 15:26:51.149 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 15:26:51.151 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 15:26:51.154 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 15:26:51.160 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 15:26:51.165 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:26:51.300 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 15:26:51.524 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:26:51.534 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 15:26:51.539 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 15:26:51.543 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 15:26:51.546 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 15:26:51.555 +06:00 [DBG] Connection id "0HN0MEL2K3ORG", Request id "0HN0MEL2K3ORG:00000003": started reading request body.
2024-01-16 15:26:51.559 +06:00 [DBG] Connection id "0HN0MEL2K3ORG", Request id "0HN0MEL2K3ORG:00000003": done reading request body.
2024-01-16 15:26:51.660 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:26:51.662 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:26:51.665 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 15:26:51.673 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:26:52.445 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 15:26:52.533 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-16 15:26:52.719 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 15:26:52.788 +06:00 [DBG] Creating DbConnection.
2024-01-16 15:26:52.827 +06:00 [DBG] Created DbConnection. (32ms).
2024-01-16 15:26:52.833 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.071 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 15:26:53.076 +06:00 [DBG] POST requests are not supported
2024-01-16 15:26:53.078 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 15:26:53.080 +06:00 [INF] CORS policy execution successful.
2024-01-16 15:26:53.082 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 15:26:53.083 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 15:26:53.085 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:26:53.087 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:26:53.089 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 15:26:53.091 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 15:26:53.093 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 15:26:53.095 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 15:26:53.097 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 15:26:53.099 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 15:26:53.101 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:26:53.104 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:26:53.106 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 15:26:53.108 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 15:26:53.111 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 15:26:53.113 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 15:26:53.115 +06:00 [DBG] Connection id "0HN0MEL2K3ORG", Request id "0HN0MEL2K3ORG:00000005": started reading request body.
2024-01-16 15:26:53.118 +06:00 [DBG] Connection id "0HN0MEL2K3ORG", Request id "0HN0MEL2K3ORG:00000005": done reading request body.
2024-01-16 15:26:53.119 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:26:53.120 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:26:53.123 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 15:26:53.125 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:26:53.140 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.146 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 15:26:53.146 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 15:26:53.154 +06:00 [DBG] Creating DbConnection.
2024-01-16 15:26:53.155 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-16 15:26:53.156 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 15:26:53.159 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.173 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.176 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-01-16 15:26:53.177 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 15:26:53.180 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-01-16 15:26:53.183 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 15:26:53.189 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.189 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.279 +06:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.279 +06:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.302 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.302 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.312 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 21ms reading results.
2024-01-16 15:26:53.313 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 23ms reading results.
2024-01-16 15:26:53.319 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.319 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.327 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (7ms).
2024-01-16 15:26:53.327 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-16 15:26:53.332 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.password == __password_0)'
2024-01-16 15:26:53.336 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.password == @__password_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 15:26:53.339 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.339 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.342 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.342 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.344 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 15:26:53.345 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 15:26:53.347 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-16 15:26:53.349 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-01-16 15:26:53.350 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-01-16 15:26:53.351 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-01-16 15:26:53.353 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.355 +06:00 [DBG] Executing DbCommand [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.362 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.363 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__password_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[password] = @__password_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:26:53.365 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.368 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.369 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 15:26:53.372 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.371 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 3ms reading results.
2024-01-16 15:26:53.373 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 15:26:53.375 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.379 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (3ms).
2024-01-16 15:26:53.383 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 15:26:53.383 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 15:26:53.387 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 15:26:53.388 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 15:26:53.388 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 15:26:53.389 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 15:26:53.390 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 15:26:53.391 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 15:26:53.393 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 15:26:53.393 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 15:26:53.395 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 15:26:53.396 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 15:26:53.442 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 2275.6394ms
2024-01-16 15:26:53.442 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 337.3329ms
2024-01-16 15:26:53.445 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:26:53.445 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:26:53.453 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 15:26:53.453 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 15:26:53.458 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.458 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:26:53.461 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-01-16 15:26:53.463 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-01-16 15:26:53.466 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 2413.583ms
2024-01-16 15:26:53.467 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 396.0129ms
2024-01-16 15:27:06.995 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - null null
2024-01-16 15:27:06.999 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 15:27:07.000 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 15:27:07.001 +06:00 [INF] CORS policy execution successful.
2024-01-16 15:27:07.002 +06:00 [DBG] The request is a preflight request.
2024-01-16 15:27:07.004 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/authenticate - 204 null null 9.3655ms
2024-01-16 15:27:07.007 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/authenticate - application/json 38
2024-01-16 15:27:07.014 +06:00 [DBG] POST requests are not supported
2024-01-16 15:27:07.016 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 15:27:07.018 +06:00 [INF] CORS policy execution successful.
2024-01-16 15:27:07.020 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/authenticate'
2024-01-16 15:27:07.022 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)' with route pattern 'api/users/authenticate' is valid for the request path '/api/users/authenticate'
2024-01-16 15:27:07.025 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:27:07.028 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:27:07.030 +06:00 [INF] Route matched with {action = "Authenticate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CityInfo.API.Models.UserForLoginDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 15:27:07.034 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 15:27:07.037 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 15:27:07.039 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 15:27:07.041 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 15:27:07.044 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 15:27:07.046 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:27:07.052 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:27:07.054 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 15:27:07.056 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' using the name '' in request data ...
2024-01-16 15:27:07.058 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 15:27:07.061 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 15:27:07.063 +06:00 [DBG] Connection id "0HN0MEL2K3ORG", Request id "0HN0MEL2K3ORG:00000009": started reading request body.
2024-01-16 15:27:07.065 +06:00 [DBG] Connection id "0HN0MEL2K3ORG", Request id "0HN0MEL2K3ORG:00000009": done reading request body.
2024-01-16 15:27:07.067 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:27:07.070 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:27:07.072 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto' ...
2024-01-16 15:27:07.074 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForLoginDto'.
2024-01-16 15:27:07.156 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 15:27:07.163 +06:00 [DBG] Creating DbConnection.
2024-01-16 15:27:07.164 +06:00 [DBG] Created DbConnection. (1ms).
2024-01-16 15:27:07.167 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:27:07.170 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:27:07.172 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 15:27:07.174 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-01-16 15:27:07.176 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-01-16 15:27:07.178 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:27:07.200 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:27:07.203 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 15:27:07.205 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 2ms reading results.
2024-01-16 15:27:07.207 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:27:07.209 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (1ms).
2024-01-16 15:27:07.211 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 15:27:07.214 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 15:27:07.215 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 15:27:07.216 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 15:27:07.217 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 15:27:07.218 +06:00 [INF] Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 15:27:07.221 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API) in 174.9315ms
2024-01-16 15:27:07.223 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.Authenticate (CityInfo.API)'
2024-01-16 15:27:07.224 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 15:27:07.226 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:27:07.227 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-01-16 15:27:07.229 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/authenticate - 404 28 application/json; charset=utf-8 222.7918ms
2024-01-16 15:31:07.129 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-01-16 15:31:07.195 +06:00 [DBG] Hosting starting
2024-01-16 15:31:07.300 +06:00 [INF] Now listening on: https://localhost:7156
2024-01-16 15:31:07.301 +06:00 [INF] Now listening on: http://localhost:5062
2024-01-16 15:31:07.303 +06:00 [DBG] Loaded hosting startup assembly CityInfo.API
2024-01-16 15:31:07.304 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-01-16 15:31:07.305 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-01-16 15:31:07.306 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-01-16 15:31:07.307 +06:00 [INF] Hosting environment: Development
2024-01-16 15:31:07.308 +06:00 [INF] Content root path: C:\Users\smriad\Desktop\ASP\cityinfo.API\CityInfo.API
2024-01-16 15:31:07.309 +06:00 [DBG] Hosting started
2024-01-16 15:32:10.756 +06:00 [DBG] Connection id "0HN0MEO1UP4B9" accepted.
2024-01-16 15:32:10.759 +06:00 [DBG] Connection id "0HN0MEO1UP4B9" started.
2024-01-16 15:32:10.828 +06:00 [DBG] Connection 0HN0MEO1UP4B9 established using the following protocol: "Tls13"
2024-01-16 15:32:10.893 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7156/api/users/register - null null
2024-01-16 15:32:10.906 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-01-16 15:32:10.924 +06:00 [DBG] OPTIONS requests are not supported
2024-01-16 15:32:10.927 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 15:32:10.928 +06:00 [INF] CORS policy execution successful.
2024-01-16 15:32:10.930 +06:00 [DBG] The request is a preflight request.
2024-01-16 15:32:10.934 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7156/api/users/register - 204 null null 48.1255ms
2024-01-16 15:32:10.943 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7156/api/users/register - application/json 112
2024-01-16 15:32:10.948 +06:00 [DBG] POST requests are not supported
2024-01-16 15:32:10.950 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-01-16 15:32:10.951 +06:00 [INF] CORS policy execution successful.
2024-01-16 15:32:10.979 +06:00 [DBG] 1 candidate(s) found for the request path '/api/users/register'
2024-01-16 15:32:10.985 +06:00 [DBG] Endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)' with route pattern 'api/users/register' is valid for the request path '/api/users/register'
2024-01-16 15:32:10.991 +06:00 [DBG] Request matched endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-16 15:32:10.997 +06:00 [INF] Executing endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-16 15:32:11.033 +06:00 [INF] Route matched with {action = "RegisterUser", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(CityInfo.API.Models.UserForCreationDto) on controller CityInfo.API.Controllers.UsersController (CityInfo.API).
2024-01-16 15:32:11.041 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-01-16 15:32:11.043 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-01-16 15:32:11.047 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-01-16 15:32:11.051 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-01-16 15:32:11.054 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-01-16 15:32:11.058 +06:00 [DBG] Executing controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:32:11.207 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-01-16 15:32:11.414 +06:00 [DBG] Executed controller factory for controller CityInfo.API.Controllers.UsersController (CityInfo.API)
2024-01-16 15:32:11.422 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-16 15:32:11.427 +06:00 [DBG] Attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' using the name '' in request data ...
2024-01-16 15:32:11.432 +06:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2024-01-16 15:32:11.435 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2024-01-16 15:32:11.445 +06:00 [DBG] Connection id "0HN0MEO1UP4B9", Request id "0HN0MEO1UP4B9:00000003": started reading request body.
2024-01-16 15:32:11.449 +06:00 [DBG] Connection id "0HN0MEO1UP4B9", Request id "0HN0MEO1UP4B9:00000003": done reading request body.
2024-01-16 15:32:11.551 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-16 15:32:11.553 +06:00 [DBG] Done attempting to bind parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-16 15:32:11.554 +06:00 [DBG] Attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto' ...
2024-01-16 15:32:11.579 +06:00 [DBG] Done attempting to validate the bound parameter 'userObj' of type 'CityInfo.API.Models.UserForCreationDto'.
2024-01-16 15:32:18.231 +06:00 [DBG] Entity Framework Core 8.0.0 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.0' with options: None
2024-01-16 15:32:18.340 +06:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(c => c.userName == __userName_0)'
2024-01-16 15:32:18.575 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Users AS u
                WHERE u.userName == @__userName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-01-16 15:32:18.634 +06:00 [DBG] Creating DbConnection.
2024-01-16 15:32:18.660 +06:00 [DBG] Created DbConnection. (22ms).
2024-01-16 15:32:18.665 +06:00 [DBG] Opening connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:32:18.996 +06:00 [DBG] Opened connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:32:19.003 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-01-16 15:32:19.013 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-01-16 15:32:19.029 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-01-16 15:32:19.041 +06:00 [DBG] Executing DbCommand [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:32:19.150 +06:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userName_0='?' (Size = 255) (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[userName] = @__userName_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-01-16 15:32:19.187 +06:00 [DBG] Closing data reader to 'CityInfo' on server 'DPM23153'.
2024-01-16 15:32:19.200 +06:00 [DBG] A data reader for 'CityInfo' on server 'DPM23153' is being disposed after spending 38ms reading results.
2024-01-16 15:32:19.207 +06:00 [DBG] Closing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:32:19.217 +06:00 [DBG] Closed connection to database 'CityInfo' on server 'DPM23153' (9ms).
2024-01-16 15:32:29.950 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2024-01-16 15:32:29.960 +06:00 [DBG] No information found on request to perform content negotiation.
2024-01-16 15:32:29.961 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-01-16 15:32:29.962 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-01-16 15:32:29.965 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2024-01-16 15:32:29.968 +06:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-01-16 15:32:30.028 +06:00 [INF] Executed action CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API) in 18967.0009ms
2024-01-16 15:32:30.032 +06:00 [INF] Executed endpoint 'CityInfo.API.Controllers.UsersController.RegisterUser (CityInfo.API)'
2024-01-16 15:32:30.041 +06:00 [DBG] 'CityInfoContext' disposed.
2024-01-16 15:32:30.046 +06:00 [DBG] Disposing connection to database 'CityInfo' on server 'DPM23153'.
2024-01-16 15:32:30.049 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-01-16 15:32:30.051 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7156/api/users/register - 400 37 application/json; charset=utf-8 19108.1975ms
